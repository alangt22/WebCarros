(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function iI(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kg={exports:{}},vc={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE;function sI(){if(OE)return vc;OE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:t,type:r,key:u,ref:s!==void 0?s:null,props:o}}return vc.Fragment=e,vc.jsx=n,vc.jsxs=n,vc}var DE;function aI(){return DE||(DE=1,kg.exports=sI()),kg.exports}var D=aI(),Mg={exports:{}},ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kE;function oI(){if(kE)return ot;kE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function _(j){return j===null||typeof j!="object"?null:(j=b&&j[b]||j["@@iterator"],typeof j=="function"?j:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,x={};function C(j,oe,Te){this.props=j,this.context=oe,this.refs=x,this.updater=Te||w}C.prototype.isReactComponent={},C.prototype.setState=function(j,oe){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,oe,"setState")},C.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function V(){}V.prototype=C.prototype;function L(j,oe,Te){this.props=j,this.context=oe,this.refs=x,this.updater=Te||w}var $=L.prototype=new V;$.constructor=L,S($,C.prototype),$.isPureReactComponent=!0;var Y=Array.isArray,G={H:null,A:null,T:null,S:null,V:null},F=Object.prototype.hasOwnProperty;function U(j,oe,Te,pe,Ve,et){return Te=et.ref,{$$typeof:t,type:j,key:oe,ref:Te!==void 0?Te:null,props:et}}function R(j,oe){return U(j.type,oe,void 0,void 0,void 0,j.props)}function k(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function P(j){var oe={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(Te){return oe[Te]})}var O=/\/+/g;function M(j,oe){return typeof j=="object"&&j!==null&&j.key!=null?P(""+j.key):oe.toString(36)}function I(){}function ye(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(I,I):(j.status="pending",j.then(function(oe){j.status==="pending"&&(j.status="fulfilled",j.value=oe)},function(oe){j.status==="pending"&&(j.status="rejected",j.reason=oe)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function Ee(j,oe,Te,pe,Ve){var et=typeof j;(et==="undefined"||et==="boolean")&&(j=null);var He=!1;if(j===null)He=!0;else switch(et){case"bigint":case"string":case"number":He=!0;break;case"object":switch(j.$$typeof){case t:case e:He=!0;break;case y:return He=j._init,Ee(He(j._payload),oe,Te,pe,Ve)}}if(He)return Ve=Ve(j),He=pe===""?"."+M(j,0):pe,Y(Ve)?(Te="",He!=null&&(Te=He.replace(O,"$&/")+"/"),Ee(Ve,oe,Te,"",function(qn){return qn})):Ve!=null&&(k(Ve)&&(Ve=R(Ve,Te+(Ve.key==null||j&&j.key===Ve.key?"":(""+Ve.key).replace(O,"$&/")+"/")+He)),oe.push(Ve)),1;He=0;var Kt=pe===""?".":pe+":";if(Y(j))for(var Nt=0;Nt<j.length;Nt++)pe=j[Nt],et=Kt+M(pe,Nt),He+=Ee(pe,oe,Te,et,Ve);else if(Nt=_(j),typeof Nt=="function")for(j=Nt.call(j),Nt=0;!(pe=j.next()).done;)pe=pe.value,et=Kt+M(pe,Nt++),He+=Ee(pe,oe,Te,et,Ve);else if(et==="object"){if(typeof j.then=="function")return Ee(ye(j),oe,Te,pe,Ve);throw oe=String(j),Error("Objects are not valid as a React child (found: "+(oe==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":oe)+"). If you meant to render a collection of children, use an array instead.")}return He}function Q(j,oe,Te){if(j==null)return j;var pe=[],Ve=0;return Ee(j,pe,"","",function(et){return oe.call(Te,et,Ve++)}),pe}function ce(j){if(j._status===-1){var oe=j._result;oe=oe(),oe.then(function(Te){(j._status===0||j._status===-1)&&(j._status=1,j._result=Te)},function(Te){(j._status===0||j._status===-1)&&(j._status=2,j._result=Te)}),j._status===-1&&(j._status=0,j._result=oe)}if(j._status===1)return j._result.default;throw j._result}var ge=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var oe=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(oe))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function Ce(){}return ot.Children={map:Q,forEach:function(j,oe,Te){Q(j,function(){oe.apply(this,arguments)},Te)},count:function(j){var oe=0;return Q(j,function(){oe++}),oe},toArray:function(j){return Q(j,function(oe){return oe})||[]},only:function(j){if(!k(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},ot.Component=C,ot.Fragment=n,ot.Profiler=s,ot.PureComponent=L,ot.StrictMode=r,ot.Suspense=f,ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=G,ot.__COMPILER_RUNTIME={__proto__:null,c:function(j){return G.H.useMemoCache(j)}},ot.cache=function(j){return function(){return j.apply(null,arguments)}},ot.cloneElement=function(j,oe,Te){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var pe=S({},j.props),Ve=j.key,et=void 0;if(oe!=null)for(He in oe.ref!==void 0&&(et=void 0),oe.key!==void 0&&(Ve=""+oe.key),oe)!F.call(oe,He)||He==="key"||He==="__self"||He==="__source"||He==="ref"&&oe.ref===void 0||(pe[He]=oe[He]);var He=arguments.length-2;if(He===1)pe.children=Te;else if(1<He){for(var Kt=Array(He),Nt=0;Nt<He;Nt++)Kt[Nt]=arguments[Nt+2];pe.children=Kt}return U(j.type,Ve,void 0,void 0,et,pe)},ot.createContext=function(j){return j={$$typeof:u,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:o,_context:j},j},ot.createElement=function(j,oe,Te){var pe,Ve={},et=null;if(oe!=null)for(pe in oe.key!==void 0&&(et=""+oe.key),oe)F.call(oe,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(Ve[pe]=oe[pe]);var He=arguments.length-2;if(He===1)Ve.children=Te;else if(1<He){for(var Kt=Array(He),Nt=0;Nt<He;Nt++)Kt[Nt]=arguments[Nt+2];Ve.children=Kt}if(j&&j.defaultProps)for(pe in He=j.defaultProps,He)Ve[pe]===void 0&&(Ve[pe]=He[pe]);return U(j,et,void 0,void 0,null,Ve)},ot.createRef=function(){return{current:null}},ot.forwardRef=function(j){return{$$typeof:d,render:j}},ot.isValidElement=k,ot.lazy=function(j){return{$$typeof:y,_payload:{_status:-1,_result:j},_init:ce}},ot.memo=function(j,oe){return{$$typeof:m,type:j,compare:oe===void 0?null:oe}},ot.startTransition=function(j){var oe=G.T,Te={};G.T=Te;try{var pe=j(),Ve=G.S;Ve!==null&&Ve(Te,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(Ce,ge)}catch(et){ge(et)}finally{G.T=oe}},ot.unstable_useCacheRefresh=function(){return G.H.useCacheRefresh()},ot.use=function(j){return G.H.use(j)},ot.useActionState=function(j,oe,Te){return G.H.useActionState(j,oe,Te)},ot.useCallback=function(j,oe){return G.H.useCallback(j,oe)},ot.useContext=function(j){return G.H.useContext(j)},ot.useDebugValue=function(){},ot.useDeferredValue=function(j,oe){return G.H.useDeferredValue(j,oe)},ot.useEffect=function(j,oe,Te){var pe=G.H;if(typeof Te=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return pe.useEffect(j,oe)},ot.useId=function(){return G.H.useId()},ot.useImperativeHandle=function(j,oe,Te){return G.H.useImperativeHandle(j,oe,Te)},ot.useInsertionEffect=function(j,oe){return G.H.useInsertionEffect(j,oe)},ot.useLayoutEffect=function(j,oe){return G.H.useLayoutEffect(j,oe)},ot.useMemo=function(j,oe){return G.H.useMemo(j,oe)},ot.useOptimistic=function(j,oe){return G.H.useOptimistic(j,oe)},ot.useReducer=function(j,oe,Te){return G.H.useReducer(j,oe,Te)},ot.useRef=function(j){return G.H.useRef(j)},ot.useState=function(j){return G.H.useState(j)},ot.useSyncExternalStore=function(j,oe,Te){return G.H.useSyncExternalStore(j,oe,Te)},ot.useTransition=function(){return G.H.useTransition()},ot.version="19.1.0",ot}var ME;function ev(){return ME||(ME=1,Mg.exports=oI()),Mg.exports}var B=ev();const vt=iI(B);var Pg={exports:{}},_c={},Lg={exports:{}},Vg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PE;function lI(){return PE||(PE=1,function(t){function e(Q,ce){var ge=Q.length;Q.push(ce);e:for(;0<ge;){var Ce=ge-1>>>1,j=Q[Ce];if(0<s(j,ce))Q[Ce]=ce,Q[ge]=j,ge=Ce;else break e}}function n(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var ce=Q[0],ge=Q.pop();if(ge!==ce){Q[0]=ge;e:for(var Ce=0,j=Q.length,oe=j>>>1;Ce<oe;){var Te=2*(Ce+1)-1,pe=Q[Te],Ve=Te+1,et=Q[Ve];if(0>s(pe,ge))Ve<j&&0>s(et,pe)?(Q[Ce]=et,Q[Ve]=ge,Ce=Ve):(Q[Ce]=pe,Q[Te]=ge,Ce=Te);else if(Ve<j&&0>s(et,ge))Q[Ce]=et,Q[Ve]=ge,Ce=Ve;else break e}}return ce}function s(Q,ce){var ge=Q.sortIndex-ce.sortIndex;return ge!==0?ge:Q.id-ce.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();t.unstable_now=function(){return u.now()-d}}var f=[],m=[],y=1,b=null,_=3,w=!1,S=!1,x=!1,C=!1,V=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function Y(Q){for(var ce=n(m);ce!==null;){if(ce.callback===null)r(m);else if(ce.startTime<=Q)r(m),ce.sortIndex=ce.expirationTime,e(f,ce);else break;ce=n(m)}}function G(Q){if(x=!1,Y(Q),!S)if(n(f)!==null)S=!0,F||(F=!0,M());else{var ce=n(m);ce!==null&&Ee(G,ce.startTime-Q)}}var F=!1,U=-1,R=5,k=-1;function P(){return C?!0:!(t.unstable_now()-k<R)}function O(){if(C=!1,F){var Q=t.unstable_now();k=Q;var ce=!0;try{e:{S=!1,x&&(x=!1,L(U),U=-1),w=!0;var ge=_;try{t:{for(Y(Q),b=n(f);b!==null&&!(b.expirationTime>Q&&P());){var Ce=b.callback;if(typeof Ce=="function"){b.callback=null,_=b.priorityLevel;var j=Ce(b.expirationTime<=Q);if(Q=t.unstable_now(),typeof j=="function"){b.callback=j,Y(Q),ce=!0;break t}b===n(f)&&r(f),Y(Q)}else r(f);b=n(f)}if(b!==null)ce=!0;else{var oe=n(m);oe!==null&&Ee(G,oe.startTime-Q),ce=!1}}break e}finally{b=null,_=ge,w=!1}ce=void 0}}finally{ce?M():F=!1}}}var M;if(typeof $=="function")M=function(){$(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ye=I.port2;I.port1.onmessage=O,M=function(){ye.postMessage(null)}}else M=function(){V(O,0)};function Ee(Q,ce){U=V(function(){Q(t.unstable_now())},ce)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_next=function(Q){switch(_){case 1:case 2:case 3:var ce=3;break;default:ce=_}var ge=_;_=ce;try{return Q()}finally{_=ge}},t.unstable_requestPaint=function(){C=!0},t.unstable_runWithPriority=function(Q,ce){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ge=_;_=Q;try{return ce()}finally{_=ge}},t.unstable_scheduleCallback=function(Q,ce,ge){var Ce=t.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ce+ge:Ce):ge=Ce,Q){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=ge+j,Q={id:y++,callback:ce,priorityLevel:Q,startTime:ge,expirationTime:j,sortIndex:-1},ge>Ce?(Q.sortIndex=ge,e(m,Q),n(f)===null&&Q===n(m)&&(x?(L(U),U=-1):x=!0,Ee(G,ge-Ce))):(Q.sortIndex=j,e(f,Q),S||w||(S=!0,F||(F=!0,M()))),Q},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(Q){var ce=_;return function(){var ge=_;_=ce;try{return Q.apply(this,arguments)}finally{_=ge}}}}(Vg)),Vg}var LE;function uI(){return LE||(LE=1,Lg.exports=lI()),Lg.exports}var Ug={exports:{}},Yn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VE;function cI(){if(VE)return Yn;VE=1;var t=ev();function e(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(f,m,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:b==null?null:""+b,children:f,containerInfo:m,implementation:y}}var u=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Yn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Yn.createPortal=function(f,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return o(f,m,null,y)},Yn.flushSync=function(f){var m=u.T,y=r.p;try{if(u.T=null,r.p=2,f)return f()}finally{u.T=m,r.p=y,r.d.f()}},Yn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},Yn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Yn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var y=m.as,b=d(y,m.crossOrigin),_=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:_,fetchPriority:w}):y==="script"&&r.d.X(f,{crossOrigin:b,integrity:_,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Yn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=d(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},Yn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,b=d(y,m.crossOrigin);r.d.L(f,y,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Yn.preloadModule=function(f,m){if(typeof f=="string")if(m){var y=d(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},Yn.requestFormReset=function(f){r.d.r(f)},Yn.unstable_batchedUpdates=function(f,m){return f(m)},Yn.useFormState=function(f,m,y){return u.H.useFormState(f,m,y)},Yn.useFormStatus=function(){return u.H.useHostTransitionStatus()},Yn.version="19.1.0",Yn}var UE;function kS(){if(UE)return Ug.exports;UE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ug.exports=cI(),Ug.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jE;function dI(){if(jE)return _c;jE=1;var t=uI(),e=ev(),n=kS();function r(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)a+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function o(i){var a=i,l=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(l=a.return),i=a.return;while(i)}return a.tag===3?l:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function d(i){if(o(i)!==i)throw Error(r(188))}function f(i){var a=i.alternate;if(!a){if(a=o(i),a===null)throw Error(r(188));return a!==i?null:i}for(var l=i,c=a;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(c=p.return,c!==null){l=c;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return d(p),i;if(g===c)return d(p),a;g=g.sibling}throw Error(r(188))}if(l.return!==c.return)l=p,c=g;else{for(var T=!1,A=p.child;A;){if(A===l){T=!0,l=p,c=g;break}if(A===c){T=!0,c=p,l=g;break}A=A.sibling}if(!T){for(A=g.child;A;){if(A===l){T=!0,l=g,c=p;break}if(A===c){T=!0,c=g,l=p;break}A=A.sibling}if(!T)throw Error(r(189))}}if(l.alternate!==c)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?i:a}function m(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=m(i),a!==null)return a;i=i.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),_=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),L=Symbol.for("react.consumer"),$=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),G=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),k=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function M(i){return i===null||typeof i!="object"?null:(i=O&&i[O]||i["@@iterator"],typeof i=="function"?i:null)}var I=Symbol.for("react.client.reference");function ye(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===I?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case C:return"Profiler";case x:return"StrictMode";case G:return"Suspense";case F:return"SuspenseList";case k:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case w:return"Portal";case $:return(i.displayName||"Context")+".Provider";case L:return(i._context.displayName||"Context")+".Consumer";case Y:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case U:return a=i.displayName||null,a!==null?a:ye(i.type)||"Memo";case R:a=i._payload,i=i._init;try{return ye(i(a))}catch{}}return null}var Ee=Array.isArray,Q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ce=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},Ce=[],j=-1;function oe(i){return{current:i}}function Te(i){0>j||(i.current=Ce[j],Ce[j]=null,j--)}function pe(i,a){j++,Ce[j]=i.current,i.current=a}var Ve=oe(null),et=oe(null),He=oe(null),Kt=oe(null);function Nt(i,a){switch(pe(He,a),pe(et,i),pe(Ve,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?sE(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=sE(a),i=aE(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Te(Ve),pe(Ve,i)}function qn(){Te(Ve),Te(et),Te(He)}function Ft(i){i.memoizedState!==null&&pe(Kt,i);var a=Ve.current,l=aE(a,i.type);a!==l&&(pe(et,i),pe(Ve,l))}function An(i){et.current===i&&(Te(Ve),Te(et)),Kt.current===i&&(Te(Kt),hc._currentValue=ge)}var wr=Object.prototype.hasOwnProperty,li=t.unstable_scheduleCallback,xn=t.unstable_cancelCallback,Si=t.unstable_shouldYield,Bs=t.unstable_requestPaint,Mn=t.unstable_now,Wo=t.unstable_getCurrentPriorityLevel,Ai=t.unstable_ImmediatePriority,H=t.unstable_UserBlockingPriority,ne=t.unstable_NormalPriority,ae=t.unstable_LowPriority,xe=t.unstable_IdlePriority,Se=t.log,_e=t.unstable_setDisableYieldValue,we=null,Ne=null;function st(i){if(typeof Se=="function"&&_e(i),Ne&&typeof Ne.setStrictMode=="function")try{Ne.setStrictMode(we,i)}catch{}}var At=Math.clz32?Math.clz32:Fr,ui=Math.log,nn=Math.LN2;function Fr(i){return i>>>=0,i===0?32:31-(ui(i)/nn|0)|0}var fr=256,hr=4194304;function er(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function $r(i,a,l){var c=i.pendingLanes;if(c===0)return 0;var p=0,g=i.suspendedLanes,T=i.pingedLanes;i=i.warmLanes;var A=c&134217727;return A!==0?(c=A&~g,c!==0?p=er(c):(T&=A,T!==0?p=er(T):l||(l=A&~i,l!==0&&(p=er(l))))):(A=c&~g,A!==0?p=er(A):T!==0?p=er(T):l||(l=c&~i,l!==0&&(p=er(l)))),p===0?0:a!==0&&a!==p&&(a&g)===0&&(g=p&-p,l=a&-a,g>=l||g===32&&(l&4194048)!==0)?a:p}function mr(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function ci(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rs(){var i=fr;return fr<<=1,(fr&4194048)===0&&(fr=256),i}function Wa(){var i=hr;return hr<<=1,(hr&62914560)===0&&(hr=4194304),i}function Hr(i){for(var a=[],l=0;31>l;l++)a.push(i);return a}function di(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Fs(i,a,l,c,p,g){var T=i.pendingLanes;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=l,i.entangledLanes&=l,i.errorRecoveryDisabledLanes&=l,i.shellSuspendCounter=0;var A=i.entanglements,z=i.expirationTimes,te=i.hiddenUpdates;for(l=T&~l;0<l;){var le=31-At(l),fe=1<<le;A[le]=0,z[le]=-1;var re=te[le];if(re!==null)for(te[le]=null,le=0;le<re.length;le++){var ie=re[le];ie!==null&&(ie.lane&=-536870913)}l&=~fe}c!==0&&tr(i,c,0),g!==0&&p===0&&i.tag!==0&&(i.suspendedLanes|=g&~(T&~a))}function tr(i,a,l){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-At(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|l&4194090}function xi(i,a){var l=i.entangledLanes|=a;for(i=i.entanglements;l;){var c=31-At(l),p=1<<c;p&a|i[c]&a&&(i[c]|=a),l&=~p}}function Ci(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function $s(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function q(){var i=ce.p;return i!==0?i:(i=window.event,i===void 0?32:AE(i.type))}function W(i,a){var l=ce.p;try{return ce.p=i,a()}finally{ce.p=l}}var ee=Math.random().toString(36).slice(2),de="__reactFiber$"+ee,ve="__reactProps$"+ee,Oe="__reactContainer$"+ee,Ge="__reactEvents$"+ee,Me="__reactListeners$"+ee,Ue="__reactHandles$"+ee,Fe="__reactResources$"+ee,Ke="__reactMarker$"+ee;function je(i){delete i[de],delete i[ve],delete i[Ge],delete i[Me],delete i[Ue]}function Qe(i){var a=i[de];if(a)return a;for(var l=i.parentNode;l;){if(a=l[Oe]||l[de]){if(l=a.alternate,a.child!==null||l!==null&&l.child!==null)for(i=cE(i);i!==null;){if(l=i[de])return l;i=cE(i)}return a}i=l,l=i.parentNode}return null}function mt(i){if(i=i[de]||i[Oe]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function Dt(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(r(33))}function Ct(i){var a=i[Fe];return a||(a=i[Fe]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function bt(i){i[Ke]=!0}var ct=new Set,qr={};function yn(i,a){nr(i,a),nr(i+"Capture",a)}function nr(i,a){for(qr[i]=a,i=0;i<a.length;i++)ct.add(a[i])}var Pn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ri={},Sr={};function Hs(i){return wr.call(Sr,i)?!0:wr.call(Ri,i)?!1:Pn.test(i)?Sr[i]=!0:(Ri[i]=!0,!1)}function Gn(i,a,l){if(Hs(a))if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+l)}}function rr(i,a,l){if(l===null)i.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+l)}}function tt(i,a,l,c){if(c===null)i.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(l);return}i.setAttributeNS(a,l,""+c)}}var un,Ar;function pr(i){if(un===void 0)try{throw Error()}catch(l){var a=l.stack.trim().match(/\n( *(at )?)/);un=a&&a[1]||"",Ar=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+un+i+Ar}var Ii=!1;function $t(i,a){if(!i||Ii)return"";Ii=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var fe=function(){throw Error()};if(Object.defineProperty(fe.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(fe,[])}catch(ie){var re=ie}Reflect.construct(i,[],fe)}else{try{fe.call()}catch(ie){re=ie}i.call(fe.prototype)}}else{try{throw Error()}catch(ie){re=ie}(fe=i())&&typeof fe.catch=="function"&&fe.catch(function(){})}}catch(ie){if(ie&&re&&typeof ie.stack=="string")return[ie.stack,re.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),T=g[0],A=g[1];if(T&&A){var z=T.split(`
`),te=A.split(`
`);for(p=c=0;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;for(;p<te.length&&!te[p].includes("DetermineComponentFrameRoot");)p++;if(c===z.length||p===te.length)for(c=z.length-1,p=te.length-1;1<=c&&0<=p&&z[c]!==te[p];)p--;for(;1<=c&&0<=p;c--,p--)if(z[c]!==te[p]){if(c!==1||p!==1)do if(c--,p--,0>p||z[c]!==te[p]){var le=`
`+z[c].replace(" at new "," at ");return i.displayName&&le.includes("<anonymous>")&&(le=le.replace("<anonymous>",i.displayName)),le}while(1<=c&&0<=p);break}}}finally{Ii=!1,Error.prepareStackTrace=l}return(l=i?i.displayName||i.name:"")?pr(l):""}function Gr(i){switch(i.tag){case 26:case 27:case 5:return pr(i.type);case 16:return pr("Lazy");case 13:return pr("Suspense");case 19:return pr("SuspenseList");case 0:case 15:return $t(i.type,!1);case 11:return $t(i.type.render,!1);case 1:return $t(i.type,!0);case 31:return pr("Activity");default:return""}}function is(i){try{var a="";do a+=Gr(i),i=i.return;while(i);return a}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function Ln(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Eu(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Vm(i){var a=Eu(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),c=""+i[a];if(!i.hasOwnProperty(a)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var p=l.get,g=l.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return p.call(this)},set:function(T){c=""+T,g.call(this,T)}}),Object.defineProperty(i,a,{enumerable:l.enumerable}),{getValue:function(){return c},setValue:function(T){c=""+T},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Zo(i){i._valueTracker||(i._valueTracker=Vm(i))}function Tu(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var l=a.getValue(),c="";return i&&(c=Eu(i)?i.checked?"true":"false":i.value),i=c,i!==l?(a.setValue(i),!0):!1}function Za(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var Um=/[\n"\\]/g;function cn(i){return i.replace(Um,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function xr(i,a,l,c,p,g,T,A){i.name="",T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?i.type=T:i.removeAttribute("type"),a!=null?T==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Ln(a)):i.value!==""+Ln(a)&&(i.value=""+Ln(a)):T!=="submit"&&T!=="reset"||i.removeAttribute("value"),a!=null?qs(i,T,Ln(a)):l!=null?qs(i,T,Ln(l)):c!=null&&i.removeAttribute("value"),p==null&&g!=null&&(i.defaultChecked=!!g),p!=null&&(i.checked=p&&typeof p!="function"&&typeof p!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.name=""+Ln(A):i.removeAttribute("name")}function Ja(i,a,l,c,p,g,T,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(i.type=g),a!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||a!=null))return;l=l!=null?""+Ln(l):"",a=a!=null?""+Ln(a):l,A||a===i.value||(i.value=a),i.defaultValue=a}c=c??p,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=A?i.checked:!!c,i.defaultChecked=!!c,T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"&&(i.name=T)}function qs(i,a,l){a==="number"&&Za(i.ownerDocument)===i||i.defaultValue===""+l||(i.defaultValue=""+l)}function ss(i,a,l,c){if(i=i.options,a){a={};for(var p=0;p<l.length;p++)a["$"+l[p]]=!0;for(l=0;l<i.length;l++)p=a.hasOwnProperty("$"+i[l].value),i[l].selected!==p&&(i[l].selected=p),p&&c&&(i[l].defaultSelected=!0)}else{for(l=""+Ln(l),a=null,p=0;p<i.length;p++){if(i[p].value===l){i[p].selected=!0,c&&(i[p].defaultSelected=!0);return}a!==null||i[p].disabled||(a=i[p])}a!==null&&(a.selected=!0)}}function Vt(i,a,l){if(a!=null&&(a=""+Ln(a),a!==i.value&&(i.value=a),l==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=l!=null?""+Ln(l):""}function eo(i,a,l,c){if(a==null){if(c!=null){if(l!=null)throw Error(r(92));if(Ee(c)){if(1<c.length)throw Error(r(93));c=c[0]}l=c}l==null&&(l=""),a=l}l=Ln(a),i.defaultValue=l,c=i.textContent,c===l&&c!==""&&c!==null&&(i.value=c)}function Kr(i,a){if(a){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=a;return}}i.textContent=a}var to=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cd(i,a,l){var c=a.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,l):typeof l!="number"||l===0||to.has(a)?a==="float"?i.cssFloat=l:i[a]=(""+l).trim():i[a]=l+"px"}function wu(i,a,l){if(a!=null&&typeof a!="object")throw Error(r(62));if(i=i.style,l!=null){for(var c in l)!l.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var p in a)c=a[p],a.hasOwnProperty(p)&&l[p]!==c&&Cd(i,p,c)}else for(var g in a)a.hasOwnProperty(g)&&Cd(i,g,a[g])}function Su(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),zm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jo(i){return zm.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var as=null;function Yr(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var os=null,ls=null;function Au(i){var a=mt(i);if(a&&(i=a.stateNode)){var l=i[ve]||null;e:switch(i=a.stateNode,a.type){case"input":if(xr(i,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),a=l.name,l.type==="radio"&&a!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+cn(""+a)+'"][type="radio"]'),a=0;a<l.length;a++){var c=l[a];if(c!==i&&c.form===i.form){var p=c[ve]||null;if(!p)throw Error(r(90));xr(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(a=0;a<l.length;a++)c=l[a],c.form===i.form&&Tu(c)}break e;case"textarea":Vt(i,l.value,l.defaultValue);break e;case"select":a=l.value,a!=null&&ss(i,!!l.multiple,a,!1)}}}var Ni=!1;function Rd(i,a,l){if(Ni)return i(a,l);Ni=!0;try{var c=i(a);return c}finally{if(Ni=!1,(os!==null||ls!==null)&&(Tf(),os&&(a=os,i=ls,ls=os=null,Au(a),i)))for(a=0;a<i.length;a++)Au(i[a])}}function no(i,a){var l=i.stateNode;if(l===null)return null;var c=l[ve]||null;if(c===null)return null;l=c[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(r(231,a,typeof l));return l}var fi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qr=!1;if(fi)try{var ro={};Object.defineProperty(ro,"passive",{get:function(){Qr=!0}}),window.addEventListener("test",ro,ro),window.removeEventListener("test",ro,ro)}catch{Qr=!1}var Oi=null,Gs=null,us=null;function xu(){if(us)return us;var i,a=Gs,l=a.length,c,p="value"in Oi?Oi.value:Oi.textContent,g=p.length;for(i=0;i<l&&a[i]===p[i];i++);var T=l-i;for(c=1;c<=T&&a[l-c]===p[g-c];c++);return us=p.slice(i,1<c?1-c:void 0)}function Di(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function ki(){return!0}function Cu(){return!1}function Cn(i){function a(l,c,p,g,T){this._reactName=l,this._targetInst=p,this.type=c,this.nativeEvent=g,this.target=T,this.currentTarget=null;for(var A in i)i.hasOwnProperty(A)&&(l=i[A],this[A]=l?l(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?ki:Cu,this.isPropagationStopped=Cu,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),a}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},el=Cn(kt),io=y({},kt,{view:0,detail:0}),Id=Cn(io),tl,nl,Mi,so=y({},io,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lo,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Mi&&(Mi&&i.type==="mousemove"?(tl=i.screenX-Mi.screenX,nl=i.screenY-Mi.screenY):nl=tl=0,Mi=i),tl)},movementY:function(i){return"movementY"in i?i.movementY:nl}}),Xr=Cn(so),Nd=y({},so,{dataTransfer:0}),Bm=Cn(Nd),ao=y({},io,{relatedTarget:0}),rl=Cn(ao),Ru=y({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),il=Cn(Ru),Od=y({},kt,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),sl=Cn(Od),Fm=y({},kt,{data:0}),Iu=Cn(Fm),oo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nu(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=kd[i])?!!a[i]:!1}function lo(){return Nu}var Md=y({},io,{key:function(i){if(i.key){var a=oo[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Di(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?Dd[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lo,charCode:function(i){return i.type==="keypress"?Di(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Di(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),al=Cn(Md),Pd=y({},so,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ou=Cn(Pd),cs=y({},io,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lo}),Ld=Cn(cs),Vd=y({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ud=Cn(Vd),jd=y({},so,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ol=Cn(jd),ir=y({},kt,{newState:0,oldState:0}),zd=Cn(ir),Bd=[9,13,27,32],Pi=fi&&"CompositionEvent"in window,h=null;fi&&"documentMode"in document&&(h=document.documentMode);var v=fi&&"TextEvent"in window&&!h,E=fi&&(!Pi||h&&8<h&&11>=h),N=" ",Z=!1;function se(i,a){switch(i){case"keyup":return Bd.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ae(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Et=!1;function vn(i,a){switch(i){case"compositionend":return Ae(a);case"keypress":return a.which!==32?null:(Z=!0,N);case"textInput":return i=a.data,i===N&&Z?null:i;default:return null}}function Tt(i,a){if(Et)return i==="compositionend"||!Pi&&se(i,a)?(i=xu(),us=Gs=Oi=null,Et=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return E&&a.locale!=="ko"?null:a.data;default:return null}}var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _n(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!Rn[i.type]:a==="textarea"}function ds(i,a,l,c){os?ls?ls.push(c):ls=[c]:os=c,a=Rf(a,"onChange"),0<a.length&&(l=new el("onChange","change",null,l,c),i.push({event:l,listeners:a}))}var Vn=null,Li=null;function Du(i){eE(i,0)}function Fd(i){var a=Dt(i);if(Tu(a))return i}function E_(i,a){if(i==="change")return a}var T_=!1;if(fi){var $m;if(fi){var Hm="oninput"in document;if(!Hm){var w_=document.createElement("div");w_.setAttribute("oninput","return;"),Hm=typeof w_.oninput=="function"}$m=Hm}else $m=!1;T_=$m&&(!document.documentMode||9<document.documentMode)}function S_(){Vn&&(Vn.detachEvent("onpropertychange",A_),Li=Vn=null)}function A_(i){if(i.propertyName==="value"&&Fd(Li)){var a=[];ds(a,Li,i,Yr(i)),Rd(Du,a)}}function MC(i,a,l){i==="focusin"?(S_(),Vn=a,Li=l,Vn.attachEvent("onpropertychange",A_)):i==="focusout"&&S_()}function PC(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Fd(Li)}function LC(i,a){if(i==="click")return Fd(a)}function VC(i,a){if(i==="input"||i==="change")return Fd(a)}function UC(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Cr=typeof Object.is=="function"?Object.is:UC;function ku(i,a){if(Cr(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var l=Object.keys(i),c=Object.keys(a);if(l.length!==c.length)return!1;for(c=0;c<l.length;c++){var p=l[c];if(!wr.call(a,p)||!Cr(i[p],a[p]))return!1}return!0}function x_(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function C_(i,a){var l=x_(i);i=0;for(var c;l;){if(l.nodeType===3){if(c=i+l.textContent.length,i<=a&&c>=a)return{node:l,offset:a-i};i=c}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=x_(l)}}function R_(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?R_(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function I_(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Za(i.document);a instanceof i.HTMLIFrameElement;){try{var l=typeof a.contentWindow.location.href=="string"}catch{l=!1}if(l)i=a.contentWindow;else break;a=Za(i.document)}return a}function qm(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var jC=fi&&"documentMode"in document&&11>=document.documentMode,ll=null,Gm=null,Mu=null,Km=!1;function N_(i,a,l){var c=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Km||ll==null||ll!==Za(c)||(c=ll,"selectionStart"in c&&qm(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Mu&&ku(Mu,c)||(Mu=c,c=Rf(Gm,"onSelect"),0<c.length&&(a=new el("onSelect","select",null,a,l),i.push({event:a,listeners:c}),a.target=ll)))}function uo(i,a){var l={};return l[i.toLowerCase()]=a.toLowerCase(),l["Webkit"+i]="webkit"+a,l["Moz"+i]="moz"+a,l}var ul={animationend:uo("Animation","AnimationEnd"),animationiteration:uo("Animation","AnimationIteration"),animationstart:uo("Animation","AnimationStart"),transitionrun:uo("Transition","TransitionRun"),transitionstart:uo("Transition","TransitionStart"),transitioncancel:uo("Transition","TransitionCancel"),transitionend:uo("Transition","TransitionEnd")},Ym={},O_={};fi&&(O_=document.createElement("div").style,"AnimationEvent"in window||(delete ul.animationend.animation,delete ul.animationiteration.animation,delete ul.animationstart.animation),"TransitionEvent"in window||delete ul.transitionend.transition);function co(i){if(Ym[i])return Ym[i];if(!ul[i])return i;var a=ul[i],l;for(l in a)if(a.hasOwnProperty(l)&&l in O_)return Ym[i]=a[l];return i}var D_=co("animationend"),k_=co("animationiteration"),M_=co("animationstart"),zC=co("transitionrun"),BC=co("transitionstart"),FC=co("transitioncancel"),P_=co("transitionend"),L_=new Map,Qm="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Qm.push("scrollEnd");function hi(i,a){L_.set(i,a),yn(a,[i])}var V_=new WeakMap;function Wr(i,a){if(typeof i=="object"&&i!==null){var l=V_.get(i);return l!==void 0?l:(a={value:i,source:a,stack:is(a)},V_.set(i,a),a)}return{value:i,source:a,stack:is(a)}}var Zr=[],cl=0,Xm=0;function $d(){for(var i=cl,a=Xm=cl=0;a<i;){var l=Zr[a];Zr[a++]=null;var c=Zr[a];Zr[a++]=null;var p=Zr[a];Zr[a++]=null;var g=Zr[a];if(Zr[a++]=null,c!==null&&p!==null){var T=c.pending;T===null?p.next=p:(p.next=T.next,T.next=p),c.pending=p}g!==0&&U_(l,p,g)}}function Hd(i,a,l,c){Zr[cl++]=i,Zr[cl++]=a,Zr[cl++]=l,Zr[cl++]=c,Xm|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Wm(i,a,l,c){return Hd(i,a,l,c),qd(i)}function dl(i,a){return Hd(i,null,null,a),qd(i)}function U_(i,a,l){i.lanes|=l;var c=i.alternate;c!==null&&(c.lanes|=l);for(var p=!1,g=i.return;g!==null;)g.childLanes|=l,c=g.alternate,c!==null&&(c.childLanes|=l),g.tag===22&&(i=g.stateNode,i===null||i._visibility&1||(p=!0)),i=g,g=g.return;return i.tag===3?(g=i.stateNode,p&&a!==null&&(p=31-At(l),i=g.hiddenUpdates,c=i[p],c===null?i[p]=[a]:c.push(a),a.lane=l|536870912),g):null}function qd(i){if(50<sc)throw sc=0,rg=null,Error(r(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var fl={};function $C(i,a,l,c){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rr(i,a,l,c){return new $C(i,a,l,c)}function Zm(i){return i=i.prototype,!(!i||!i.isReactComponent)}function fs(i,a){var l=i.alternate;return l===null?(l=Rr(i.tag,a,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=a,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&65011712,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,a=i.dependencies,l.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l.refCleanup=i.refCleanup,l}function j_(i,a){i.flags&=65011714;var l=i.alternate;return l===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,a=l.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Gd(i,a,l,c,p,g){var T=0;if(c=i,typeof i=="function")Zm(i)&&(T=1);else if(typeof i=="string")T=qR(i,l,Ve.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case k:return i=Rr(31,l,a,p),i.elementType=k,i.lanes=g,i;case S:return fo(l.children,p,g,a);case x:T=8,p|=24;break;case C:return i=Rr(12,l,a,p|2),i.elementType=C,i.lanes=g,i;case G:return i=Rr(13,l,a,p),i.elementType=G,i.lanes=g,i;case F:return i=Rr(19,l,a,p),i.elementType=F,i.lanes=g,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:case $:T=10;break e;case L:T=9;break e;case Y:T=11;break e;case U:T=14;break e;case R:T=16,c=null;break e}T=29,l=Error(r(130,i===null?"null":typeof i,"")),c=null}return a=Rr(T,l,a,p),a.elementType=i,a.type=c,a.lanes=g,a}function fo(i,a,l,c){return i=Rr(7,i,c,a),i.lanes=l,i}function Jm(i,a,l){return i=Rr(6,i,null,a),i.lanes=l,i}function ep(i,a,l){return a=Rr(4,i.children!==null?i.children:[],i.key,a),a.lanes=l,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var hl=[],ml=0,Kd=null,Yd=0,Jr=[],ei=0,ho=null,hs=1,ms="";function mo(i,a){hl[ml++]=Yd,hl[ml++]=Kd,Kd=i,Yd=a}function z_(i,a,l){Jr[ei++]=hs,Jr[ei++]=ms,Jr[ei++]=ho,ho=i;var c=hs;i=ms;var p=32-At(c)-1;c&=~(1<<p),l+=1;var g=32-At(a)+p;if(30<g){var T=p-p%5;g=(c&(1<<T)-1).toString(32),c>>=T,p-=T,hs=1<<32-At(a)+p|l<<p|c,ms=g+i}else hs=1<<g|l<<p|c,ms=i}function tp(i){i.return!==null&&(mo(i,1),z_(i,1,0))}function np(i){for(;i===Kd;)Kd=hl[--ml],hl[ml]=null,Yd=hl[--ml],hl[ml]=null;for(;i===ho;)ho=Jr[--ei],Jr[ei]=null,ms=Jr[--ei],Jr[ei]=null,hs=Jr[--ei],Jr[ei]=null}var sr=null,Zt=null,Ot=!1,po=null,Vi=!1,rp=Error(r(519));function go(i){var a=Error(r(418,""));throw Vu(Wr(a,i)),rp}function B_(i){var a=i.stateNode,l=i.type,c=i.memoizedProps;switch(a[de]=i,a[ve]=c,l){case"dialog":gt("cancel",a),gt("close",a);break;case"iframe":case"object":case"embed":gt("load",a);break;case"video":case"audio":for(l=0;l<oc.length;l++)gt(oc[l],a);break;case"source":gt("error",a);break;case"img":case"image":case"link":gt("error",a),gt("load",a);break;case"details":gt("toggle",a);break;case"input":gt("invalid",a),Ja(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Zo(a);break;case"select":gt("invalid",a);break;case"textarea":gt("invalid",a),eo(a,c.value,c.defaultValue,c.children),Zo(a)}l=c.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||a.textContent===""+l||c.suppressHydrationWarning===!0||iE(a.textContent,l)?(c.popover!=null&&(gt("beforetoggle",a),gt("toggle",a)),c.onScroll!=null&&gt("scroll",a),c.onScrollEnd!=null&&gt("scrollend",a),c.onClick!=null&&(a.onclick=If),a=!0):a=!1,a||go(i)}function F_(i){for(sr=i.return;sr;)switch(sr.tag){case 5:case 13:Vi=!1;return;case 27:case 3:Vi=!0;return;default:sr=sr.return}}function Pu(i){if(i!==sr)return!1;if(!Ot)return F_(i),Ot=!0,!1;var a=i.tag,l;if((l=a!==3&&a!==27)&&((l=a===5)&&(l=i.type,l=!(l!=="form"&&l!=="button")||_g(i.type,i.memoizedProps)),l=!l),l&&Zt&&go(i),F_(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(l=i.data,l==="/$"){if(a===0){Zt=pi(i.nextSibling);break e}a--}else l!=="$"&&l!=="$!"&&l!=="$?"||a++;i=i.nextSibling}Zt=null}}else a===27?(a=Zt,la(i.type)?(i=wg,wg=null,Zt=i):Zt=a):Zt=sr?pi(i.stateNode.nextSibling):null;return!0}function Lu(){Zt=sr=null,Ot=!1}function $_(){var i=po;return i!==null&&(vr===null?vr=i:vr.push.apply(vr,i),po=null),i}function Vu(i){po===null?po=[i]:po.push(i)}var ip=oe(null),yo=null,ps=null;function Ks(i,a,l){pe(ip,a._currentValue),a._currentValue=l}function gs(i){i._currentValue=ip.current,Te(ip)}function sp(i,a,l){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===l)break;i=i.return}}function ap(i,a,l,c){var p=i.child;for(p!==null&&(p.return=i);p!==null;){var g=p.dependencies;if(g!==null){var T=p.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=p;for(var z=0;z<a.length;z++)if(A.context===a[z]){g.lanes|=l,A=g.alternate,A!==null&&(A.lanes|=l),sp(g.return,l,i),c||(T=null);break e}g=A.next}}else if(p.tag===18){if(T=p.return,T===null)throw Error(r(341));T.lanes|=l,g=T.alternate,g!==null&&(g.lanes|=l),sp(T,l,i),T=null}else T=p.child;if(T!==null)T.return=p;else for(T=p;T!==null;){if(T===i){T=null;break}if(p=T.sibling,p!==null){p.return=T.return,T=p;break}T=T.return}p=T}}function Uu(i,a,l,c){i=null;for(var p=a,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var T=p.alternate;if(T===null)throw Error(r(387));if(T=T.memoizedProps,T!==null){var A=p.type;Cr(p.pendingProps.value,T.value)||(i!==null?i.push(A):i=[A])}}else if(p===Kt.current){if(T=p.alternate,T===null)throw Error(r(387));T.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(i!==null?i.push(hc):i=[hc])}p=p.return}i!==null&&ap(a,i,l,c),a.flags|=262144}function Qd(i){for(i=i.firstContext;i!==null;){if(!Cr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function vo(i){yo=i,ps=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Kn(i){return H_(yo,i)}function Xd(i,a){return yo===null&&vo(i),H_(i,a)}function H_(i,a){var l=a._currentValue;if(a={context:a,memoizedValue:l,next:null},ps===null){if(i===null)throw Error(r(308));ps=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else ps=ps.next=a;return l}var HC=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(l,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(l){return l()})}},qC=t.unstable_scheduleCallback,GC=t.unstable_NormalPriority,bn={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function op(){return{controller:new HC,data:new Map,refCount:0}}function ju(i){i.refCount--,i.refCount===0&&qC(GC,function(){i.controller.abort()})}var zu=null,lp=0,pl=0,gl=null;function KC(i,a){if(zu===null){var l=zu=[];lp=0,pl=cg(),gl={status:"pending",value:void 0,then:function(c){l.push(c)}}}return lp++,a.then(q_,q_),a}function q_(){if(--lp===0&&zu!==null){gl!==null&&(gl.status="fulfilled");var i=zu;zu=null,pl=0,gl=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function YC(i,a){var l=[],c={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var p=0;p<l.length;p++)(0,l[p])(a)},function(p){for(c.status="rejected",c.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),c}var G_=Q.S;Q.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&KC(i,a),G_!==null&&G_(i,a)};var _o=oe(null);function up(){var i=_o.current;return i!==null?i:qt.pooledCache}function Wd(i,a){a===null?pe(_o,_o.current):pe(_o,a.pool)}function K_(){var i=up();return i===null?null:{parent:bn._currentValue,pool:i}}var Bu=Error(r(460)),Y_=Error(r(474)),Zd=Error(r(542)),cp={then:function(){}};function Q_(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Jd(){}function X_(i,a,l){switch(l=i[l],l===void 0?i.push(a):l!==a&&(a.then(Jd,Jd),a=l),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Z_(i),i;default:if(typeof a.status=="string")a.then(Jd,Jd);else{if(i=qt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var p=a;p.status="fulfilled",p.value=c}},function(c){if(a.status==="pending"){var p=a;p.status="rejected",p.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Z_(i),i}throw Fu=a,Bu}}var Fu=null;function W_(){if(Fu===null)throw Error(r(459));var i=Fu;return Fu=null,i}function Z_(i){if(i===Bu||i===Zd)throw Error(r(483))}var Ys=!1;function dp(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fp(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Qs(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Xs(i,a,l){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Pt&2)!==0){var p=c.pending;return p===null?a.next=a:(a.next=p.next,p.next=a),c.pending=a,a=qd(i),U_(i,null,l),a}return Hd(i,c,a,l),qd(i)}function $u(i,a,l){if(a=a.updateQueue,a!==null&&(a=a.shared,(l&4194048)!==0)){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,xi(i,l)}}function hp(i,a){var l=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,l===c)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var T={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?p=g=T:g=g.next=T,l=l.next}while(l!==null);g===null?p=g=a:g=g.next=a}else p=g=a;l={baseState:c.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=a:i.next=a,l.lastBaseUpdate=a}var mp=!1;function Hu(){if(mp){var i=gl;if(i!==null)throw i}}function qu(i,a,l,c){mp=!1;var p=i.updateQueue;Ys=!1;var g=p.firstBaseUpdate,T=p.lastBaseUpdate,A=p.shared.pending;if(A!==null){p.shared.pending=null;var z=A,te=z.next;z.next=null,T===null?g=te:T.next=te,T=z;var le=i.alternate;le!==null&&(le=le.updateQueue,A=le.lastBaseUpdate,A!==T&&(A===null?le.firstBaseUpdate=te:A.next=te,le.lastBaseUpdate=z))}if(g!==null){var fe=p.baseState;T=0,le=te=z=null,A=g;do{var re=A.lane&-536870913,ie=re!==A.lane;if(ie?(wt&re)===re:(c&re)===re){re!==0&&re===pl&&(mp=!0),le!==null&&(le=le.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var Je=i,Ye=A;re=a;var zt=l;switch(Ye.tag){case 1:if(Je=Ye.payload,typeof Je=="function"){fe=Je.call(zt,fe,re);break e}fe=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=Ye.payload,re=typeof Je=="function"?Je.call(zt,fe,re):Je,re==null)break e;fe=y({},fe,re);break e;case 2:Ys=!0}}re=A.callback,re!==null&&(i.flags|=64,ie&&(i.flags|=8192),ie=p.callbacks,ie===null?p.callbacks=[re]:ie.push(re))}else ie={lane:re,tag:A.tag,payload:A.payload,callback:A.callback,next:null},le===null?(te=le=ie,z=fe):le=le.next=ie,T|=re;if(A=A.next,A===null){if(A=p.shared.pending,A===null)break;ie=A,A=ie.next,ie.next=null,p.lastBaseUpdate=ie,p.shared.pending=null}}while(!0);le===null&&(z=fe),p.baseState=z,p.firstBaseUpdate=te,p.lastBaseUpdate=le,g===null&&(p.shared.lanes=0),ia|=T,i.lanes=T,i.memoizedState=fe}}function J_(i,a){if(typeof i!="function")throw Error(r(191,i));i.call(a)}function e0(i,a){var l=i.callbacks;if(l!==null)for(i.callbacks=null,i=0;i<l.length;i++)J_(l[i],a)}var yl=oe(null),ef=oe(0);function t0(i,a){i=ws,pe(ef,i),pe(yl,a),ws=i|a.baseLanes}function pp(){pe(ef,ws),pe(yl,yl.current)}function gp(){ws=ef.current,Te(yl),Te(ef)}var Ws=0,lt=null,Ut=null,dn=null,tf=!1,vl=!1,bo=!1,nf=0,Gu=0,_l=null,QC=0;function rn(){throw Error(r(321))}function yp(i,a){if(a===null)return!1;for(var l=0;l<a.length&&l<i.length;l++)if(!Cr(i[l],a[l]))return!1;return!0}function vp(i,a,l,c,p,g){return Ws=g,lt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Q.H=i===null||i.memoizedState===null?U0:j0,bo=!1,g=l(c,p),bo=!1,vl&&(g=r0(a,l,c,p)),n0(i),g}function n0(i){Q.H=uf;var a=Ut!==null&&Ut.next!==null;if(Ws=0,dn=Ut=lt=null,tf=!1,Gu=0,_l=null,a)throw Error(r(300));i===null||In||(i=i.dependencies,i!==null&&Qd(i)&&(In=!0))}function r0(i,a,l,c){lt=i;var p=0;do{if(vl&&(_l=null),Gu=0,vl=!1,25<=p)throw Error(r(301));if(p+=1,dn=Ut=null,i.updateQueue!=null){var g=i.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Q.H=nR,g=a(l,c)}while(vl);return g}function XC(){var i=Q.H,a=i.useState()[0];return a=typeof a.then=="function"?Ku(a):a,i=i.useState()[0],(Ut!==null?Ut.memoizedState:null)!==i&&(lt.flags|=1024),a}function _p(){var i=nf!==0;return nf=0,i}function bp(i,a,l){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~l}function Ep(i){if(tf){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}tf=!1}Ws=0,dn=Ut=lt=null,vl=!1,Gu=nf=0,_l=null}function gr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?lt.memoizedState=dn=i:dn=dn.next=i,dn}function fn(){if(Ut===null){var i=lt.alternate;i=i!==null?i.memoizedState:null}else i=Ut.next;var a=dn===null?lt.memoizedState:dn.next;if(a!==null)dn=a,Ut=i;else{if(i===null)throw lt.alternate===null?Error(r(467)):Error(r(310));Ut=i,i={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},dn===null?lt.memoizedState=dn=i:dn=dn.next=i}return dn}function Tp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ku(i){var a=Gu;return Gu+=1,_l===null&&(_l=[]),i=X_(_l,i,a),a=lt,(dn===null?a.memoizedState:dn.next)===null&&(a=a.alternate,Q.H=a===null||a.memoizedState===null?U0:j0),i}function rf(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ku(i);if(i.$$typeof===$)return Kn(i)}throw Error(r(438,String(i)))}function wp(i){var a=null,l=lt.updateQueue;if(l!==null&&(a=l.memoCache),a==null){var c=lt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(p){return p.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),l===null&&(l=Tp(),lt.updateQueue=l),l.memoCache=a,l=a.data[a.index],l===void 0)for(l=a.data[a.index]=Array(i),c=0;c<i;c++)l[c]=P;return a.index++,l}function ys(i,a){return typeof a=="function"?a(i):a}function sf(i){var a=fn();return Sp(a,Ut,i)}function Sp(i,a,l){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=l;var p=i.baseQueue,g=c.pending;if(g!==null){if(p!==null){var T=p.next;p.next=g.next,g.next=T}a.baseQueue=p=g,c.pending=null}if(g=i.baseState,p===null)i.memoizedState=g;else{a=p.next;var A=T=null,z=null,te=a,le=!1;do{var fe=te.lane&-536870913;if(fe!==te.lane?(wt&fe)===fe:(Ws&fe)===fe){var re=te.revertLane;if(re===0)z!==null&&(z=z.next={lane:0,revertLane:0,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),fe===pl&&(le=!0);else if((Ws&re)===re){te=te.next,re===pl&&(le=!0);continue}else fe={lane:0,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},z===null?(A=z=fe,T=g):z=z.next=fe,lt.lanes|=re,ia|=re;fe=te.action,bo&&l(g,fe),g=te.hasEagerState?te.eagerState:l(g,fe)}else re={lane:fe,revertLane:te.revertLane,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},z===null?(A=z=re,T=g):z=z.next=re,lt.lanes|=fe,ia|=fe;te=te.next}while(te!==null&&te!==a);if(z===null?T=g:z.next=A,!Cr(g,i.memoizedState)&&(In=!0,le&&(l=gl,l!==null)))throw l;i.memoizedState=g,i.baseState=T,i.baseQueue=z,c.lastRenderedState=g}return p===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Ap(i){var a=fn(),l=a.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=i;var c=l.dispatch,p=l.pending,g=a.memoizedState;if(p!==null){l.pending=null;var T=p=p.next;do g=i(g,T.action),T=T.next;while(T!==p);Cr(g,a.memoizedState)||(In=!0),a.memoizedState=g,a.baseQueue===null&&(a.baseState=g),l.lastRenderedState=g}return[g,c]}function i0(i,a,l){var c=lt,p=fn(),g=Ot;if(g){if(l===void 0)throw Error(r(407));l=l()}else l=a();var T=!Cr((Ut||p).memoizedState,l);T&&(p.memoizedState=l,In=!0),p=p.queue;var A=o0.bind(null,c,p,i);if(Yu(2048,8,A,[i]),p.getSnapshot!==a||T||dn!==null&&dn.memoizedState.tag&1){if(c.flags|=2048,bl(9,af(),a0.bind(null,c,p,l,a),null),qt===null)throw Error(r(349));g||(Ws&124)!==0||s0(c,a,l)}return l}function s0(i,a,l){i.flags|=16384,i={getSnapshot:a,value:l},a=lt.updateQueue,a===null?(a=Tp(),lt.updateQueue=a,a.stores=[i]):(l=a.stores,l===null?a.stores=[i]:l.push(i))}function a0(i,a,l,c){a.value=l,a.getSnapshot=c,l0(a)&&u0(i)}function o0(i,a,l){return l(function(){l0(a)&&u0(i)})}function l0(i){var a=i.getSnapshot;i=i.value;try{var l=a();return!Cr(i,l)}catch{return!0}}function u0(i){var a=dl(i,2);a!==null&&kr(a,i,2)}function xp(i){var a=gr();if(typeof i=="function"){var l=i;if(i=l(),bo){st(!0);try{l()}finally{st(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:i},a}function c0(i,a,l,c){return i.baseState=l,Sp(i,Ut,typeof c=="function"?c:ys)}function WC(i,a,l,c,p){if(lf(i))throw Error(r(485));if(i=a.action,i!==null){var g={payload:p,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(T){g.listeners.push(T)}};Q.T!==null?l(!0):g.isTransition=!1,c(g),l=a.pending,l===null?(g.next=a.pending=g,d0(a,g)):(g.next=l.next,a.pending=l.next=g)}}function d0(i,a){var l=a.action,c=a.payload,p=i.state;if(a.isTransition){var g=Q.T,T={};Q.T=T;try{var A=l(p,c),z=Q.S;z!==null&&z(T,A),f0(i,a,A)}catch(te){Cp(i,a,te)}finally{Q.T=g}}else try{g=l(p,c),f0(i,a,g)}catch(te){Cp(i,a,te)}}function f0(i,a,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(c){h0(i,a,c)},function(c){return Cp(i,a,c)}):h0(i,a,l)}function h0(i,a,l){a.status="fulfilled",a.value=l,m0(a),i.state=l,a=i.pending,a!==null&&(l=a.next,l===a?i.pending=null:(l=l.next,a.next=l,d0(i,l)))}function Cp(i,a,l){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=l,m0(a),a=a.next;while(a!==c)}i.action=null}function m0(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function p0(i,a){return a}function g0(i,a){if(Ot){var l=qt.formState;if(l!==null){e:{var c=lt;if(Ot){if(Zt){t:{for(var p=Zt,g=Vi;p.nodeType!==8;){if(!g){p=null;break t}if(p=pi(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Zt=pi(p.nextSibling),c=p.data==="F!";break e}}go(c)}c=!1}c&&(a=l[0])}}return l=gr(),l.memoizedState=l.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:p0,lastRenderedState:a},l.queue=c,l=P0.bind(null,lt,c),c.dispatch=l,c=xp(!1),g=Dp.bind(null,lt,!1,c.queue),c=gr(),p={state:a,dispatch:null,action:i,pending:null},c.queue=p,l=WC.bind(null,lt,p,g,l),p.dispatch=l,c.memoizedState=i,[a,l,!1]}function y0(i){var a=fn();return v0(a,Ut,i)}function v0(i,a,l){if(a=Sp(i,a,p0)[0],i=sf(ys)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Ku(a)}catch(T){throw T===Bu?Zd:T}else c=a;a=fn();var p=a.queue,g=p.dispatch;return l!==a.memoizedState&&(lt.flags|=2048,bl(9,af(),ZC.bind(null,p,l),null)),[c,g,i]}function ZC(i,a){i.action=a}function _0(i){var a=fn(),l=Ut;if(l!==null)return v0(a,l,i);fn(),a=a.memoizedState,l=fn();var c=l.queue.dispatch;return l.memoizedState=i,[a,c,!1]}function bl(i,a,l,c){return i={tag:i,create:l,deps:c,inst:a,next:null},a=lt.updateQueue,a===null&&(a=Tp(),lt.updateQueue=a),l=a.lastEffect,l===null?a.lastEffect=i.next=i:(c=l.next,l.next=i,i.next=c,a.lastEffect=i),i}function af(){return{destroy:void 0,resource:void 0}}function b0(){return fn().memoizedState}function of(i,a,l,c){var p=gr();c=c===void 0?null:c,lt.flags|=i,p.memoizedState=bl(1|a,af(),l,c)}function Yu(i,a,l,c){var p=fn();c=c===void 0?null:c;var g=p.memoizedState.inst;Ut!==null&&c!==null&&yp(c,Ut.memoizedState.deps)?p.memoizedState=bl(a,g,l,c):(lt.flags|=i,p.memoizedState=bl(1|a,g,l,c))}function E0(i,a){of(8390656,8,i,a)}function T0(i,a){Yu(2048,8,i,a)}function w0(i,a){return Yu(4,2,i,a)}function S0(i,a){return Yu(4,4,i,a)}function A0(i,a){if(typeof a=="function"){i=i();var l=a(i);return function(){typeof l=="function"?l():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function x0(i,a,l){l=l!=null?l.concat([i]):null,Yu(4,4,A0.bind(null,a,i),l)}function Rp(){}function C0(i,a){var l=fn();a=a===void 0?null:a;var c=l.memoizedState;return a!==null&&yp(a,c[1])?c[0]:(l.memoizedState=[i,a],i)}function R0(i,a){var l=fn();a=a===void 0?null:a;var c=l.memoizedState;if(a!==null&&yp(a,c[1]))return c[0];if(c=i(),bo){st(!0);try{i()}finally{st(!1)}}return l.memoizedState=[c,a],c}function Ip(i,a,l){return l===void 0||(Ws&1073741824)!==0?i.memoizedState=a:(i.memoizedState=l,i=Ob(),lt.lanes|=i,ia|=i,l)}function I0(i,a,l,c){return Cr(l,a)?l:yl.current!==null?(i=Ip(i,l,c),Cr(i,a)||(In=!0),i):(Ws&42)===0?(In=!0,i.memoizedState=l):(i=Ob(),lt.lanes|=i,ia|=i,a)}function N0(i,a,l,c,p){var g=ce.p;ce.p=g!==0&&8>g?g:8;var T=Q.T,A={};Q.T=A,Dp(i,!1,a,l);try{var z=p(),te=Q.S;if(te!==null&&te(A,z),z!==null&&typeof z=="object"&&typeof z.then=="function"){var le=YC(z,c);Qu(i,a,le,Dr(i))}else Qu(i,a,c,Dr(i))}catch(fe){Qu(i,a,{then:function(){},status:"rejected",reason:fe},Dr())}finally{ce.p=g,Q.T=T}}function JC(){}function Np(i,a,l,c){if(i.tag!==5)throw Error(r(476));var p=O0(i).queue;N0(i,p,a,ge,l===null?JC:function(){return D0(i),l(c)})}function O0(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:ge},next:null};var l={};return a.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ys,lastRenderedState:l},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function D0(i){var a=O0(i).next.queue;Qu(i,a,{},Dr())}function Op(){return Kn(hc)}function k0(){return fn().memoizedState}function M0(){return fn().memoizedState}function eR(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var l=Dr();i=Qs(l);var c=Xs(a,i,l);c!==null&&(kr(c,a,l),$u(c,a,l)),a={cache:op()},i.payload=a;return}a=a.return}}function tR(i,a,l){var c=Dr();l={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},lf(i)?L0(a,l):(l=Wm(i,a,l,c),l!==null&&(kr(l,i,c),V0(l,a,c)))}function P0(i,a,l){var c=Dr();Qu(i,a,l,c)}function Qu(i,a,l,c){var p={lane:c,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(lf(i))L0(a,p);else{var g=i.alternate;if(i.lanes===0&&(g===null||g.lanes===0)&&(g=a.lastRenderedReducer,g!==null))try{var T=a.lastRenderedState,A=g(T,l);if(p.hasEagerState=!0,p.eagerState=A,Cr(A,T))return Hd(i,a,p,0),qt===null&&$d(),!1}catch{}finally{}if(l=Wm(i,a,p,c),l!==null)return kr(l,i,c),V0(l,a,c),!0}return!1}function Dp(i,a,l,c){if(c={lane:2,revertLane:cg(),action:c,hasEagerState:!1,eagerState:null,next:null},lf(i)){if(a)throw Error(r(479))}else a=Wm(i,l,c,2),a!==null&&kr(a,i,2)}function lf(i){var a=i.alternate;return i===lt||a!==null&&a===lt}function L0(i,a){vl=tf=!0;var l=i.pending;l===null?a.next=a:(a.next=l.next,l.next=a),i.pending=a}function V0(i,a,l){if((l&4194048)!==0){var c=a.lanes;c&=i.pendingLanes,l|=c,a.lanes=l,xi(i,l)}}var uf={readContext:Kn,use:rf,useCallback:rn,useContext:rn,useEffect:rn,useImperativeHandle:rn,useLayoutEffect:rn,useInsertionEffect:rn,useMemo:rn,useReducer:rn,useRef:rn,useState:rn,useDebugValue:rn,useDeferredValue:rn,useTransition:rn,useSyncExternalStore:rn,useId:rn,useHostTransitionStatus:rn,useFormState:rn,useActionState:rn,useOptimistic:rn,useMemoCache:rn,useCacheRefresh:rn},U0={readContext:Kn,use:rf,useCallback:function(i,a){return gr().memoizedState=[i,a===void 0?null:a],i},useContext:Kn,useEffect:E0,useImperativeHandle:function(i,a,l){l=l!=null?l.concat([i]):null,of(4194308,4,A0.bind(null,a,i),l)},useLayoutEffect:function(i,a){return of(4194308,4,i,a)},useInsertionEffect:function(i,a){of(4,2,i,a)},useMemo:function(i,a){var l=gr();a=a===void 0?null:a;var c=i();if(bo){st(!0);try{i()}finally{st(!1)}}return l.memoizedState=[c,a],c},useReducer:function(i,a,l){var c=gr();if(l!==void 0){var p=l(a);if(bo){st(!0);try{l(a)}finally{st(!1)}}}else p=a;return c.memoizedState=c.baseState=p,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:p},c.queue=i,i=i.dispatch=tR.bind(null,lt,i),[c.memoizedState,i]},useRef:function(i){var a=gr();return i={current:i},a.memoizedState=i},useState:function(i){i=xp(i);var a=i.queue,l=P0.bind(null,lt,a);return a.dispatch=l,[i.memoizedState,l]},useDebugValue:Rp,useDeferredValue:function(i,a){var l=gr();return Ip(l,i,a)},useTransition:function(){var i=xp(!1);return i=N0.bind(null,lt,i.queue,!0,!1),gr().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,l){var c=lt,p=gr();if(Ot){if(l===void 0)throw Error(r(407));l=l()}else{if(l=a(),qt===null)throw Error(r(349));(wt&124)!==0||s0(c,a,l)}p.memoizedState=l;var g={value:l,getSnapshot:a};return p.queue=g,E0(o0.bind(null,c,g,i),[i]),c.flags|=2048,bl(9,af(),a0.bind(null,c,g,l,a),null),l},useId:function(){var i=gr(),a=qt.identifierPrefix;if(Ot){var l=ms,c=hs;l=(c&~(1<<32-At(c)-1)).toString(32)+l,a=""+a+"R"+l,l=nf++,0<l&&(a+="H"+l.toString(32)),a+=""}else l=QC++,a=""+a+"r"+l.toString(32)+"";return i.memoizedState=a},useHostTransitionStatus:Op,useFormState:g0,useActionState:g0,useOptimistic:function(i){var a=gr();a.memoizedState=a.baseState=i;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=l,a=Dp.bind(null,lt,!0,l),l.dispatch=a,[i,a]},useMemoCache:wp,useCacheRefresh:function(){return gr().memoizedState=eR.bind(null,lt)}},j0={readContext:Kn,use:rf,useCallback:C0,useContext:Kn,useEffect:T0,useImperativeHandle:x0,useInsertionEffect:w0,useLayoutEffect:S0,useMemo:R0,useReducer:sf,useRef:b0,useState:function(){return sf(ys)},useDebugValue:Rp,useDeferredValue:function(i,a){var l=fn();return I0(l,Ut.memoizedState,i,a)},useTransition:function(){var i=sf(ys)[0],a=fn().memoizedState;return[typeof i=="boolean"?i:Ku(i),a]},useSyncExternalStore:i0,useId:k0,useHostTransitionStatus:Op,useFormState:y0,useActionState:y0,useOptimistic:function(i,a){var l=fn();return c0(l,Ut,i,a)},useMemoCache:wp,useCacheRefresh:M0},nR={readContext:Kn,use:rf,useCallback:C0,useContext:Kn,useEffect:T0,useImperativeHandle:x0,useInsertionEffect:w0,useLayoutEffect:S0,useMemo:R0,useReducer:Ap,useRef:b0,useState:function(){return Ap(ys)},useDebugValue:Rp,useDeferredValue:function(i,a){var l=fn();return Ut===null?Ip(l,i,a):I0(l,Ut.memoizedState,i,a)},useTransition:function(){var i=Ap(ys)[0],a=fn().memoizedState;return[typeof i=="boolean"?i:Ku(i),a]},useSyncExternalStore:i0,useId:k0,useHostTransitionStatus:Op,useFormState:_0,useActionState:_0,useOptimistic:function(i,a){var l=fn();return Ut!==null?c0(l,Ut,i,a):(l.baseState=i,[i,l.queue.dispatch])},useMemoCache:wp,useCacheRefresh:M0},El=null,Xu=0;function cf(i){var a=Xu;return Xu+=1,El===null&&(El=[]),X_(El,i,a)}function Wu(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function df(i,a){throw a.$$typeof===b?Error(r(525)):(i=Object.prototype.toString.call(a),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function z0(i){var a=i._init;return a(i._payload)}function B0(i){function a(X,K){if(i){var J=X.deletions;J===null?(X.deletions=[K],X.flags|=16):J.push(K)}}function l(X,K){if(!i)return null;for(;K!==null;)a(X,K),K=K.sibling;return null}function c(X){for(var K=new Map;X!==null;)X.key!==null?K.set(X.key,X):K.set(X.index,X),X=X.sibling;return K}function p(X,K){return X=fs(X,K),X.index=0,X.sibling=null,X}function g(X,K,J){return X.index=J,i?(J=X.alternate,J!==null?(J=J.index,J<K?(X.flags|=67108866,K):J):(X.flags|=67108866,K)):(X.flags|=1048576,K)}function T(X){return i&&X.alternate===null&&(X.flags|=67108866),X}function A(X,K,J,ue){return K===null||K.tag!==6?(K=Jm(J,X.mode,ue),K.return=X,K):(K=p(K,J),K.return=X,K)}function z(X,K,J,ue){var Pe=J.type;return Pe===S?le(X,K,J.props.children,ue,J.key):K!==null&&(K.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===R&&z0(Pe)===K.type)?(K=p(K,J.props),Wu(K,J),K.return=X,K):(K=Gd(J.type,J.key,J.props,null,X.mode,ue),Wu(K,J),K.return=X,K)}function te(X,K,J,ue){return K===null||K.tag!==4||K.stateNode.containerInfo!==J.containerInfo||K.stateNode.implementation!==J.implementation?(K=ep(J,X.mode,ue),K.return=X,K):(K=p(K,J.children||[]),K.return=X,K)}function le(X,K,J,ue,Pe){return K===null||K.tag!==7?(K=fo(J,X.mode,ue,Pe),K.return=X,K):(K=p(K,J),K.return=X,K)}function fe(X,K,J){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Jm(""+K,X.mode,J),K.return=X,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case _:return J=Gd(K.type,K.key,K.props,null,X.mode,J),Wu(J,K),J.return=X,J;case w:return K=ep(K,X.mode,J),K.return=X,K;case R:var ue=K._init;return K=ue(K._payload),fe(X,K,J)}if(Ee(K)||M(K))return K=fo(K,X.mode,J,null),K.return=X,K;if(typeof K.then=="function")return fe(X,cf(K),J);if(K.$$typeof===$)return fe(X,Xd(X,K),J);df(X,K)}return null}function re(X,K,J,ue){var Pe=K!==null?K.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Pe!==null?null:A(X,K,""+J,ue);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case _:return J.key===Pe?z(X,K,J,ue):null;case w:return J.key===Pe?te(X,K,J,ue):null;case R:return Pe=J._init,J=Pe(J._payload),re(X,K,J,ue)}if(Ee(J)||M(J))return Pe!==null?null:le(X,K,J,ue,null);if(typeof J.then=="function")return re(X,K,cf(J),ue);if(J.$$typeof===$)return re(X,K,Xd(X,J),ue);df(X,J)}return null}function ie(X,K,J,ue,Pe){if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return X=X.get(J)||null,A(K,X,""+ue,Pe);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case _:return X=X.get(ue.key===null?J:ue.key)||null,z(K,X,ue,Pe);case w:return X=X.get(ue.key===null?J:ue.key)||null,te(K,X,ue,Pe);case R:var dt=ue._init;return ue=dt(ue._payload),ie(X,K,J,ue,Pe)}if(Ee(ue)||M(ue))return X=X.get(J)||null,le(K,X,ue,Pe,null);if(typeof ue.then=="function")return ie(X,K,J,cf(ue),Pe);if(ue.$$typeof===$)return ie(X,K,J,Xd(K,ue),Pe);df(K,ue)}return null}function Je(X,K,J,ue){for(var Pe=null,dt=null,$e=K,Xe=K=0,On=null;$e!==null&&Xe<J.length;Xe++){$e.index>Xe?(On=$e,$e=null):On=$e.sibling;var Rt=re(X,$e,J[Xe],ue);if(Rt===null){$e===null&&($e=On);break}i&&$e&&Rt.alternate===null&&a(X,$e),K=g(Rt,K,Xe),dt===null?Pe=Rt:dt.sibling=Rt,dt=Rt,$e=On}if(Xe===J.length)return l(X,$e),Ot&&mo(X,Xe),Pe;if($e===null){for(;Xe<J.length;Xe++)$e=fe(X,J[Xe],ue),$e!==null&&(K=g($e,K,Xe),dt===null?Pe=$e:dt.sibling=$e,dt=$e);return Ot&&mo(X,Xe),Pe}for($e=c($e);Xe<J.length;Xe++)On=ie($e,X,Xe,J[Xe],ue),On!==null&&(i&&On.alternate!==null&&$e.delete(On.key===null?Xe:On.key),K=g(On,K,Xe),dt===null?Pe=On:dt.sibling=On,dt=On);return i&&$e.forEach(function(ha){return a(X,ha)}),Ot&&mo(X,Xe),Pe}function Ye(X,K,J,ue){if(J==null)throw Error(r(151));for(var Pe=null,dt=null,$e=K,Xe=K=0,On=null,Rt=J.next();$e!==null&&!Rt.done;Xe++,Rt=J.next()){$e.index>Xe?(On=$e,$e=null):On=$e.sibling;var ha=re(X,$e,Rt.value,ue);if(ha===null){$e===null&&($e=On);break}i&&$e&&ha.alternate===null&&a(X,$e),K=g(ha,K,Xe),dt===null?Pe=ha:dt.sibling=ha,dt=ha,$e=On}if(Rt.done)return l(X,$e),Ot&&mo(X,Xe),Pe;if($e===null){for(;!Rt.done;Xe++,Rt=J.next())Rt=fe(X,Rt.value,ue),Rt!==null&&(K=g(Rt,K,Xe),dt===null?Pe=Rt:dt.sibling=Rt,dt=Rt);return Ot&&mo(X,Xe),Pe}for($e=c($e);!Rt.done;Xe++,Rt=J.next())Rt=ie($e,X,Xe,Rt.value,ue),Rt!==null&&(i&&Rt.alternate!==null&&$e.delete(Rt.key===null?Xe:Rt.key),K=g(Rt,K,Xe),dt===null?Pe=Rt:dt.sibling=Rt,dt=Rt);return i&&$e.forEach(function(rI){return a(X,rI)}),Ot&&mo(X,Xe),Pe}function zt(X,K,J,ue){if(typeof J=="object"&&J!==null&&J.type===S&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case _:e:{for(var Pe=J.key;K!==null;){if(K.key===Pe){if(Pe=J.type,Pe===S){if(K.tag===7){l(X,K.sibling),ue=p(K,J.props.children),ue.return=X,X=ue;break e}}else if(K.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===R&&z0(Pe)===K.type){l(X,K.sibling),ue=p(K,J.props),Wu(ue,J),ue.return=X,X=ue;break e}l(X,K);break}else a(X,K);K=K.sibling}J.type===S?(ue=fo(J.props.children,X.mode,ue,J.key),ue.return=X,X=ue):(ue=Gd(J.type,J.key,J.props,null,X.mode,ue),Wu(ue,J),ue.return=X,X=ue)}return T(X);case w:e:{for(Pe=J.key;K!==null;){if(K.key===Pe)if(K.tag===4&&K.stateNode.containerInfo===J.containerInfo&&K.stateNode.implementation===J.implementation){l(X,K.sibling),ue=p(K,J.children||[]),ue.return=X,X=ue;break e}else{l(X,K);break}else a(X,K);K=K.sibling}ue=ep(J,X.mode,ue),ue.return=X,X=ue}return T(X);case R:return Pe=J._init,J=Pe(J._payload),zt(X,K,J,ue)}if(Ee(J))return Je(X,K,J,ue);if(M(J)){if(Pe=M(J),typeof Pe!="function")throw Error(r(150));return J=Pe.call(J),Ye(X,K,J,ue)}if(typeof J.then=="function")return zt(X,K,cf(J),ue);if(J.$$typeof===$)return zt(X,K,Xd(X,J),ue);df(X,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,K!==null&&K.tag===6?(l(X,K.sibling),ue=p(K,J),ue.return=X,X=ue):(l(X,K),ue=Jm(J,X.mode,ue),ue.return=X,X=ue),T(X)):l(X,K)}return function(X,K,J,ue){try{Xu=0;var Pe=zt(X,K,J,ue);return El=null,Pe}catch($e){if($e===Bu||$e===Zd)throw $e;var dt=Rr(29,$e,null,X.mode);return dt.lanes=ue,dt.return=X,dt}finally{}}}var Tl=B0(!0),F0=B0(!1),ti=oe(null),Ui=null;function Zs(i){var a=i.alternate;pe(En,En.current&1),pe(ti,i),Ui===null&&(a===null||yl.current!==null||a.memoizedState!==null)&&(Ui=i)}function $0(i){if(i.tag===22){if(pe(En,En.current),pe(ti,i),Ui===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(Ui=i)}}else Js()}function Js(){pe(En,En.current),pe(ti,ti.current)}function vs(i){Te(ti),Ui===i&&(Ui=null),Te(En)}var En=oe(0);function ff(i){for(var a=i;a!==null;){if(a.tag===13){var l=a.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||Tg(l)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function kp(i,a,l,c){a=i.memoizedState,l=l(c,a),l=l==null?a:y({},a,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var Mp={enqueueSetState:function(i,a,l){i=i._reactInternals;var c=Dr(),p=Qs(c);p.payload=a,l!=null&&(p.callback=l),a=Xs(i,p,c),a!==null&&(kr(a,i,c),$u(a,i,c))},enqueueReplaceState:function(i,a,l){i=i._reactInternals;var c=Dr(),p=Qs(c);p.tag=1,p.payload=a,l!=null&&(p.callback=l),a=Xs(i,p,c),a!==null&&(kr(a,i,c),$u(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var l=Dr(),c=Qs(l);c.tag=2,a!=null&&(c.callback=a),a=Xs(i,c,l),a!==null&&(kr(a,i,l),$u(a,i,l))}};function H0(i,a,l,c,p,g,T){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,g,T):a.prototype&&a.prototype.isPureReactComponent?!ku(l,c)||!ku(p,g):!0}function q0(i,a,l,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(l,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(l,c),a.state!==i&&Mp.enqueueReplaceState(a,a.state,null)}function Eo(i,a){var l=a;if("ref"in a){l={};for(var c in a)c!=="ref"&&(l[c]=a[c])}if(i=i.defaultProps){l===a&&(l=y({},l));for(var p in i)l[p]===void 0&&(l[p]=i[p])}return l}var hf=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function G0(i){hf(i)}function K0(i){console.error(i)}function Y0(i){hf(i)}function mf(i,a){try{var l=i.onUncaughtError;l(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function Q0(i,a,l){try{var c=i.onCaughtError;c(l.value,{componentStack:l.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Pp(i,a,l){return l=Qs(l),l.tag=3,l.payload={element:null},l.callback=function(){mf(i,a)},l}function X0(i){return i=Qs(i),i.tag=3,i}function W0(i,a,l,c){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var g=c.value;i.payload=function(){return p(g)},i.callback=function(){Q0(a,l,c)}}var T=l.stateNode;T!==null&&typeof T.componentDidCatch=="function"&&(i.callback=function(){Q0(a,l,c),typeof p!="function"&&(sa===null?sa=new Set([this]):sa.add(this));var A=c.stack;this.componentDidCatch(c.value,{componentStack:A!==null?A:""})})}function rR(i,a,l,c,p){if(l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=l.alternate,a!==null&&Uu(a,l,p,!0),l=ti.current,l!==null){switch(l.tag){case 13:return Ui===null?sg():l.alternate===null&&Jt===0&&(Jt=3),l.flags&=-257,l.flags|=65536,l.lanes=p,c===cp?l.flags|=16384:(a=l.updateQueue,a===null?l.updateQueue=new Set([c]):a.add(c),og(i,c,p)),!1;case 22:return l.flags|=65536,c===cp?l.flags|=16384:(a=l.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},l.updateQueue=a):(l=a.retryQueue,l===null?a.retryQueue=new Set([c]):l.add(c)),og(i,c,p)),!1}throw Error(r(435,l.tag))}return og(i,c,p),sg(),!1}if(Ot)return a=ti.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=p,c!==rp&&(i=Error(r(422),{cause:c}),Vu(Wr(i,l)))):(c!==rp&&(a=Error(r(423),{cause:c}),Vu(Wr(a,l))),i=i.current.alternate,i.flags|=65536,p&=-p,i.lanes|=p,c=Wr(c,l),p=Pp(i.stateNode,c,p),hp(i,p),Jt!==4&&(Jt=2)),!1;var g=Error(r(520),{cause:c});if(g=Wr(g,l),ic===null?ic=[g]:ic.push(g),Jt!==4&&(Jt=2),a===null)return!0;c=Wr(c,l),l=a;do{switch(l.tag){case 3:return l.flags|=65536,i=p&-p,l.lanes|=i,i=Pp(l.stateNode,c,i),hp(l,i),!1;case 1:if(a=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(sa===null||!sa.has(g))))return l.flags|=65536,p&=-p,l.lanes|=p,p=X0(p),W0(p,i,l,c),hp(l,p),!1}l=l.return}while(l!==null);return!1}var Z0=Error(r(461)),In=!1;function Un(i,a,l,c){a.child=i===null?F0(a,null,l,c):Tl(a,i.child,l,c)}function J0(i,a,l,c,p){l=l.render;var g=a.ref;if("ref"in c){var T={};for(var A in c)A!=="ref"&&(T[A]=c[A])}else T=c;return vo(a),c=vp(i,a,l,T,g,p),A=_p(),i!==null&&!In?(bp(i,a,p),_s(i,a,p)):(Ot&&A&&tp(a),a.flags|=1,Un(i,a,c,p),a.child)}function eb(i,a,l,c,p){if(i===null){var g=l.type;return typeof g=="function"&&!Zm(g)&&g.defaultProps===void 0&&l.compare===null?(a.tag=15,a.type=g,tb(i,a,g,c,p)):(i=Gd(l.type,null,c,a,a.mode,p),i.ref=a.ref,i.return=a,a.child=i)}if(g=i.child,!$p(i,p)){var T=g.memoizedProps;if(l=l.compare,l=l!==null?l:ku,l(T,c)&&i.ref===a.ref)return _s(i,a,p)}return a.flags|=1,i=fs(g,c),i.ref=a.ref,i.return=a,a.child=i}function tb(i,a,l,c,p){if(i!==null){var g=i.memoizedProps;if(ku(g,c)&&i.ref===a.ref)if(In=!1,a.pendingProps=c=g,$p(i,p))(i.flags&131072)!==0&&(In=!0);else return a.lanes=i.lanes,_s(i,a,p)}return Lp(i,a,l,c,p)}function nb(i,a,l){var c=a.pendingProps,p=c.children,g=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=g!==null?g.baseLanes|l:l,i!==null){for(p=a.child=i.child,g=0;p!==null;)g=g|p.lanes|p.childLanes,p=p.sibling;a.childLanes=g&~c}else a.childLanes=0,a.child=null;return rb(i,a,c,l)}if((l&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Wd(a,g!==null?g.cachePool:null),g!==null?t0(a,g):pp(),$0(a);else return a.lanes=a.childLanes=536870912,rb(i,a,g!==null?g.baseLanes|l:l,l)}else g!==null?(Wd(a,g.cachePool),t0(a,g),Js(),a.memoizedState=null):(i!==null&&Wd(a,null),pp(),Js());return Un(i,a,p,l),a.child}function rb(i,a,l,c){var p=up();return p=p===null?null:{parent:bn._currentValue,pool:p},a.memoizedState={baseLanes:l,cachePool:p},i!==null&&Wd(a,null),pp(),$0(a),i!==null&&Uu(i,a,c,!0),null}function pf(i,a){var l=a.ref;if(l===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(i===null||i.ref!==l)&&(a.flags|=4194816)}}function Lp(i,a,l,c,p){return vo(a),l=vp(i,a,l,c,void 0,p),c=_p(),i!==null&&!In?(bp(i,a,p),_s(i,a,p)):(Ot&&c&&tp(a),a.flags|=1,Un(i,a,l,p),a.child)}function ib(i,a,l,c,p,g){return vo(a),a.updateQueue=null,l=r0(a,c,l,p),n0(i),c=_p(),i!==null&&!In?(bp(i,a,g),_s(i,a,g)):(Ot&&c&&tp(a),a.flags|=1,Un(i,a,l,g),a.child)}function sb(i,a,l,c,p){if(vo(a),a.stateNode===null){var g=fl,T=l.contextType;typeof T=="object"&&T!==null&&(g=Kn(T)),g=new l(c,g),a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Mp,a.stateNode=g,g._reactInternals=a,g=a.stateNode,g.props=c,g.state=a.memoizedState,g.refs={},dp(a),T=l.contextType,g.context=typeof T=="object"&&T!==null?Kn(T):fl,g.state=a.memoizedState,T=l.getDerivedStateFromProps,typeof T=="function"&&(kp(a,l,T,c),g.state=a.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(T=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),T!==g.state&&Mp.enqueueReplaceState(g,g.state,null),qu(a,c,g,p),Hu(),g.state=a.memoizedState),typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){g=a.stateNode;var A=a.memoizedProps,z=Eo(l,A);g.props=z;var te=g.context,le=l.contextType;T=fl,typeof le=="object"&&le!==null&&(T=Kn(le));var fe=l.getDerivedStateFromProps;le=typeof fe=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=a.pendingProps!==A,le||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||te!==T)&&q0(a,g,c,T),Ys=!1;var re=a.memoizedState;g.state=re,qu(a,c,g,p),Hu(),te=a.memoizedState,A||re!==te||Ys?(typeof fe=="function"&&(kp(a,l,fe,c),te=a.memoizedState),(z=Ys||H0(a,l,z,c,re,te,T))?(le||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(a.flags|=4194308)):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=te),g.props=c,g.state=te,g.context=T,c=z):(typeof g.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{g=a.stateNode,fp(i,a),T=a.memoizedProps,le=Eo(l,T),g.props=le,fe=a.pendingProps,re=g.context,te=l.contextType,z=fl,typeof te=="object"&&te!==null&&(z=Kn(te)),A=l.getDerivedStateFromProps,(te=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(T!==fe||re!==z)&&q0(a,g,c,z),Ys=!1,re=a.memoizedState,g.state=re,qu(a,c,g,p),Hu();var ie=a.memoizedState;T!==fe||re!==ie||Ys||i!==null&&i.dependencies!==null&&Qd(i.dependencies)?(typeof A=="function"&&(kp(a,l,A,c),ie=a.memoizedState),(le=Ys||H0(a,l,le,c,re,ie,z)||i!==null&&i.dependencies!==null&&Qd(i.dependencies))?(te||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,ie,z),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,ie,z)),typeof g.componentDidUpdate=="function"&&(a.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&re===i.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&re===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=ie),g.props=c,g.state=ie,g.context=z,c=le):(typeof g.componentDidUpdate!="function"||T===i.memoizedProps&&re===i.memoizedState||(a.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||T===i.memoizedProps&&re===i.memoizedState||(a.flags|=1024),c=!1)}return g=c,pf(i,a),c=(a.flags&128)!==0,g||c?(g=a.stateNode,l=c&&typeof l.getDerivedStateFromError!="function"?null:g.render(),a.flags|=1,i!==null&&c?(a.child=Tl(a,i.child,null,p),a.child=Tl(a,null,l,p)):Un(i,a,l,p),a.memoizedState=g.state,i=a.child):i=_s(i,a,p),i}function ab(i,a,l,c){return Lu(),a.flags|=256,Un(i,a,l,c),a.child}var Vp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Up(i){return{baseLanes:i,cachePool:K_()}}function jp(i,a,l){return i=i!==null?i.childLanes&~l:0,a&&(i|=ni),i}function ob(i,a,l){var c=a.pendingProps,p=!1,g=(a.flags&128)!==0,T;if((T=g)||(T=i!==null&&i.memoizedState===null?!1:(En.current&2)!==0),T&&(p=!0,a.flags&=-129),T=(a.flags&32)!==0,a.flags&=-33,i===null){if(Ot){if(p?Zs(a):Js(),Ot){var A=Zt,z;if(z=A){e:{for(z=A,A=Vi;z.nodeType!==8;){if(!A){A=null;break e}if(z=pi(z.nextSibling),z===null){A=null;break e}}A=z}A!==null?(a.memoizedState={dehydrated:A,treeContext:ho!==null?{id:hs,overflow:ms}:null,retryLane:536870912,hydrationErrors:null},z=Rr(18,null,null,0),z.stateNode=A,z.return=a,a.child=z,sr=a,Zt=null,z=!0):z=!1}z||go(a)}if(A=a.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return Tg(A)?a.lanes=32:a.lanes=536870912,null;vs(a)}return A=c.children,c=c.fallback,p?(Js(),p=a.mode,A=gf({mode:"hidden",children:A},p),c=fo(c,p,l,null),A.return=a,c.return=a,A.sibling=c,a.child=A,p=a.child,p.memoizedState=Up(l),p.childLanes=jp(i,T,l),a.memoizedState=Vp,c):(Zs(a),zp(a,A))}if(z=i.memoizedState,z!==null&&(A=z.dehydrated,A!==null)){if(g)a.flags&256?(Zs(a),a.flags&=-257,a=Bp(i,a,l)):a.memoizedState!==null?(Js(),a.child=i.child,a.flags|=128,a=null):(Js(),p=c.fallback,A=a.mode,c=gf({mode:"visible",children:c.children},A),p=fo(p,A,l,null),p.flags|=2,c.return=a,p.return=a,c.sibling=p,a.child=c,Tl(a,i.child,null,l),c=a.child,c.memoizedState=Up(l),c.childLanes=jp(i,T,l),a.memoizedState=Vp,a=p);else if(Zs(a),Tg(A)){if(T=A.nextSibling&&A.nextSibling.dataset,T)var te=T.dgst;T=te,c=Error(r(419)),c.stack="",c.digest=T,Vu({value:c,source:null,stack:null}),a=Bp(i,a,l)}else if(In||Uu(i,a,l,!1),T=(l&i.childLanes)!==0,In||T){if(T=qt,T!==null&&(c=l&-l,c=(c&42)!==0?1:Ci(c),c=(c&(T.suspendedLanes|l))!==0?0:c,c!==0&&c!==z.retryLane))throw z.retryLane=c,dl(i,c),kr(T,i,c),Z0;A.data==="$?"||sg(),a=Bp(i,a,l)}else A.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=z.treeContext,Zt=pi(A.nextSibling),sr=a,Ot=!0,po=null,Vi=!1,i!==null&&(Jr[ei++]=hs,Jr[ei++]=ms,Jr[ei++]=ho,hs=i.id,ms=i.overflow,ho=a),a=zp(a,c.children),a.flags|=4096);return a}return p?(Js(),p=c.fallback,A=a.mode,z=i.child,te=z.sibling,c=fs(z,{mode:"hidden",children:c.children}),c.subtreeFlags=z.subtreeFlags&65011712,te!==null?p=fs(te,p):(p=fo(p,A,l,null),p.flags|=2),p.return=a,c.return=a,c.sibling=p,a.child=c,c=p,p=a.child,A=i.child.memoizedState,A===null?A=Up(l):(z=A.cachePool,z!==null?(te=bn._currentValue,z=z.parent!==te?{parent:te,pool:te}:z):z=K_(),A={baseLanes:A.baseLanes|l,cachePool:z}),p.memoizedState=A,p.childLanes=jp(i,T,l),a.memoizedState=Vp,c):(Zs(a),l=i.child,i=l.sibling,l=fs(l,{mode:"visible",children:c.children}),l.return=a,l.sibling=null,i!==null&&(T=a.deletions,T===null?(a.deletions=[i],a.flags|=16):T.push(i)),a.child=l,a.memoizedState=null,l)}function zp(i,a){return a=gf({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function gf(i,a){return i=Rr(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Bp(i,a,l){return Tl(a,i.child,null,l),i=zp(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function lb(i,a,l){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),sp(i.return,a,l)}function Fp(i,a,l,c,p){var g=i.memoizedState;g===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:l,tailMode:p}:(g.isBackwards=a,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=l,g.tailMode=p)}function ub(i,a,l){var c=a.pendingProps,p=c.revealOrder,g=c.tail;if(Un(i,a,c.children,l),c=En.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&lb(i,l,a);else if(i.tag===19)lb(i,l,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(pe(En,c),p){case"forwards":for(l=a.child,p=null;l!==null;)i=l.alternate,i!==null&&ff(i)===null&&(p=l),l=l.sibling;l=p,l===null?(p=a.child,a.child=null):(p=l.sibling,l.sibling=null),Fp(a,!1,p,l,g);break;case"backwards":for(l=null,p=a.child,a.child=null;p!==null;){if(i=p.alternate,i!==null&&ff(i)===null){a.child=p;break}i=p.sibling,p.sibling=l,l=p,p=i}Fp(a,!0,l,null,g);break;case"together":Fp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function _s(i,a,l){if(i!==null&&(a.dependencies=i.dependencies),ia|=a.lanes,(l&a.childLanes)===0)if(i!==null){if(Uu(i,a,l,!1),(l&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(r(153));if(a.child!==null){for(i=a.child,l=fs(i,i.pendingProps),a.child=l,l.return=a;i.sibling!==null;)i=i.sibling,l=l.sibling=fs(i,i.pendingProps),l.return=a;l.sibling=null}return a.child}function $p(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Qd(i)))}function iR(i,a,l){switch(a.tag){case 3:Nt(a,a.stateNode.containerInfo),Ks(a,bn,i.memoizedState.cache),Lu();break;case 27:case 5:Ft(a);break;case 4:Nt(a,a.stateNode.containerInfo);break;case 10:Ks(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(Zs(a),a.flags|=128,null):(l&a.child.childLanes)!==0?ob(i,a,l):(Zs(a),i=_s(i,a,l),i!==null?i.sibling:null);Zs(a);break;case 19:var p=(i.flags&128)!==0;if(c=(l&a.childLanes)!==0,c||(Uu(i,a,l,!1),c=(l&a.childLanes)!==0),p){if(c)return ub(i,a,l);a.flags|=128}if(p=a.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),pe(En,En.current),c)break;return null;case 22:case 23:return a.lanes=0,nb(i,a,l);case 24:Ks(a,bn,i.memoizedState.cache)}return _s(i,a,l)}function cb(i,a,l){if(i!==null)if(i.memoizedProps!==a.pendingProps)In=!0;else{if(!$p(i,l)&&(a.flags&128)===0)return In=!1,iR(i,a,l);In=(i.flags&131072)!==0}else In=!1,Ot&&(a.flags&1048576)!==0&&z_(a,Yd,a.index);switch(a.lanes=0,a.tag){case 16:e:{i=a.pendingProps;var c=a.elementType,p=c._init;if(c=p(c._payload),a.type=c,typeof c=="function")Zm(c)?(i=Eo(c,i),a.tag=1,a=sb(null,a,c,i,l)):(a.tag=0,a=Lp(null,a,c,i,l));else{if(c!=null){if(p=c.$$typeof,p===Y){a.tag=11,a=J0(null,a,c,i,l);break e}else if(p===U){a.tag=14,a=eb(null,a,c,i,l);break e}}throw a=ye(c)||c,Error(r(306,a,""))}}return a;case 0:return Lp(i,a,a.type,a.pendingProps,l);case 1:return c=a.type,p=Eo(c,a.pendingProps),sb(i,a,c,p,l);case 3:e:{if(Nt(a,a.stateNode.containerInfo),i===null)throw Error(r(387));c=a.pendingProps;var g=a.memoizedState;p=g.element,fp(i,a),qu(a,c,null,l);var T=a.memoizedState;if(c=T.cache,Ks(a,bn,c),c!==g.cache&&ap(a,[bn],l,!0),Hu(),c=T.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:T.cache},a.updateQueue.baseState=g,a.memoizedState=g,a.flags&256){a=ab(i,a,c,l);break e}else if(c!==p){p=Wr(Error(r(424)),a),Vu(p),a=ab(i,a,c,l);break e}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Zt=pi(i.firstChild),sr=a,Ot=!0,po=null,Vi=!0,l=F0(a,null,c,l),a.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Lu(),c===p){a=_s(i,a,l);break e}Un(i,a,c,l)}a=a.child}return a;case 26:return pf(i,a),i===null?(l=mE(a.type,null,a.pendingProps,null))?a.memoizedState=l:Ot||(l=a.type,i=a.pendingProps,c=Nf(He.current).createElement(l),c[de]=a,c[ve]=i,zn(c,l,i),bt(c),a.stateNode=c):a.memoizedState=mE(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Ft(a),i===null&&Ot&&(c=a.stateNode=dE(a.type,a.pendingProps,He.current),sr=a,Vi=!0,p=Zt,la(a.type)?(wg=p,Zt=pi(c.firstChild)):Zt=p),Un(i,a,a.pendingProps.children,l),pf(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&Ot&&((p=c=Zt)&&(c=DR(c,a.type,a.pendingProps,Vi),c!==null?(a.stateNode=c,sr=a,Zt=pi(c.firstChild),Vi=!1,p=!0):p=!1),p||go(a)),Ft(a),p=a.type,g=a.pendingProps,T=i!==null?i.memoizedProps:null,c=g.children,_g(p,g)?c=null:T!==null&&_g(p,T)&&(a.flags|=32),a.memoizedState!==null&&(p=vp(i,a,XC,null,null,l),hc._currentValue=p),pf(i,a),Un(i,a,c,l),a.child;case 6:return i===null&&Ot&&((i=l=Zt)&&(l=kR(l,a.pendingProps,Vi),l!==null?(a.stateNode=l,sr=a,Zt=null,i=!0):i=!1),i||go(a)),null;case 13:return ob(i,a,l);case 4:return Nt(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=Tl(a,null,c,l):Un(i,a,c,l),a.child;case 11:return J0(i,a,a.type,a.pendingProps,l);case 7:return Un(i,a,a.pendingProps,l),a.child;case 8:return Un(i,a,a.pendingProps.children,l),a.child;case 12:return Un(i,a,a.pendingProps.children,l),a.child;case 10:return c=a.pendingProps,Ks(a,a.type,c.value),Un(i,a,c.children,l),a.child;case 9:return p=a.type._context,c=a.pendingProps.children,vo(a),p=Kn(p),c=c(p),a.flags|=1,Un(i,a,c,l),a.child;case 14:return eb(i,a,a.type,a.pendingProps,l);case 15:return tb(i,a,a.type,a.pendingProps,l);case 19:return ub(i,a,l);case 31:return c=a.pendingProps,l=a.mode,c={mode:c.mode,children:c.children},i===null?(l=gf(c,l),l.ref=a.ref,a.child=l,l.return=a,a=l):(l=fs(i.child,c),l.ref=a.ref,a.child=l,l.return=a,a=l),a;case 22:return nb(i,a,l);case 24:return vo(a),c=Kn(bn),i===null?(p=up(),p===null&&(p=qt,g=op(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=l),p=g),a.memoizedState={parent:c,cache:p},dp(a),Ks(a,bn,p)):((i.lanes&l)!==0&&(fp(i,a),qu(a,null,null,l),Hu()),p=i.memoizedState,g=a.memoizedState,p.parent!==c?(p={parent:c,cache:c},a.memoizedState=p,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=p),Ks(a,bn,c)):(c=g.cache,Ks(a,bn,c),c!==p.cache&&ap(a,[bn],l,!0))),Un(i,a,a.pendingProps.children,l),a.child;case 29:throw a.pendingProps}throw Error(r(156,a.tag))}function bs(i){i.flags|=4}function db(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!_E(a)){if(a=ti.current,a!==null&&((wt&4194048)===wt?Ui!==null:(wt&62914560)!==wt&&(wt&536870912)===0||a!==Ui))throw Fu=cp,Y_;i.flags|=8192}}function yf(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Wa():536870912,i.lanes|=a,xl|=a)}function Zu(i,a){if(!Ot)switch(i.tailMode){case"hidden":a=i.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Xt(i){var a=i.alternate!==null&&i.alternate.child===i.child,l=0,c=0;if(a)for(var p=i.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags&65011712,c|=p.flags&65011712,p.return=i,p=p.sibling;else for(p=i.child;p!==null;)l|=p.lanes|p.childLanes,c|=p.subtreeFlags,c|=p.flags,p.return=i,p=p.sibling;return i.subtreeFlags|=c,i.childLanes=l,a}function sR(i,a,l){var c=a.pendingProps;switch(np(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(a),null;case 1:return Xt(a),null;case 3:return l=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),gs(bn),qn(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(i===null||i.child===null)&&(Pu(a)?bs(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,$_())),Xt(a),null;case 26:return l=a.memoizedState,i===null?(bs(a),l!==null?(Xt(a),db(a,l)):(Xt(a),a.flags&=-16777217)):l?l!==i.memoizedState?(bs(a),Xt(a),db(a,l)):(Xt(a),a.flags&=-16777217):(i.memoizedProps!==c&&bs(a),Xt(a),a.flags&=-16777217),null;case 27:An(a),l=He.current;var p=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==c&&bs(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Xt(a),null}i=Ve.current,Pu(a)?B_(a):(i=dE(p,c,l),a.stateNode=i,bs(a))}return Xt(a),null;case 5:if(An(a),l=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&bs(a);else{if(!c){if(a.stateNode===null)throw Error(r(166));return Xt(a),null}if(i=Ve.current,Pu(a))B_(a);else{switch(p=Nf(He.current),i){case 1:i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":i=p.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":i=p.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":i=p.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?p.createElement("select",{is:c.is}):p.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?p.createElement(l,{is:c.is}):p.createElement(l)}}i[de]=a,i[ve]=c;e:for(p=a.child;p!==null;){if(p.tag===5||p.tag===6)i.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===a)break e;for(;p.sibling===null;){if(p.return===null||p.return===a)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}a.stateNode=i;e:switch(zn(i,l,c),l){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&bs(a)}}return Xt(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&bs(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(r(166));if(i=He.current,Pu(a)){if(i=a.stateNode,l=a.memoizedProps,c=null,p=sr,p!==null)switch(p.tag){case 27:case 5:c=p.memoizedProps}i[de]=a,i=!!(i.nodeValue===l||c!==null&&c.suppressHydrationWarning===!0||iE(i.nodeValue,l)),i||go(a)}else i=Nf(i).createTextNode(c),i[de]=a,a.stateNode=i}return Xt(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(p=Pu(a),c!==null&&c.dehydrated!==null){if(i===null){if(!p)throw Error(r(318));if(p=a.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(r(317));p[de]=a}else Lu(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Xt(a),p=!1}else p=$_(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=p),p=!0;if(!p)return a.flags&256?(vs(a),a):(vs(a),null)}if(vs(a),(a.flags&128)!==0)return a.lanes=l,a;if(l=c!==null,i=i!==null&&i.memoizedState!==null,l){c=a.child,p=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(p=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==p&&(c.flags|=2048)}return l!==i&&l&&(a.child.flags|=8192),yf(a,a.updateQueue),Xt(a),null;case 4:return qn(),i===null&&mg(a.stateNode.containerInfo),Xt(a),null;case 10:return gs(a.type),Xt(a),null;case 19:if(Te(En),p=a.memoizedState,p===null)return Xt(a),null;if(c=(a.flags&128)!==0,g=p.rendering,g===null)if(c)Zu(p,!1);else{if(Jt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(g=ff(i),g!==null){for(a.flags|=128,Zu(p,!1),i=g.updateQueue,a.updateQueue=i,yf(a,i),a.subtreeFlags=0,i=l,l=a.child;l!==null;)j_(l,i),l=l.sibling;return pe(En,En.current&1|2),a.child}i=i.sibling}p.tail!==null&&Mn()>bf&&(a.flags|=128,c=!0,Zu(p,!1),a.lanes=4194304)}else{if(!c)if(i=ff(g),i!==null){if(a.flags|=128,c=!0,i=i.updateQueue,a.updateQueue=i,yf(a,i),Zu(p,!0),p.tail===null&&p.tailMode==="hidden"&&!g.alternate&&!Ot)return Xt(a),null}else 2*Mn()-p.renderingStartTime>bf&&l!==536870912&&(a.flags|=128,c=!0,Zu(p,!1),a.lanes=4194304);p.isBackwards?(g.sibling=a.child,a.child=g):(i=p.last,i!==null?i.sibling=g:a.child=g,p.last=g)}return p.tail!==null?(a=p.tail,p.rendering=a,p.tail=a.sibling,p.renderingStartTime=Mn(),a.sibling=null,i=En.current,pe(En,c?i&1|2:i&1),a):(Xt(a),null);case 22:case 23:return vs(a),gp(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(l&536870912)!==0&&(a.flags&128)===0&&(Xt(a),a.subtreeFlags&6&&(a.flags|=8192)):Xt(a),l=a.updateQueue,l!==null&&yf(a,l.retryQueue),l=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==l&&(a.flags|=2048),i!==null&&Te(_o),null;case 24:return l=null,i!==null&&(l=i.memoizedState.cache),a.memoizedState.cache!==l&&(a.flags|=2048),gs(bn),Xt(a),null;case 25:return null;case 30:return null}throw Error(r(156,a.tag))}function aR(i,a){switch(np(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return gs(bn),qn(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return An(a),null;case 13:if(vs(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(r(340));Lu()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return Te(En),null;case 4:return qn(),null;case 10:return gs(a.type),null;case 22:case 23:return vs(a),gp(),i!==null&&Te(_o),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return gs(bn),null;case 25:return null;default:return null}}function fb(i,a){switch(np(a),a.tag){case 3:gs(bn),qn();break;case 26:case 27:case 5:An(a);break;case 4:qn();break;case 13:vs(a);break;case 19:Te(En);break;case 10:gs(a.type);break;case 22:case 23:vs(a),gp(),i!==null&&Te(_o);break;case 24:gs(bn)}}function Ju(i,a){try{var l=a.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var p=c.next;l=p;do{if((l.tag&i)===i){c=void 0;var g=l.create,T=l.inst;c=g(),T.destroy=c}l=l.next}while(l!==p)}}catch(A){Ht(a,a.return,A)}}function ea(i,a,l){try{var c=a.updateQueue,p=c!==null?c.lastEffect:null;if(p!==null){var g=p.next;c=g;do{if((c.tag&i)===i){var T=c.inst,A=T.destroy;if(A!==void 0){T.destroy=void 0,p=a;var z=l,te=A;try{te()}catch(le){Ht(p,z,le)}}}c=c.next}while(c!==g)}}catch(le){Ht(a,a.return,le)}}function hb(i){var a=i.updateQueue;if(a!==null){var l=i.stateNode;try{e0(a,l)}catch(c){Ht(i,i.return,c)}}}function mb(i,a,l){l.props=Eo(i.type,i.memoizedProps),l.state=i.memoizedState;try{l.componentWillUnmount()}catch(c){Ht(i,a,c)}}function ec(i,a){try{var l=i.ref;if(l!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof l=="function"?i.refCleanup=l(c):l.current=c}}catch(p){Ht(i,a,p)}}function ji(i,a){var l=i.ref,c=i.refCleanup;if(l!==null)if(typeof c=="function")try{c()}catch(p){Ht(i,a,p)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Ht(i,a,p)}else l.current=null}function pb(i){var a=i.type,l=i.memoizedProps,c=i.stateNode;try{e:switch(a){case"button":case"input":case"select":case"textarea":l.autoFocus&&c.focus();break e;case"img":l.src?c.src=l.src:l.srcSet&&(c.srcset=l.srcSet)}}catch(p){Ht(i,i.return,p)}}function Hp(i,a,l){try{var c=i.stateNode;CR(c,i.type,l,a),c[ve]=a}catch(p){Ht(i,i.return,p)}}function gb(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&la(i.type)||i.tag===4}function qp(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||gb(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&la(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Gp(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(i,a):(a=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,a.appendChild(i),l=l._reactRootContainer,l!=null||a.onclick!==null||(a.onclick=If));else if(c!==4&&(c===27&&la(i.type)&&(l=i.stateNode,a=null),i=i.child,i!==null))for(Gp(i,a,l),i=i.sibling;i!==null;)Gp(i,a,l),i=i.sibling}function vf(i,a,l){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?l.insertBefore(i,a):l.appendChild(i);else if(c!==4&&(c===27&&la(i.type)&&(l=i.stateNode),i=i.child,i!==null))for(vf(i,a,l),i=i.sibling;i!==null;)vf(i,a,l),i=i.sibling}function yb(i){var a=i.stateNode,l=i.memoizedProps;try{for(var c=i.type,p=a.attributes;p.length;)a.removeAttributeNode(p[0]);zn(a,c,l),a[de]=i,a[ve]=l}catch(g){Ht(i,i.return,g)}}var Es=!1,sn=!1,Kp=!1,vb=typeof WeakSet=="function"?WeakSet:Set,Nn=null;function oR(i,a){if(i=i.containerInfo,yg=Lf,i=I_(i),qm(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var c=l.getSelection&&l.getSelection();if(c&&c.rangeCount!==0){l=c.anchorNode;var p=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var T=0,A=-1,z=-1,te=0,le=0,fe=i,re=null;t:for(;;){for(var ie;fe!==l||p!==0&&fe.nodeType!==3||(A=T+p),fe!==g||c!==0&&fe.nodeType!==3||(z=T+c),fe.nodeType===3&&(T+=fe.nodeValue.length),(ie=fe.firstChild)!==null;)re=fe,fe=ie;for(;;){if(fe===i)break t;if(re===l&&++te===p&&(A=T),re===g&&++le===c&&(z=T),(ie=fe.nextSibling)!==null)break;fe=re,re=fe.parentNode}fe=ie}l=A===-1||z===-1?null:{start:A,end:z}}else l=null}l=l||{start:0,end:0}}else l=null;for(vg={focusedElem:i,selectionRange:l},Lf=!1,Nn=a;Nn!==null;)if(a=Nn,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,Nn=i;else for(;Nn!==null;){switch(a=Nn,g=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&g!==null){i=void 0,l=a,p=g.memoizedProps,g=g.memoizedState,c=l.stateNode;try{var Je=Eo(l.type,p,l.elementType===l.type);i=c.getSnapshotBeforeUpdate(Je,g),c.__reactInternalSnapshotBeforeUpdate=i}catch(Ye){Ht(l,l.return,Ye)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,l=i.nodeType,l===9)Eg(i);else if(l===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Eg(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=a.sibling,i!==null){i.return=a.return,Nn=i;break}Nn=a.return}}function _b(i,a,l){var c=l.flags;switch(l.tag){case 0:case 11:case 15:ta(i,l),c&4&&Ju(5,l);break;case 1:if(ta(i,l),c&4)if(i=l.stateNode,a===null)try{i.componentDidMount()}catch(T){Ht(l,l.return,T)}else{var p=Eo(l.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(p,a,i.__reactInternalSnapshotBeforeUpdate)}catch(T){Ht(l,l.return,T)}}c&64&&hb(l),c&512&&ec(l,l.return);break;case 3:if(ta(i,l),c&64&&(i=l.updateQueue,i!==null)){if(a=null,l.child!==null)switch(l.child.tag){case 27:case 5:a=l.child.stateNode;break;case 1:a=l.child.stateNode}try{e0(i,a)}catch(T){Ht(l,l.return,T)}}break;case 27:a===null&&c&4&&yb(l);case 26:case 5:ta(i,l),a===null&&c&4&&pb(l),c&512&&ec(l,l.return);break;case 12:ta(i,l);break;case 13:ta(i,l),c&4&&Tb(i,l),c&64&&(i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(l=gR.bind(null,l),MR(i,l))));break;case 22:if(c=l.memoizedState!==null||Es,!c){a=a!==null&&a.memoizedState!==null||sn,p=Es;var g=sn;Es=c,(sn=a)&&!g?na(i,l,(l.subtreeFlags&8772)!==0):ta(i,l),Es=p,sn=g}break;case 30:break;default:ta(i,l)}}function bb(i){var a=i.alternate;a!==null&&(i.alternate=null,bb(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&je(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Yt=null,yr=!1;function Ts(i,a,l){for(l=l.child;l!==null;)Eb(i,a,l),l=l.sibling}function Eb(i,a,l){if(Ne&&typeof Ne.onCommitFiberUnmount=="function")try{Ne.onCommitFiberUnmount(we,l)}catch{}switch(l.tag){case 26:sn||ji(l,a),Ts(i,a,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:sn||ji(l,a);var c=Yt,p=yr;la(l.type)&&(Yt=l.stateNode,yr=!1),Ts(i,a,l),uc(l.stateNode),Yt=c,yr=p;break;case 5:sn||ji(l,a);case 6:if(c=Yt,p=yr,Yt=null,Ts(i,a,l),Yt=c,yr=p,Yt!==null)if(yr)try{(Yt.nodeType===9?Yt.body:Yt.nodeName==="HTML"?Yt.ownerDocument.body:Yt).removeChild(l.stateNode)}catch(g){Ht(l,a,g)}else try{Yt.removeChild(l.stateNode)}catch(g){Ht(l,a,g)}break;case 18:Yt!==null&&(yr?(i=Yt,uE(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,l.stateNode),yc(i)):uE(Yt,l.stateNode));break;case 4:c=Yt,p=yr,Yt=l.stateNode.containerInfo,yr=!0,Ts(i,a,l),Yt=c,yr=p;break;case 0:case 11:case 14:case 15:sn||ea(2,l,a),sn||ea(4,l,a),Ts(i,a,l);break;case 1:sn||(ji(l,a),c=l.stateNode,typeof c.componentWillUnmount=="function"&&mb(l,a,c)),Ts(i,a,l);break;case 21:Ts(i,a,l);break;case 22:sn=(c=sn)||l.memoizedState!==null,Ts(i,a,l),sn=c;break;default:Ts(i,a,l)}}function Tb(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{yc(i)}catch(l){Ht(a,a.return,l)}}function lR(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new vb),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new vb),a;default:throw Error(r(435,i.tag))}}function Yp(i,a){var l=lR(i);a.forEach(function(c){var p=yR.bind(null,i,c);l.has(c)||(l.add(c),c.then(p,p))})}function Ir(i,a){var l=a.deletions;if(l!==null)for(var c=0;c<l.length;c++){var p=l[c],g=i,T=a,A=T;e:for(;A!==null;){switch(A.tag){case 27:if(la(A.type)){Yt=A.stateNode,yr=!1;break e}break;case 5:Yt=A.stateNode,yr=!1;break e;case 3:case 4:Yt=A.stateNode.containerInfo,yr=!0;break e}A=A.return}if(Yt===null)throw Error(r(160));Eb(g,T,p),Yt=null,yr=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)wb(a,i),a=a.sibling}var mi=null;function wb(i,a){var l=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ir(a,i),Nr(i),c&4&&(ea(3,i,i.return),Ju(3,i),ea(5,i,i.return));break;case 1:Ir(a,i),Nr(i),c&512&&(sn||l===null||ji(l,l.return)),c&64&&Es&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(l=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=l===null?c:l.concat(c))));break;case 26:var p=mi;if(Ir(a,i),Nr(i),c&512&&(sn||l===null||ji(l,l.return)),c&4){var g=l!==null?l.memoizedState:null;if(c=i.memoizedState,l===null)if(c===null)if(i.stateNode===null){e:{c=i.type,l=i.memoizedProps,p=p.ownerDocument||p;t:switch(c){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Ke]||g[de]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(c),p.head.insertBefore(g,p.querySelector("head > title"))),zn(g,c,l),g[de]=i,bt(g),c=g;break e;case"link":var T=yE("link","href",p).get(c+(l.href||""));if(T){for(var A=0;A<T.length;A++)if(g=T[A],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){T.splice(A,1);break t}}g=p.createElement(c),zn(g,c,l),p.head.appendChild(g);break;case"meta":if(T=yE("meta","content",p).get(c+(l.content||""))){for(A=0;A<T.length;A++)if(g=T[A],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){T.splice(A,1);break t}}g=p.createElement(c),zn(g,c,l),p.head.appendChild(g);break;default:throw Error(r(468,c))}g[de]=i,bt(g),c=g}i.stateNode=c}else vE(p,i.type,i.stateNode);else i.stateNode=gE(p,c,i.memoizedProps);else g!==c?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,c===null?vE(p,i.type,i.stateNode):gE(p,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Hp(i,i.memoizedProps,l.memoizedProps)}break;case 27:Ir(a,i),Nr(i),c&512&&(sn||l===null||ji(l,l.return)),l!==null&&c&4&&Hp(i,i.memoizedProps,l.memoizedProps);break;case 5:if(Ir(a,i),Nr(i),c&512&&(sn||l===null||ji(l,l.return)),i.flags&32){p=i.stateNode;try{Kr(p,"")}catch(ie){Ht(i,i.return,ie)}}c&4&&i.stateNode!=null&&(p=i.memoizedProps,Hp(i,p,l!==null?l.memoizedProps:p)),c&1024&&(Kp=!0);break;case 6:if(Ir(a,i),Nr(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,l=i.stateNode;try{l.nodeValue=c}catch(ie){Ht(i,i.return,ie)}}break;case 3:if(kf=null,p=mi,mi=Of(a.containerInfo),Ir(a,i),mi=p,Nr(i),c&4&&l!==null&&l.memoizedState.isDehydrated)try{yc(a.containerInfo)}catch(ie){Ht(i,i.return,ie)}Kp&&(Kp=!1,Sb(i));break;case 4:c=mi,mi=Of(i.stateNode.containerInfo),Ir(a,i),Nr(i),mi=c;break;case 12:Ir(a,i),Nr(i);break;case 13:Ir(a,i),Nr(i),i.child.flags&8192&&i.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(eg=Mn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Yp(i,c)));break;case 22:p=i.memoizedState!==null;var z=l!==null&&l.memoizedState!==null,te=Es,le=sn;if(Es=te||p,sn=le||z,Ir(a,i),sn=le,Es=te,Nr(i),c&8192)e:for(a=i.stateNode,a._visibility=p?a._visibility&-2:a._visibility|1,p&&(l===null||z||Es||sn||To(i)),l=null,a=i;;){if(a.tag===5||a.tag===26){if(l===null){z=l=a;try{if(g=z.stateNode,p)T=g.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none";else{A=z.stateNode;var fe=z.memoizedProps.style,re=fe!=null&&fe.hasOwnProperty("display")?fe.display:null;A.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(ie){Ht(z,z.return,ie)}}}else if(a.tag===6){if(l===null){z=a;try{z.stateNode.nodeValue=p?"":z.memoizedProps}catch(ie){Ht(z,z.return,ie)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;l===a&&(l=null),a=a.return}l===a&&(l=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(l=c.retryQueue,l!==null&&(c.retryQueue=null,Yp(i,l))));break;case 19:Ir(a,i),Nr(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Yp(i,c)));break;case 30:break;case 21:break;default:Ir(a,i),Nr(i)}}function Nr(i){var a=i.flags;if(a&2){try{for(var l,c=i.return;c!==null;){if(gb(c)){l=c;break}c=c.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var p=l.stateNode,g=qp(i);vf(i,g,p);break;case 5:var T=l.stateNode;l.flags&32&&(Kr(T,""),l.flags&=-33);var A=qp(i);vf(i,A,T);break;case 3:case 4:var z=l.stateNode.containerInfo,te=qp(i);Gp(i,te,z);break;default:throw Error(r(161))}}catch(le){Ht(i,i.return,le)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function Sb(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;Sb(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function ta(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)_b(i,a.alternate,a),a=a.sibling}function To(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:ea(4,a,a.return),To(a);break;case 1:ji(a,a.return);var l=a.stateNode;typeof l.componentWillUnmount=="function"&&mb(a,a.return,l),To(a);break;case 27:uc(a.stateNode);case 26:case 5:ji(a,a.return),To(a);break;case 22:a.memoizedState===null&&To(a);break;case 30:To(a);break;default:To(a)}i=i.sibling}}function na(i,a,l){for(l=l&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,p=i,g=a,T=g.flags;switch(g.tag){case 0:case 11:case 15:na(p,g,l),Ju(4,g);break;case 1:if(na(p,g,l),c=g,p=c.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(te){Ht(c,c.return,te)}if(c=g,p=c.updateQueue,p!==null){var A=c.stateNode;try{var z=p.shared.hiddenCallbacks;if(z!==null)for(p.shared.hiddenCallbacks=null,p=0;p<z.length;p++)J_(z[p],A)}catch(te){Ht(c,c.return,te)}}l&&T&64&&hb(g),ec(g,g.return);break;case 27:yb(g);case 26:case 5:na(p,g,l),l&&c===null&&T&4&&pb(g),ec(g,g.return);break;case 12:na(p,g,l);break;case 13:na(p,g,l),l&&T&4&&Tb(p,g);break;case 22:g.memoizedState===null&&na(p,g,l),ec(g,g.return);break;case 30:break;default:na(p,g,l)}a=a.sibling}}function Qp(i,a){var l=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==l&&(i!=null&&i.refCount++,l!=null&&ju(l))}function Xp(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&ju(i))}function zi(i,a,l,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Ab(i,a,l,c),a=a.sibling}function Ab(i,a,l,c){var p=a.flags;switch(a.tag){case 0:case 11:case 15:zi(i,a,l,c),p&2048&&Ju(9,a);break;case 1:zi(i,a,l,c);break;case 3:zi(i,a,l,c),p&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&ju(i)));break;case 12:if(p&2048){zi(i,a,l,c),i=a.stateNode;try{var g=a.memoizedProps,T=g.id,A=g.onPostCommit;typeof A=="function"&&A(T,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(z){Ht(a,a.return,z)}}else zi(i,a,l,c);break;case 13:zi(i,a,l,c);break;case 23:break;case 22:g=a.stateNode,T=a.alternate,a.memoizedState!==null?g._visibility&2?zi(i,a,l,c):tc(i,a):g._visibility&2?zi(i,a,l,c):(g._visibility|=2,wl(i,a,l,c,(a.subtreeFlags&10256)!==0)),p&2048&&Qp(T,a);break;case 24:zi(i,a,l,c),p&2048&&Xp(a.alternate,a);break;default:zi(i,a,l,c)}}function wl(i,a,l,c,p){for(p=p&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var g=i,T=a,A=l,z=c,te=T.flags;switch(T.tag){case 0:case 11:case 15:wl(g,T,A,z,p),Ju(8,T);break;case 23:break;case 22:var le=T.stateNode;T.memoizedState!==null?le._visibility&2?wl(g,T,A,z,p):tc(g,T):(le._visibility|=2,wl(g,T,A,z,p)),p&&te&2048&&Qp(T.alternate,T);break;case 24:wl(g,T,A,z,p),p&&te&2048&&Xp(T.alternate,T);break;default:wl(g,T,A,z,p)}a=a.sibling}}function tc(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var l=i,c=a,p=c.flags;switch(c.tag){case 22:tc(l,c),p&2048&&Qp(c.alternate,c);break;case 24:tc(l,c),p&2048&&Xp(c.alternate,c);break;default:tc(l,c)}a=a.sibling}}var nc=8192;function Sl(i){if(i.subtreeFlags&nc)for(i=i.child;i!==null;)xb(i),i=i.sibling}function xb(i){switch(i.tag){case 26:Sl(i),i.flags&nc&&i.memoizedState!==null&&KR(mi,i.memoizedState,i.memoizedProps);break;case 5:Sl(i);break;case 3:case 4:var a=mi;mi=Of(i.stateNode.containerInfo),Sl(i),mi=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=nc,nc=16777216,Sl(i),nc=a):Sl(i));break;default:Sl(i)}}function Cb(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function rc(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Nn=c,Ib(c,i)}Cb(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Rb(i),i=i.sibling}function Rb(i){switch(i.tag){case 0:case 11:case 15:rc(i),i.flags&2048&&ea(9,i,i.return);break;case 3:rc(i);break;case 12:rc(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,_f(i)):rc(i);break;default:rc(i)}}function _f(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var l=0;l<a.length;l++){var c=a[l];Nn=c,Ib(c,i)}Cb(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:ea(8,a,a.return),_f(a);break;case 22:l=a.stateNode,l._visibility&2&&(l._visibility&=-3,_f(a));break;default:_f(a)}i=i.sibling}}function Ib(i,a){for(;Nn!==null;){var l=Nn;switch(l.tag){case 0:case 11:case 15:ea(8,l,a);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var c=l.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:ju(l.memoizedState.cache)}if(c=l.child,c!==null)c.return=l,Nn=c;else e:for(l=i;Nn!==null;){c=Nn;var p=c.sibling,g=c.return;if(bb(c),c===l){Nn=null;break e}if(p!==null){p.return=g,Nn=p;break e}Nn=g}}}var uR={getCacheForType:function(i){var a=Kn(bn),l=a.data.get(i);return l===void 0&&(l=i(),a.data.set(i,l)),l}},cR=typeof WeakMap=="function"?WeakMap:Map,Pt=0,qt=null,pt=null,wt=0,Lt=0,Or=null,ra=!1,Al=!1,Wp=!1,ws=0,Jt=0,ia=0,wo=0,Zp=0,ni=0,xl=0,ic=null,vr=null,Jp=!1,eg=0,bf=1/0,Ef=null,sa=null,jn=0,aa=null,Cl=null,Rl=0,tg=0,ng=null,Nb=null,sc=0,rg=null;function Dr(){if((Pt&2)!==0&&wt!==0)return wt&-wt;if(Q.T!==null){var i=pl;return i!==0?i:cg()}return q()}function Ob(){ni===0&&(ni=(wt&536870912)===0||Ot?rs():536870912);var i=ti.current;return i!==null&&(i.flags|=32),ni}function kr(i,a,l){(i===qt&&(Lt===2||Lt===9)||i.cancelPendingCommit!==null)&&(Il(i,0),oa(i,wt,ni,!1)),di(i,l),((Pt&2)===0||i!==qt)&&(i===qt&&((Pt&2)===0&&(wo|=l),Jt===4&&oa(i,wt,ni,!1)),Bi(i))}function Db(i,a,l){if((Pt&6)!==0)throw Error(r(327));var c=!l&&(a&124)===0&&(a&i.expiredLanes)===0||mr(i,a),p=c?hR(i,a):ag(i,a,!0),g=c;do{if(p===0){Al&&!c&&oa(i,a,0,!1);break}else{if(l=i.current.alternate,g&&!dR(l)){p=ag(i,a,!1),g=!1;continue}if(p===2){if(g=a,i.errorRecoveryDisabledLanes&g)var T=0;else T=i.pendingLanes&-536870913,T=T!==0?T:T&536870912?536870912:0;if(T!==0){a=T;e:{var A=i;p=ic;var z=A.current.memoizedState.isDehydrated;if(z&&(Il(A,T).flags|=256),T=ag(A,T,!1),T!==2){if(Wp&&!z){A.errorRecoveryDisabledLanes|=g,wo|=g,p=4;break e}g=vr,vr=p,g!==null&&(vr===null?vr=g:vr.push.apply(vr,g))}p=T}if(g=!1,p!==2)continue}}if(p===1){Il(i,0),oa(i,a,0,!0);break}e:{switch(c=i,g=p,g){case 0:case 1:throw Error(r(345));case 4:if((a&4194048)!==a)break;case 6:oa(c,a,ni,!ra);break e;case 2:vr=null;break;case 3:case 5:break;default:throw Error(r(329))}if((a&62914560)===a&&(p=eg+300-Mn(),10<p)){if(oa(c,a,ni,!ra),$r(c,0,!0)!==0)break e;c.timeoutHandle=oE(kb.bind(null,c,l,vr,Ef,Jp,a,ni,wo,xl,ra,g,2,-0,0),p);break e}kb(c,l,vr,Ef,Jp,a,ni,wo,xl,ra,g,0,-0,0)}}break}while(!0);Bi(i)}function kb(i,a,l,c,p,g,T,A,z,te,le,fe,re,ie){if(i.timeoutHandle=-1,fe=a.subtreeFlags,(fe&8192||(fe&16785408)===16785408)&&(fc={stylesheets:null,count:0,unsuspend:GR},xb(a),fe=YR(),fe!==null)){i.cancelPendingCommit=fe(zb.bind(null,i,a,g,l,c,p,T,A,z,le,1,re,ie)),oa(i,g,T,!te);return}zb(i,a,g,l,c,p,T,A,z)}function dR(i){for(var a=i;;){var l=a.tag;if((l===0||l===11||l===15)&&a.flags&16384&&(l=a.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var c=0;c<l.length;c++){var p=l[c],g=p.getSnapshot;p=p.value;try{if(!Cr(g(),p))return!1}catch{return!1}}if(l=a.child,a.subtreeFlags&16384&&l!==null)l.return=a,a=l;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function oa(i,a,l,c){a&=~Zp,a&=~wo,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var p=a;0<p;){var g=31-At(p),T=1<<g;c[g]=-1,p&=~T}l!==0&&tr(i,l,a)}function Tf(){return(Pt&6)===0?(ac(0),!1):!0}function ig(){if(pt!==null){if(Lt===0)var i=pt.return;else i=pt,ps=yo=null,Ep(i),El=null,Xu=0,i=pt;for(;i!==null;)fb(i.alternate,i),i=i.return;pt=null}}function Il(i,a){var l=i.timeoutHandle;l!==-1&&(i.timeoutHandle=-1,IR(l)),l=i.cancelPendingCommit,l!==null&&(i.cancelPendingCommit=null,l()),ig(),qt=i,pt=l=fs(i.current,null),wt=a,Lt=0,Or=null,ra=!1,Al=mr(i,a),Wp=!1,xl=ni=Zp=wo=ia=Jt=0,vr=ic=null,Jp=!1,(a&8)!==0&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var p=31-At(c),g=1<<p;a|=i[p],c&=~g}return ws=a,$d(),l}function Mb(i,a){lt=null,Q.H=uf,a===Bu||a===Zd?(a=W_(),Lt=3):a===Y_?(a=W_(),Lt=4):Lt=a===Z0?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Or=a,pt===null&&(Jt=1,mf(i,Wr(a,i.current)))}function Pb(){var i=Q.H;return Q.H=uf,i===null?uf:i}function Lb(){var i=Q.A;return Q.A=uR,i}function sg(){Jt=4,ra||(wt&4194048)!==wt&&ti.current!==null||(Al=!0),(ia&134217727)===0&&(wo&134217727)===0||qt===null||oa(qt,wt,ni,!1)}function ag(i,a,l){var c=Pt;Pt|=2;var p=Pb(),g=Lb();(qt!==i||wt!==a)&&(Ef=null,Il(i,a)),a=!1;var T=Jt;e:do try{if(Lt!==0&&pt!==null){var A=pt,z=Or;switch(Lt){case 8:ig(),T=6;break e;case 3:case 2:case 9:case 6:ti.current===null&&(a=!0);var te=Lt;if(Lt=0,Or=null,Nl(i,A,z,te),l&&Al){T=0;break e}break;default:te=Lt,Lt=0,Or=null,Nl(i,A,z,te)}}fR(),T=Jt;break}catch(le){Mb(i,le)}while(!0);return a&&i.shellSuspendCounter++,ps=yo=null,Pt=c,Q.H=p,Q.A=g,pt===null&&(qt=null,wt=0,$d()),T}function fR(){for(;pt!==null;)Vb(pt)}function hR(i,a){var l=Pt;Pt|=2;var c=Pb(),p=Lb();qt!==i||wt!==a?(Ef=null,bf=Mn()+500,Il(i,a)):Al=mr(i,a);e:do try{if(Lt!==0&&pt!==null){a=pt;var g=Or;t:switch(Lt){case 1:Lt=0,Or=null,Nl(i,a,g,1);break;case 2:case 9:if(Q_(g)){Lt=0,Or=null,Ub(a);break}a=function(){Lt!==2&&Lt!==9||qt!==i||(Lt=7),Bi(i)},g.then(a,a);break e;case 3:Lt=7;break e;case 4:Lt=5;break e;case 7:Q_(g)?(Lt=0,Or=null,Ub(a)):(Lt=0,Or=null,Nl(i,a,g,7));break;case 5:var T=null;switch(pt.tag){case 26:T=pt.memoizedState;case 5:case 27:var A=pt;if(!T||_E(T)){Lt=0,Or=null;var z=A.sibling;if(z!==null)pt=z;else{var te=A.return;te!==null?(pt=te,wf(te)):pt=null}break t}}Lt=0,Or=null,Nl(i,a,g,5);break;case 6:Lt=0,Or=null,Nl(i,a,g,6);break;case 8:ig(),Jt=6;break e;default:throw Error(r(462))}}mR();break}catch(le){Mb(i,le)}while(!0);return ps=yo=null,Q.H=c,Q.A=p,Pt=l,pt!==null?0:(qt=null,wt=0,$d(),Jt)}function mR(){for(;pt!==null&&!Si();)Vb(pt)}function Vb(i){var a=cb(i.alternate,i,ws);i.memoizedProps=i.pendingProps,a===null?wf(i):pt=a}function Ub(i){var a=i,l=a.alternate;switch(a.tag){case 15:case 0:a=ib(l,a,a.pendingProps,a.type,void 0,wt);break;case 11:a=ib(l,a,a.pendingProps,a.type.render,a.ref,wt);break;case 5:Ep(a);default:fb(l,a),a=pt=j_(a,ws),a=cb(l,a,ws)}i.memoizedProps=i.pendingProps,a===null?wf(i):pt=a}function Nl(i,a,l,c){ps=yo=null,Ep(a),El=null,Xu=0;var p=a.return;try{if(rR(i,p,a,l,wt)){Jt=1,mf(i,Wr(l,i.current)),pt=null;return}}catch(g){if(p!==null)throw pt=p,g;Jt=1,mf(i,Wr(l,i.current)),pt=null;return}a.flags&32768?(Ot||c===1?i=!0:Al||(wt&536870912)!==0?i=!1:(ra=i=!0,(c===2||c===9||c===3||c===6)&&(c=ti.current,c!==null&&c.tag===13&&(c.flags|=16384))),jb(a,i)):wf(a)}function wf(i){var a=i;do{if((a.flags&32768)!==0){jb(a,ra);return}i=a.return;var l=sR(a.alternate,a,ws);if(l!==null){pt=l;return}if(a=a.sibling,a!==null){pt=a;return}pt=a=i}while(a!==null);Jt===0&&(Jt=5)}function jb(i,a){do{var l=aR(i.alternate,i);if(l!==null){l.flags&=32767,pt=l;return}if(l=i.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!a&&(i=i.sibling,i!==null)){pt=i;return}pt=i=l}while(i!==null);Jt=6,pt=null}function zb(i,a,l,c,p,g,T,A,z){i.cancelPendingCommit=null;do Sf();while(jn!==0);if((Pt&6)!==0)throw Error(r(327));if(a!==null){if(a===i.current)throw Error(r(177));if(g=a.lanes|a.childLanes,g|=Xm,Fs(i,l,g,T,A,z),i===qt&&(pt=qt=null,wt=0),Cl=a,aa=i,Rl=l,tg=g,ng=p,Nb=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,vR(ne,function(){return qb(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=Q.T,Q.T=null,p=ce.p,ce.p=2,T=Pt,Pt|=4;try{oR(i,a,l)}finally{Pt=T,ce.p=p,Q.T=c}}jn=1,Bb(),Fb(),$b()}}function Bb(){if(jn===1){jn=0;var i=aa,a=Cl,l=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||l){l=Q.T,Q.T=null;var c=ce.p;ce.p=2;var p=Pt;Pt|=4;try{wb(a,i);var g=vg,T=I_(i.containerInfo),A=g.focusedElem,z=g.selectionRange;if(T!==A&&A&&A.ownerDocument&&R_(A.ownerDocument.documentElement,A)){if(z!==null&&qm(A)){var te=z.start,le=z.end;if(le===void 0&&(le=te),"selectionStart"in A)A.selectionStart=te,A.selectionEnd=Math.min(le,A.value.length);else{var fe=A.ownerDocument||document,re=fe&&fe.defaultView||window;if(re.getSelection){var ie=re.getSelection(),Je=A.textContent.length,Ye=Math.min(z.start,Je),zt=z.end===void 0?Ye:Math.min(z.end,Je);!ie.extend&&Ye>zt&&(T=zt,zt=Ye,Ye=T);var X=C_(A,Ye),K=C_(A,zt);if(X&&K&&(ie.rangeCount!==1||ie.anchorNode!==X.node||ie.anchorOffset!==X.offset||ie.focusNode!==K.node||ie.focusOffset!==K.offset)){var J=fe.createRange();J.setStart(X.node,X.offset),ie.removeAllRanges(),Ye>zt?(ie.addRange(J),ie.extend(K.node,K.offset)):(J.setEnd(K.node,K.offset),ie.addRange(J))}}}}for(fe=[],ie=A;ie=ie.parentNode;)ie.nodeType===1&&fe.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<fe.length;A++){var ue=fe[A];ue.element.scrollLeft=ue.left,ue.element.scrollTop=ue.top}}Lf=!!yg,vg=yg=null}finally{Pt=p,ce.p=c,Q.T=l}}i.current=a,jn=2}}function Fb(){if(jn===2){jn=0;var i=aa,a=Cl,l=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||l){l=Q.T,Q.T=null;var c=ce.p;ce.p=2;var p=Pt;Pt|=4;try{_b(i,a.alternate,a)}finally{Pt=p,ce.p=c,Q.T=l}}jn=3}}function $b(){if(jn===4||jn===3){jn=0,Bs();var i=aa,a=Cl,l=Rl,c=Nb;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?jn=5:(jn=0,Cl=aa=null,Hb(i,i.pendingLanes));var p=i.pendingLanes;if(p===0&&(sa=null),$s(l),a=a.stateNode,Ne&&typeof Ne.onCommitFiberRoot=="function")try{Ne.onCommitFiberRoot(we,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=Q.T,p=ce.p,ce.p=2,Q.T=null;try{for(var g=i.onRecoverableError,T=0;T<c.length;T++){var A=c[T];g(A.value,{componentStack:A.stack})}}finally{Q.T=a,ce.p=p}}(Rl&3)!==0&&Sf(),Bi(i),p=i.pendingLanes,(l&4194090)!==0&&(p&42)!==0?i===rg?sc++:(sc=0,rg=i):sc=0,ac(0)}}function Hb(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,ju(a)))}function Sf(i){return Bb(),Fb(),$b(),qb()}function qb(){if(jn!==5)return!1;var i=aa,a=tg;tg=0;var l=$s(Rl),c=Q.T,p=ce.p;try{ce.p=32>l?32:l,Q.T=null,l=ng,ng=null;var g=aa,T=Rl;if(jn=0,Cl=aa=null,Rl=0,(Pt&6)!==0)throw Error(r(331));var A=Pt;if(Pt|=4,Rb(g.current),Ab(g,g.current,T,l),Pt=A,ac(0,!1),Ne&&typeof Ne.onPostCommitFiberRoot=="function")try{Ne.onPostCommitFiberRoot(we,g)}catch{}return!0}finally{ce.p=p,Q.T=c,Hb(i,a)}}function Gb(i,a,l){a=Wr(l,a),a=Pp(i.stateNode,a,2),i=Xs(i,a,2),i!==null&&(di(i,2),Bi(i))}function Ht(i,a,l){if(i.tag===3)Gb(i,i,l);else for(;a!==null;){if(a.tag===3){Gb(a,i,l);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(sa===null||!sa.has(c))){i=Wr(l,i),l=X0(2),c=Xs(a,l,2),c!==null&&(W0(l,c,a,i),di(c,2),Bi(c));break}}a=a.return}}function og(i,a,l){var c=i.pingCache;if(c===null){c=i.pingCache=new cR;var p=new Set;c.set(a,p)}else p=c.get(a),p===void 0&&(p=new Set,c.set(a,p));p.has(l)||(Wp=!0,p.add(l),i=pR.bind(null,i,a,l),a.then(i,i))}function pR(i,a,l){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&l,i.warmLanes&=~l,qt===i&&(wt&l)===l&&(Jt===4||Jt===3&&(wt&62914560)===wt&&300>Mn()-eg?(Pt&2)===0&&Il(i,0):Zp|=l,xl===wt&&(xl=0)),Bi(i)}function Kb(i,a){a===0&&(a=Wa()),i=dl(i,a),i!==null&&(di(i,a),Bi(i))}function gR(i){var a=i.memoizedState,l=0;a!==null&&(l=a.retryLane),Kb(i,l)}function yR(i,a){var l=0;switch(i.tag){case 13:var c=i.stateNode,p=i.memoizedState;p!==null&&(l=p.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(a),Kb(i,l)}function vR(i,a){return li(i,a)}var Af=null,Ol=null,lg=!1,xf=!1,ug=!1,So=0;function Bi(i){i!==Ol&&i.next===null&&(Ol===null?Af=Ol=i:Ol=Ol.next=i),xf=!0,lg||(lg=!0,bR())}function ac(i,a){if(!ug&&xf){ug=!0;do for(var l=!1,c=Af;c!==null;){if(i!==0){var p=c.pendingLanes;if(p===0)var g=0;else{var T=c.suspendedLanes,A=c.pingedLanes;g=(1<<31-At(42|i)+1)-1,g&=p&~(T&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,Wb(c,g))}else g=wt,g=$r(c,c===qt?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||mr(c,g)||(l=!0,Wb(c,g));c=c.next}while(l);ug=!1}}function _R(){Yb()}function Yb(){xf=lg=!1;var i=0;So!==0&&(RR()&&(i=So),So=0);for(var a=Mn(),l=null,c=Af;c!==null;){var p=c.next,g=Qb(c,a);g===0?(c.next=null,l===null?Af=p:l.next=p,p===null&&(Ol=l)):(l=c,(i!==0||(g&3)!==0)&&(xf=!0)),c=p}ac(i)}function Qb(i,a){for(var l=i.suspendedLanes,c=i.pingedLanes,p=i.expirationTimes,g=i.pendingLanes&-62914561;0<g;){var T=31-At(g),A=1<<T,z=p[T];z===-1?((A&l)===0||(A&c)!==0)&&(p[T]=ci(A,a)):z<=a&&(i.expiredLanes|=A),g&=~A}if(a=qt,l=wt,l=$r(i,i===a?l:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,l===0||i===a&&(Lt===2||Lt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&xn(c),i.callbackNode=null,i.callbackPriority=0;if((l&3)===0||mr(i,l)){if(a=l&-l,a===i.callbackPriority)return a;switch(c!==null&&xn(c),$s(l)){case 2:case 8:l=H;break;case 32:l=ne;break;case 268435456:l=xe;break;default:l=ne}return c=Xb.bind(null,i),l=li(l,c),i.callbackPriority=a,i.callbackNode=l,a}return c!==null&&c!==null&&xn(c),i.callbackPriority=2,i.callbackNode=null,2}function Xb(i,a){if(jn!==0&&jn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var l=i.callbackNode;if(Sf()&&i.callbackNode!==l)return null;var c=wt;return c=$r(i,i===qt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(Db(i,c,a),Qb(i,Mn()),i.callbackNode!=null&&i.callbackNode===l?Xb.bind(null,i):null)}function Wb(i,a){if(Sf())return null;Db(i,a,!0)}function bR(){NR(function(){(Pt&6)!==0?li(Ai,_R):Yb()})}function cg(){return So===0&&(So=rs()),So}function Zb(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Jo(""+i)}function Jb(i,a){var l=a.ownerDocument.createElement("input");return l.name=a.name,l.value=a.value,i.id&&l.setAttribute("form",i.id),a.parentNode.insertBefore(l,a),i=new FormData(i),l.parentNode.removeChild(l),i}function ER(i,a,l,c,p){if(a==="submit"&&l&&l.stateNode===p){var g=Zb((p[ve]||null).action),T=c.submitter;T&&(a=(a=T[ve]||null)?Zb(a.formAction):T.getAttribute("formAction"),a!==null&&(g=a,T=null));var A=new el("action","action",null,c,p);i.push({event:A,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(So!==0){var z=T?Jb(p,T):new FormData(p);Np(l,{pending:!0,data:z,method:p.method,action:g},null,z)}}else typeof g=="function"&&(A.preventDefault(),z=T?Jb(p,T):new FormData(p),Np(l,{pending:!0,data:z,method:p.method,action:g},g,z))},currentTarget:p}]})}}for(var dg=0;dg<Qm.length;dg++){var fg=Qm[dg],TR=fg.toLowerCase(),wR=fg[0].toUpperCase()+fg.slice(1);hi(TR,"on"+wR)}hi(D_,"onAnimationEnd"),hi(k_,"onAnimationIteration"),hi(M_,"onAnimationStart"),hi("dblclick","onDoubleClick"),hi("focusin","onFocus"),hi("focusout","onBlur"),hi(zC,"onTransitionRun"),hi(BC,"onTransitionStart"),hi(FC,"onTransitionCancel"),hi(P_,"onTransitionEnd"),nr("onMouseEnter",["mouseout","mouseover"]),nr("onMouseLeave",["mouseout","mouseover"]),nr("onPointerEnter",["pointerout","pointerover"]),nr("onPointerLeave",["pointerout","pointerover"]),yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var oc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(oc));function eE(i,a){a=(a&4)!==0;for(var l=0;l<i.length;l++){var c=i[l],p=c.event;c=c.listeners;e:{var g=void 0;if(a)for(var T=c.length-1;0<=T;T--){var A=c[T],z=A.instance,te=A.currentTarget;if(A=A.listener,z!==g&&p.isPropagationStopped())break e;g=A,p.currentTarget=te;try{g(p)}catch(le){hf(le)}p.currentTarget=null,g=z}else for(T=0;T<c.length;T++){if(A=c[T],z=A.instance,te=A.currentTarget,A=A.listener,z!==g&&p.isPropagationStopped())break e;g=A,p.currentTarget=te;try{g(p)}catch(le){hf(le)}p.currentTarget=null,g=z}}}}function gt(i,a){var l=a[Ge];l===void 0&&(l=a[Ge]=new Set);var c=i+"__bubble";l.has(c)||(tE(a,i,2,!1),l.add(c))}function hg(i,a,l){var c=0;a&&(c|=4),tE(l,i,c,a)}var Cf="_reactListening"+Math.random().toString(36).slice(2);function mg(i){if(!i[Cf]){i[Cf]=!0,ct.forEach(function(l){l!=="selectionchange"&&(SR.has(l)||hg(l,!1,i),hg(l,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Cf]||(a[Cf]=!0,hg("selectionchange",!1,a))}}function tE(i,a,l,c){switch(AE(a)){case 2:var p=WR;break;case 8:p=ZR;break;default:p=Rg}l=p.bind(null,a,l,i),p=void 0,!Qr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(p=!0),c?p!==void 0?i.addEventListener(a,l,{capture:!0,passive:p}):i.addEventListener(a,l,!0):p!==void 0?i.addEventListener(a,l,{passive:p}):i.addEventListener(a,l,!1)}function pg(i,a,l,c,p){var g=c;if((a&1)===0&&(a&2)===0&&c!==null)e:for(;;){if(c===null)return;var T=c.tag;if(T===3||T===4){var A=c.stateNode.containerInfo;if(A===p)break;if(T===4)for(T=c.return;T!==null;){var z=T.tag;if((z===3||z===4)&&T.stateNode.containerInfo===p)return;T=T.return}for(;A!==null;){if(T=Qe(A),T===null)return;if(z=T.tag,z===5||z===6||z===26||z===27){c=g=T;continue e}A=A.parentNode}}c=c.return}Rd(function(){var te=g,le=Yr(l),fe=[];e:{var re=L_.get(i);if(re!==void 0){var ie=el,Je=i;switch(i){case"keypress":if(Di(l)===0)break e;case"keydown":case"keyup":ie=al;break;case"focusin":Je="focus",ie=rl;break;case"focusout":Je="blur",ie=rl;break;case"beforeblur":case"afterblur":ie=rl;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Xr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Bm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=Ld;break;case D_:case k_:case M_:ie=il;break;case P_:ie=Ud;break;case"scroll":case"scrollend":ie=Id;break;case"wheel":ie=ol;break;case"copy":case"cut":case"paste":ie=sl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Ou;break;case"toggle":case"beforetoggle":ie=zd}var Ye=(a&4)!==0,zt=!Ye&&(i==="scroll"||i==="scrollend"),X=Ye?re!==null?re+"Capture":null:re;Ye=[];for(var K=te,J;K!==null;){var ue=K;if(J=ue.stateNode,ue=ue.tag,ue!==5&&ue!==26&&ue!==27||J===null||X===null||(ue=no(K,X),ue!=null&&Ye.push(lc(K,ue,J))),zt)break;K=K.return}0<Ye.length&&(re=new ie(re,Je,null,l,le),fe.push({event:re,listeners:Ye}))}}if((a&7)===0){e:{if(re=i==="mouseover"||i==="pointerover",ie=i==="mouseout"||i==="pointerout",re&&l!==as&&(Je=l.relatedTarget||l.fromElement)&&(Qe(Je)||Je[Oe]))break e;if((ie||re)&&(re=le.window===le?le:(re=le.ownerDocument)?re.defaultView||re.parentWindow:window,ie?(Je=l.relatedTarget||l.toElement,ie=te,Je=Je?Qe(Je):null,Je!==null&&(zt=o(Je),Ye=Je.tag,Je!==zt||Ye!==5&&Ye!==27&&Ye!==6)&&(Je=null)):(ie=null,Je=te),ie!==Je)){if(Ye=Xr,ue="onMouseLeave",X="onMouseEnter",K="mouse",(i==="pointerout"||i==="pointerover")&&(Ye=Ou,ue="onPointerLeave",X="onPointerEnter",K="pointer"),zt=ie==null?re:Dt(ie),J=Je==null?re:Dt(Je),re=new Ye(ue,K+"leave",ie,l,le),re.target=zt,re.relatedTarget=J,ue=null,Qe(le)===te&&(Ye=new Ye(X,K+"enter",Je,l,le),Ye.target=J,Ye.relatedTarget=zt,ue=Ye),zt=ue,ie&&Je)t:{for(Ye=ie,X=Je,K=0,J=Ye;J;J=Dl(J))K++;for(J=0,ue=X;ue;ue=Dl(ue))J++;for(;0<K-J;)Ye=Dl(Ye),K--;for(;0<J-K;)X=Dl(X),J--;for(;K--;){if(Ye===X||X!==null&&Ye===X.alternate)break t;Ye=Dl(Ye),X=Dl(X)}Ye=null}else Ye=null;ie!==null&&nE(fe,re,ie,Ye,!1),Je!==null&&zt!==null&&nE(fe,zt,Je,Ye,!0)}}e:{if(re=te?Dt(te):window,ie=re.nodeName&&re.nodeName.toLowerCase(),ie==="select"||ie==="input"&&re.type==="file")var Pe=E_;else if(_n(re))if(T_)Pe=VC;else{Pe=PC;var dt=MC}else ie=re.nodeName,!ie||ie.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?te&&Su(te.elementType)&&(Pe=E_):Pe=LC;if(Pe&&(Pe=Pe(i,te))){ds(fe,Pe,l,le);break e}dt&&dt(i,re,te),i==="focusout"&&te&&re.type==="number"&&te.memoizedProps.value!=null&&qs(re,"number",re.value)}switch(dt=te?Dt(te):window,i){case"focusin":(_n(dt)||dt.contentEditable==="true")&&(ll=dt,Gm=te,Mu=null);break;case"focusout":Mu=Gm=ll=null;break;case"mousedown":Km=!0;break;case"contextmenu":case"mouseup":case"dragend":Km=!1,N_(fe,l,le);break;case"selectionchange":if(jC)break;case"keydown":case"keyup":N_(fe,l,le)}var $e;if(Pi)e:{switch(i){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Et?se(i,l)&&(Xe="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Xe="onCompositionStart");Xe&&(E&&l.locale!=="ko"&&(Et||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Et&&($e=xu()):(Oi=le,Gs="value"in Oi?Oi.value:Oi.textContent,Et=!0)),dt=Rf(te,Xe),0<dt.length&&(Xe=new Iu(Xe,i,null,l,le),fe.push({event:Xe,listeners:dt}),$e?Xe.data=$e:($e=Ae(l),$e!==null&&(Xe.data=$e)))),($e=v?vn(i,l):Tt(i,l))&&(Xe=Rf(te,"onBeforeInput"),0<Xe.length&&(dt=new Iu("onBeforeInput","beforeinput",null,l,le),fe.push({event:dt,listeners:Xe}),dt.data=$e)),ER(fe,i,te,l,le)}eE(fe,a)})}function lc(i,a,l){return{instance:i,listener:a,currentTarget:l}}function Rf(i,a){for(var l=a+"Capture",c=[];i!==null;){var p=i,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=no(i,l),p!=null&&c.unshift(lc(i,p,g)),p=no(i,a),p!=null&&c.push(lc(i,p,g))),i.tag===3)return c;i=i.return}return[]}function Dl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function nE(i,a,l,c,p){for(var g=a._reactName,T=[];l!==null&&l!==c;){var A=l,z=A.alternate,te=A.stateNode;if(A=A.tag,z!==null&&z===c)break;A!==5&&A!==26&&A!==27||te===null||(z=te,p?(te=no(l,g),te!=null&&T.unshift(lc(l,te,z))):p||(te=no(l,g),te!=null&&T.push(lc(l,te,z)))),l=l.return}T.length!==0&&i.push({event:a,listeners:T})}var AR=/\r\n?/g,xR=/\u0000|\uFFFD/g;function rE(i){return(typeof i=="string"?i:""+i).replace(AR,`
`).replace(xR,"")}function iE(i,a){return a=rE(a),rE(i)===a}function If(){}function jt(i,a,l,c,p,g){switch(l){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Kr(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Kr(i,""+c);break;case"className":rr(i,"class",c);break;case"tabIndex":rr(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":rr(i,l,c);break;case"style":wu(i,c,g);break;case"data":if(a!=="object"){rr(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||l!=="href")){i.removeAttribute(l);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Jo(""+c),i.setAttribute(l,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(a!=="input"&&jt(i,a,"name",p.name,p,null),jt(i,a,"formEncType",p.formEncType,p,null),jt(i,a,"formMethod",p.formMethod,p,null),jt(i,a,"formTarget",p.formTarget,p,null)):(jt(i,a,"encType",p.encType,p,null),jt(i,a,"method",p.method,p,null),jt(i,a,"target",p.target,p,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(l);break}c=Jo(""+c),i.setAttribute(l,c);break;case"onClick":c!=null&&(i.onclick=If);break;case"onScroll":c!=null&&gt("scroll",i);break;case"onScrollEnd":c!=null&&gt("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}l=Jo(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""+c):i.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,""):i.removeAttribute(l);break;case"capture":case"download":c===!0?i.setAttribute(l,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(l,c):i.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(l,c):i.removeAttribute(l);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(l):i.setAttribute(l,c);break;case"popover":gt("beforetoggle",i),gt("toggle",i),Gn(i,"popover",c);break;case"xlinkActuate":tt(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":tt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":tt(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":tt(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":tt(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":tt(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":tt(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":tt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":tt(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Gn(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=jm.get(l)||l,Gn(i,l,c))}}function gg(i,a,l,c,p,g){switch(l){case"style":wu(i,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(l=c.__html,l!=null){if(p.children!=null)throw Error(r(60));i.innerHTML=l}}break;case"children":typeof c=="string"?Kr(i,c):(typeof c=="number"||typeof c=="bigint")&&Kr(i,""+c);break;case"onScroll":c!=null&&gt("scroll",i);break;case"onScrollEnd":c!=null&&gt("scrollend",i);break;case"onClick":c!=null&&(i.onclick=If);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!qr.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),a=l.slice(2,p?l.length-7:void 0),g=i[ve]||null,g=g!=null?g[l]:null,typeof g=="function"&&i.removeEventListener(a,g,p),typeof c=="function")){typeof g!="function"&&g!==null&&(l in i?i[l]=null:i.hasAttribute(l)&&i.removeAttribute(l)),i.addEventListener(a,c,p);break e}l in i?i[l]=c:c===!0?i.setAttribute(l,""):Gn(i,l,c)}}}function zn(i,a,l){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gt("error",i),gt("load",i);var c=!1,p=!1,g;for(g in l)if(l.hasOwnProperty(g)){var T=l[g];if(T!=null)switch(g){case"src":c=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:jt(i,a,g,T,l,null)}}p&&jt(i,a,"srcSet",l.srcSet,l,null),c&&jt(i,a,"src",l.src,l,null);return;case"input":gt("invalid",i);var A=g=T=p=null,z=null,te=null;for(c in l)if(l.hasOwnProperty(c)){var le=l[c];if(le!=null)switch(c){case"name":p=le;break;case"type":T=le;break;case"checked":z=le;break;case"defaultChecked":te=le;break;case"value":g=le;break;case"defaultValue":A=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,a));break;default:jt(i,a,c,le,l,null)}}Ja(i,g,A,z,te,T,p,!1),Zo(i);return;case"select":gt("invalid",i),c=T=g=null;for(p in l)if(l.hasOwnProperty(p)&&(A=l[p],A!=null))switch(p){case"value":g=A;break;case"defaultValue":T=A;break;case"multiple":c=A;default:jt(i,a,p,A,l,null)}a=g,l=T,i.multiple=!!c,a!=null?ss(i,!!c,a,!1):l!=null&&ss(i,!!c,l,!0);return;case"textarea":gt("invalid",i),g=p=c=null;for(T in l)if(l.hasOwnProperty(T)&&(A=l[T],A!=null))switch(T){case"value":c=A;break;case"defaultValue":p=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(r(91));break;default:jt(i,a,T,A,l,null)}eo(i,c,p,g),Zo(i);return;case"option":for(z in l)if(l.hasOwnProperty(z)&&(c=l[z],c!=null))switch(z){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:jt(i,a,z,c,l,null)}return;case"dialog":gt("beforetoggle",i),gt("toggle",i),gt("cancel",i),gt("close",i);break;case"iframe":case"object":gt("load",i);break;case"video":case"audio":for(c=0;c<oc.length;c++)gt(oc[c],i);break;case"image":gt("error",i),gt("load",i);break;case"details":gt("toggle",i);break;case"embed":case"source":case"link":gt("error",i),gt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in l)if(l.hasOwnProperty(te)&&(c=l[te],c!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,a));default:jt(i,a,te,c,l,null)}return;default:if(Su(a)){for(le in l)l.hasOwnProperty(le)&&(c=l[le],c!==void 0&&gg(i,a,le,c,l,void 0));return}}for(A in l)l.hasOwnProperty(A)&&(c=l[A],c!=null&&jt(i,a,A,c,l,null))}function CR(i,a,l,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,T=null,A=null,z=null,te=null,le=null;for(ie in l){var fe=l[ie];if(l.hasOwnProperty(ie)&&fe!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":z=fe;default:c.hasOwnProperty(ie)||jt(i,a,ie,null,c,fe)}}for(var re in c){var ie=c[re];if(fe=l[re],c.hasOwnProperty(re)&&(ie!=null||fe!=null))switch(re){case"type":g=ie;break;case"name":p=ie;break;case"checked":te=ie;break;case"defaultChecked":le=ie;break;case"value":T=ie;break;case"defaultValue":A=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,a));break;default:ie!==fe&&jt(i,a,re,ie,c,fe)}}xr(i,T,A,z,te,le,g,p);return;case"select":ie=T=A=re=null;for(g in l)if(z=l[g],l.hasOwnProperty(g)&&z!=null)switch(g){case"value":break;case"multiple":ie=z;default:c.hasOwnProperty(g)||jt(i,a,g,null,c,z)}for(p in c)if(g=c[p],z=l[p],c.hasOwnProperty(p)&&(g!=null||z!=null))switch(p){case"value":re=g;break;case"defaultValue":A=g;break;case"multiple":T=g;default:g!==z&&jt(i,a,p,g,c,z)}a=A,l=T,c=ie,re!=null?ss(i,!!l,re,!1):!!c!=!!l&&(a!=null?ss(i,!!l,a,!0):ss(i,!!l,l?[]:"",!1));return;case"textarea":ie=re=null;for(A in l)if(p=l[A],l.hasOwnProperty(A)&&p!=null&&!c.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:jt(i,a,A,null,c,p)}for(T in c)if(p=c[T],g=l[T],c.hasOwnProperty(T)&&(p!=null||g!=null))switch(T){case"value":re=p;break;case"defaultValue":ie=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:p!==g&&jt(i,a,T,p,c,g)}Vt(i,re,ie);return;case"option":for(var Je in l)if(re=l[Je],l.hasOwnProperty(Je)&&re!=null&&!c.hasOwnProperty(Je))switch(Je){case"selected":i.selected=!1;break;default:jt(i,a,Je,null,c,re)}for(z in c)if(re=c[z],ie=l[z],c.hasOwnProperty(z)&&re!==ie&&(re!=null||ie!=null))switch(z){case"selected":i.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:jt(i,a,z,re,c,ie)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ye in l)re=l[Ye],l.hasOwnProperty(Ye)&&re!=null&&!c.hasOwnProperty(Ye)&&jt(i,a,Ye,null,c,re);for(te in c)if(re=c[te],ie=l[te],c.hasOwnProperty(te)&&re!==ie&&(re!=null||ie!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(r(137,a));break;default:jt(i,a,te,re,c,ie)}return;default:if(Su(a)){for(var zt in l)re=l[zt],l.hasOwnProperty(zt)&&re!==void 0&&!c.hasOwnProperty(zt)&&gg(i,a,zt,void 0,c,re);for(le in c)re=c[le],ie=l[le],!c.hasOwnProperty(le)||re===ie||re===void 0&&ie===void 0||gg(i,a,le,re,c,ie);return}}for(var X in l)re=l[X],l.hasOwnProperty(X)&&re!=null&&!c.hasOwnProperty(X)&&jt(i,a,X,null,c,re);for(fe in c)re=c[fe],ie=l[fe],!c.hasOwnProperty(fe)||re===ie||re==null&&ie==null||jt(i,a,fe,re,c,ie)}var yg=null,vg=null;function Nf(i){return i.nodeType===9?i:i.ownerDocument}function sE(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function aE(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function _g(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var bg=null;function RR(){var i=window.event;return i&&i.type==="popstate"?i===bg?!1:(bg=i,!0):(bg=null,!1)}var oE=typeof setTimeout=="function"?setTimeout:void 0,IR=typeof clearTimeout=="function"?clearTimeout:void 0,lE=typeof Promise=="function"?Promise:void 0,NR=typeof queueMicrotask=="function"?queueMicrotask:typeof lE<"u"?function(i){return lE.resolve(null).then(i).catch(OR)}:oE;function OR(i){setTimeout(function(){throw i})}function la(i){return i==="head"}function uE(i,a){var l=a,c=0,p=0;do{var g=l.nextSibling;if(i.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(0<c&&8>c){l=c;var T=i.ownerDocument;if(l&1&&uc(T.documentElement),l&2&&uc(T.body),l&4)for(l=T.head,uc(l),T=l.firstChild;T;){var A=T.nextSibling,z=T.nodeName;T[Ke]||z==="SCRIPT"||z==="STYLE"||z==="LINK"&&T.rel.toLowerCase()==="stylesheet"||l.removeChild(T),T=A}}if(p===0){i.removeChild(g),yc(a);return}p--}else l==="$"||l==="$?"||l==="$!"?p++:c=l.charCodeAt(0)-48;else c=0;l=g}while(l);yc(a)}function Eg(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var l=a;switch(a=a.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Eg(l),je(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}i.removeChild(l)}}function DR(i,a,l,c){for(;i.nodeType===1;){var p=l;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Ke])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(g=i.getAttribute("rel"),g==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(g!==p.rel||i.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||i.getAttribute("title")!==(p.title==null?null:p.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(g=i.getAttribute("src"),(g!==(p.src==null?null:p.src)||i.getAttribute("type")!==(p.type==null?null:p.type)||i.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&i.getAttribute("name")===g)return i}else return i;if(i=pi(i.nextSibling),i===null)break}return null}function kR(i,a,l){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!l||(i=pi(i.nextSibling),i===null))return null;return i}function Tg(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function MR(i,a){var l=i.ownerDocument;if(i.data!=="$?"||l.readyState==="complete")a();else{var c=function(){a(),l.removeEventListener("DOMContentLoaded",c)};l.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function pi(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var wg=null;function cE(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(a===0)return i;a--}else l==="/$"&&a++}i=i.previousSibling}return null}function dE(i,a,l){switch(a=Nf(l),i){case"html":if(i=a.documentElement,!i)throw Error(r(452));return i;case"head":if(i=a.head,!i)throw Error(r(453));return i;case"body":if(i=a.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function uc(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);je(i)}var ri=new Map,fE=new Set;function Of(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Ss=ce.d;ce.d={f:PR,r:LR,D:VR,C:UR,L:jR,m:zR,X:FR,S:BR,M:$R};function PR(){var i=Ss.f(),a=Tf();return i||a}function LR(i){var a=mt(i);a!==null&&a.tag===5&&a.type==="form"?D0(a):Ss.r(i)}var kl=typeof document>"u"?null:document;function hE(i,a,l){var c=kl;if(c&&typeof a=="string"&&a){var p=cn(a);p='link[rel="'+i+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),fE.has(p)||(fE.add(p),i={rel:i,crossOrigin:l,href:a},c.querySelector(p)===null&&(a=c.createElement("link"),zn(a,"link",i),bt(a),c.head.appendChild(a)))}}function VR(i){Ss.D(i),hE("dns-prefetch",i,null)}function UR(i,a){Ss.C(i,a),hE("preconnect",i,a)}function jR(i,a,l){Ss.L(i,a,l);var c=kl;if(c&&i&&a){var p='link[rel="preload"][as="'+cn(a)+'"]';a==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+cn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+cn(l.imageSizes)+'"]')):p+='[href="'+cn(i)+'"]';var g=p;switch(a){case"style":g=Ml(i);break;case"script":g=Pl(i)}ri.has(g)||(i=y({rel:"preload",href:a==="image"&&l&&l.imageSrcSet?void 0:i,as:a},l),ri.set(g,i),c.querySelector(p)!==null||a==="style"&&c.querySelector(cc(g))||a==="script"&&c.querySelector(dc(g))||(a=c.createElement("link"),zn(a,"link",i),bt(a),c.head.appendChild(a)))}}function zR(i,a){Ss.m(i,a);var l=kl;if(l&&i){var c=a&&typeof a.as=="string"?a.as:"script",p='link[rel="modulepreload"][as="'+cn(c)+'"][href="'+cn(i)+'"]',g=p;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Pl(i)}if(!ri.has(g)&&(i=y({rel:"modulepreload",href:i},a),ri.set(g,i),l.querySelector(p)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(dc(g)))return}c=l.createElement("link"),zn(c,"link",i),bt(c),l.head.appendChild(c)}}}function BR(i,a,l){Ss.S(i,a,l);var c=kl;if(c&&i){var p=Ct(c).hoistableStyles,g=Ml(i);a=a||"default";var T=p.get(g);if(!T){var A={loading:0,preload:null};if(T=c.querySelector(cc(g)))A.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":a},l),(l=ri.get(g))&&Sg(i,l);var z=T=c.createElement("link");bt(z),zn(z,"link",i),z._p=new Promise(function(te,le){z.onload=te,z.onerror=le}),z.addEventListener("load",function(){A.loading|=1}),z.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Df(T,a,c)}T={type:"stylesheet",instance:T,count:1,state:A},p.set(g,T)}}}function FR(i,a){Ss.X(i,a);var l=kl;if(l&&i){var c=Ct(l).hoistableScripts,p=Pl(i),g=c.get(p);g||(g=l.querySelector(dc(p)),g||(i=y({src:i,async:!0},a),(a=ri.get(p))&&Ag(i,a),g=l.createElement("script"),bt(g),zn(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function $R(i,a){Ss.M(i,a);var l=kl;if(l&&i){var c=Ct(l).hoistableScripts,p=Pl(i),g=c.get(p);g||(g=l.querySelector(dc(p)),g||(i=y({src:i,async:!0,type:"module"},a),(a=ri.get(p))&&Ag(i,a),g=l.createElement("script"),bt(g),zn(g,"link",i),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(p,g))}}function mE(i,a,l,c){var p=(p=He.current)?Of(p):null;if(!p)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(a=Ml(l.href),l=Ct(p).hoistableStyles,c=l.get(a),c||(c={type:"style",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){i=Ml(l.href);var g=Ct(p).hoistableStyles,T=g.get(i);if(T||(p=p.ownerDocument||p,T={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(i,T),(g=p.querySelector(cc(i)))&&!g._p&&(T.instance=g,T.state.loading=5),ri.has(i)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},ri.set(i,l),g||HR(p,i,l,T.state))),a&&c===null)throw Error(r(528,""));return T}if(a&&c!==null)throw Error(r(529,""));return null;case"script":return a=l.async,l=l.src,typeof l=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=Pl(l),l=Ct(p).hoistableScripts,c=l.get(a),c||(c={type:"script",instance:null,count:0,state:null},l.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Ml(i){return'href="'+cn(i)+'"'}function cc(i){return'link[rel="stylesheet"]['+i+"]"}function pE(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function HR(i,a,l,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),zn(a,"link",l),bt(a),i.head.appendChild(a))}function Pl(i){return'[src="'+cn(i)+'"]'}function dc(i){return"script[async]"+i}function gE(i,a,l){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+cn(l.href)+'"]');if(c)return a.instance=c,bt(c),c;var p=y({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),bt(c),zn(c,"style",p),Df(c,l.precedence,i),a.instance=c;case"stylesheet":p=Ml(l.href);var g=i.querySelector(cc(p));if(g)return a.state.loading|=4,a.instance=g,bt(g),g;c=pE(l),(p=ri.get(p))&&Sg(c,p),g=(i.ownerDocument||i).createElement("link"),bt(g);var T=g;return T._p=new Promise(function(A,z){T.onload=A,T.onerror=z}),zn(g,"link",c),a.state.loading|=4,Df(g,l.precedence,i),a.instance=g;case"script":return g=Pl(l.src),(p=i.querySelector(dc(g)))?(a.instance=p,bt(p),p):(c=l,(p=ri.get(g))&&(c=y({},l),Ag(c,p)),i=i.ownerDocument||i,p=i.createElement("script"),bt(p),zn(p,"link",c),i.head.appendChild(p),a.instance=p);case"void":return null;default:throw Error(r(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,Df(c,l.precedence,i));return a.instance}function Df(i,a,l){for(var c=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=c.length?c[c.length-1]:null,g=p,T=0;T<c.length;T++){var A=c[T];if(A.dataset.precedence===a)g=A;else if(g!==p)break}g?g.parentNode.insertBefore(i,g.nextSibling):(a=l.nodeType===9?l.head:l,a.insertBefore(i,a.firstChild))}function Sg(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function Ag(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var kf=null;function yE(i,a,l){if(kf===null){var c=new Map,p=kf=new Map;p.set(l,c)}else p=kf,c=p.get(l),c||(c=new Map,p.set(l,c));if(c.has(i))return c;for(c.set(i,null),l=l.getElementsByTagName(i),p=0;p<l.length;p++){var g=l[p];if(!(g[Ke]||g[de]||i==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var T=g.getAttribute(a)||"";T=i+T;var A=c.get(T);A?A.push(g):c.set(T,[g])}}return c}function vE(i,a,l){i=i.ownerDocument||i,i.head.insertBefore(l,a==="title"?i.querySelector("head > title"):null)}function qR(i,a,l){if(l===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function _E(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var fc=null;function GR(){}function KR(i,a,l){if(fc===null)throw Error(r(475));var c=fc;if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var p=Ml(l.href),g=i.querySelector(cc(p));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Mf.bind(c),i.then(c,c)),a.state.loading|=4,a.instance=g,bt(g);return}g=i.ownerDocument||i,l=pE(l),(p=ri.get(p))&&Sg(l,p),g=g.createElement("link"),bt(g);var T=g;T._p=new Promise(function(A,z){T.onload=A,T.onerror=z}),zn(g,"link",l),a.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=Mf.bind(c),i.addEventListener("load",a),i.addEventListener("error",a))}}function YR(){if(fc===null)throw Error(r(475));var i=fc;return i.stylesheets&&i.count===0&&xg(i,i.stylesheets),0<i.count?function(a){var l=setTimeout(function(){if(i.stylesheets&&xg(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(l)}}:null}function Mf(){if(this.count--,this.count===0){if(this.stylesheets)xg(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Pf=null;function xg(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Pf=new Map,a.forEach(QR,i),Pf=null,Mf.call(i))}function QR(i,a){if(!(a.state.loading&4)){var l=Pf.get(i);if(l)var c=l.get(null);else{l=new Map,Pf.set(i,l);for(var p=i.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var T=p[g];(T.nodeName==="LINK"||T.getAttribute("media")!=="not all")&&(l.set(T.dataset.precedence,T),c=T)}c&&l.set(null,c)}p=a.instance,T=p.getAttribute("data-precedence"),g=l.get(T)||c,g===c&&l.set(null,p),l.set(T,p),this.count++,c=Mf.bind(this),p.addEventListener("load",c),p.addEventListener("error",c),g?g.parentNode.insertBefore(p,g.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(p,i.firstChild)),a.state.loading|=4}}var hc={$$typeof:$,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function XR(i,a,l,c,p,g,T,A){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hr(0),this.hiddenUpdates=Hr(null),this.identifierPrefix=c,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=T,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function bE(i,a,l,c,p,g,T,A,z,te,le,fe){return i=new XR(i,a,l,T,A,z,te,fe),a=1,g===!0&&(a|=24),g=Rr(3,null,null,a),i.current=g,g.stateNode=i,a=op(),a.refCount++,i.pooledCache=a,a.refCount++,g.memoizedState={element:c,isDehydrated:l,cache:a},dp(g),i}function EE(i){return i?(i=fl,i):fl}function TE(i,a,l,c,p,g){p=EE(p),c.context===null?c.context=p:c.pendingContext=p,c=Qs(a),c.payload={element:l},g=g===void 0?null:g,g!==null&&(c.callback=g),l=Xs(i,c,a),l!==null&&(kr(l,i,a),$u(l,i,a))}function wE(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<a?l:a}}function Cg(i,a){wE(i,a),(i=i.alternate)&&wE(i,a)}function SE(i){if(i.tag===13){var a=dl(i,67108864);a!==null&&kr(a,i,67108864),Cg(i,67108864)}}var Lf=!0;function WR(i,a,l,c){var p=Q.T;Q.T=null;var g=ce.p;try{ce.p=2,Rg(i,a,l,c)}finally{ce.p=g,Q.T=p}}function ZR(i,a,l,c){var p=Q.T;Q.T=null;var g=ce.p;try{ce.p=8,Rg(i,a,l,c)}finally{ce.p=g,Q.T=p}}function Rg(i,a,l,c){if(Lf){var p=Ig(c);if(p===null)pg(i,a,c,Vf,l),xE(i,c);else if(eI(p,i,a,l,c))c.stopPropagation();else if(xE(i,c),a&4&&-1<JR.indexOf(i)){for(;p!==null;){var g=mt(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var T=er(g.pendingLanes);if(T!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;T;){var z=1<<31-At(T);A.entanglements[1]|=z,T&=~z}Bi(g),(Pt&6)===0&&(bf=Mn()+500,ac(0))}}break;case 13:A=dl(g,2),A!==null&&kr(A,g,2),Tf(),Cg(g,2)}if(g=Ig(c),g===null&&pg(i,a,c,Vf,l),g===p)break;p=g}p!==null&&c.stopPropagation()}else pg(i,a,c,null,l)}}function Ig(i){return i=Yr(i),Ng(i)}var Vf=null;function Ng(i){if(Vf=null,i=Qe(i),i!==null){var a=o(i);if(a===null)i=null;else{var l=a.tag;if(l===13){if(i=u(a),i!==null)return i;i=null}else if(l===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Vf=i,null}function AE(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wo()){case Ai:return 2;case H:return 8;case ne:case ae:return 32;case xe:return 268435456;default:return 32}default:return 32}}var Og=!1,ua=null,ca=null,da=null,mc=new Map,pc=new Map,fa=[],JR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xE(i,a){switch(i){case"focusin":case"focusout":ua=null;break;case"dragenter":case"dragleave":ca=null;break;case"mouseover":case"mouseout":da=null;break;case"pointerover":case"pointerout":mc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":pc.delete(a.pointerId)}}function gc(i,a,l,c,p,g){return i===null||i.nativeEvent!==g?(i={blockedOn:a,domEventName:l,eventSystemFlags:c,nativeEvent:g,targetContainers:[p]},a!==null&&(a=mt(a),a!==null&&SE(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,p!==null&&a.indexOf(p)===-1&&a.push(p),i)}function eI(i,a,l,c,p){switch(a){case"focusin":return ua=gc(ua,i,a,l,c,p),!0;case"dragenter":return ca=gc(ca,i,a,l,c,p),!0;case"mouseover":return da=gc(da,i,a,l,c,p),!0;case"pointerover":var g=p.pointerId;return mc.set(g,gc(mc.get(g)||null,i,a,l,c,p)),!0;case"gotpointercapture":return g=p.pointerId,pc.set(g,gc(pc.get(g)||null,i,a,l,c,p)),!0}return!1}function CE(i){var a=Qe(i.target);if(a!==null){var l=o(a);if(l!==null){if(a=l.tag,a===13){if(a=u(l),a!==null){i.blockedOn=a,W(i.priority,function(){if(l.tag===13){var c=Dr();c=Ci(c);var p=dl(l,c);p!==null&&kr(p,l,c),Cg(l,c)}});return}}else if(a===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Uf(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var l=Ig(i.nativeEvent);if(l===null){l=i.nativeEvent;var c=new l.constructor(l.type,l);as=c,l.target.dispatchEvent(c),as=null}else return a=mt(l),a!==null&&SE(a),i.blockedOn=l,!1;a.shift()}return!0}function RE(i,a,l){Uf(i)&&l.delete(a)}function tI(){Og=!1,ua!==null&&Uf(ua)&&(ua=null),ca!==null&&Uf(ca)&&(ca=null),da!==null&&Uf(da)&&(da=null),mc.forEach(RE),pc.forEach(RE)}function jf(i,a){i.blockedOn===a&&(i.blockedOn=null,Og||(Og=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,tI)))}var zf=null;function IE(i){zf!==i&&(zf=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){zf===i&&(zf=null);for(var a=0;a<i.length;a+=3){var l=i[a],c=i[a+1],p=i[a+2];if(typeof c!="function"){if(Ng(c||l)===null)continue;break}var g=mt(l);g!==null&&(i.splice(a,3),a-=3,Np(g,{pending:!0,data:p,method:l.method,action:c},c,p))}}))}function yc(i){function a(z){return jf(z,i)}ua!==null&&jf(ua,i),ca!==null&&jf(ca,i),da!==null&&jf(da,i),mc.forEach(a),pc.forEach(a);for(var l=0;l<fa.length;l++){var c=fa[l];c.blockedOn===i&&(c.blockedOn=null)}for(;0<fa.length&&(l=fa[0],l.blockedOn===null);)CE(l),l.blockedOn===null&&fa.shift();if(l=(i.ownerDocument||i).$$reactFormReplay,l!=null)for(c=0;c<l.length;c+=3){var p=l[c],g=l[c+1],T=p[ve]||null;if(typeof g=="function")T||IE(l);else if(T){var A=null;if(g&&g.hasAttribute("formAction")){if(p=g,T=g[ve]||null)A=T.formAction;else if(Ng(p)!==null)continue}else A=T.action;typeof A=="function"?l[c+1]=A:(l.splice(c,3),c-=3),IE(l)}}}function Dg(i){this._internalRoot=i}Bf.prototype.render=Dg.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(r(409));var l=a.current,c=Dr();TE(l,c,i,a,null,null)},Bf.prototype.unmount=Dg.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;TE(i.current,2,null,i,null,null),Tf(),a[Oe]=null}};function Bf(i){this._internalRoot=i}Bf.prototype.unstable_scheduleHydration=function(i){if(i){var a=q();i={blockedOn:null,target:i,priority:a};for(var l=0;l<fa.length&&a!==0&&a<fa[l].priority;l++);fa.splice(l,0,i),l===0&&CE(i)}};var NE=e.version;if(NE!=="19.1.0")throw Error(r(527,NE,"19.1.0"));ce.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(a),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var nI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ff=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ff.isDisabled&&Ff.supportsFiber)try{we=Ff.inject(nI),Ne=Ff}catch{}}return _c.createRoot=function(i,a){if(!s(i))throw Error(r(299));var l=!1,c="",p=G0,g=K0,T=Y0,A=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(p=a.onUncaughtError),a.onCaughtError!==void 0&&(g=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(A=a.unstable_transitionCallbacks)),a=bE(i,1,!1,null,null,l,c,p,g,T,A,null),i[Oe]=a.current,mg(i),new Dg(a)},_c.hydrateRoot=function(i,a,l){if(!s(i))throw Error(r(299));var c=!1,p="",g=G0,T=K0,A=Y0,z=null,te=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(T=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(z=l.unstable_transitionCallbacks),l.formState!==void 0&&(te=l.formState)),a=bE(i,1,!0,a,l??null,c,p,g,T,A,z,te),a.context=EE(null),l=a.current,c=Dr(),c=Ci(c),p=Qs(c),p.callback=null,Xs(l,p,c),l=c,a.current.lanes=l,di(a,l),Bi(a),i[Oe]=a.current,mg(i),new Bf(a)},_c.version="19.1.0",_c}var zE;function fI(){if(zE)return Pg.exports;zE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Pg.exports=dI(),Pg.exports}var hI=fI(),bc={},BE;function mI(){if(BE)return bc;BE=1,Object.defineProperty(bc,"__esModule",{value:!0}),bc.parse=u,bc.serialize=m;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,o=(()=>{const _=function(){};return _.prototype=Object.create(null),_})();function u(_,w){const S=new o,x=_.length;if(x<2)return S;const C=(w==null?void 0:w.decode)||y;let V=0;do{const L=_.indexOf("=",V);if(L===-1)break;const $=_.indexOf(";",V),Y=$===-1?x:$;if(L>Y){V=_.lastIndexOf(";",L-1)+1;continue}const G=d(_,V,L),F=f(_,L,G),U=_.slice(G,F);if(S[U]===void 0){let R=d(_,L+1,Y),k=f(_,Y,R);const P=C(_.slice(R,k));S[U]=P}V=Y+1}while(V<x);return S}function d(_,w,S){do{const x=_.charCodeAt(w);if(x!==32&&x!==9)return w}while(++w<S);return S}function f(_,w,S){for(;w>S;){const x=_.charCodeAt(--w);if(x!==32&&x!==9)return w+1}return S}function m(_,w,S){const x=(S==null?void 0:S.encode)||encodeURIComponent;if(!t.test(_))throw new TypeError(`argument name is invalid: ${_}`);const C=x(w);if(!e.test(C))throw new TypeError(`argument val is invalid: ${w}`);let V=_+"="+C;if(!S)return V;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);V+="; Max-Age="+S.maxAge}if(S.domain){if(!n.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);V+="; Domain="+S.domain}if(S.path){if(!r.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);V+="; Path="+S.path}if(S.expires){if(!b(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);V+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(V+="; HttpOnly"),S.secure&&(V+="; Secure"),S.partitioned&&(V+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":V+="; Priority=Low";break;case"medium":V+="; Priority=Medium";break;case"high":V+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":V+="; SameSite=Strict";break;case"lax":V+="; SameSite=Lax";break;case"none":V+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return V}function y(_){if(_.indexOf("%")===-1)return _;try{return decodeURIComponent(_)}catch{return _}}function b(_){return s.call(_)==="[object Date]"}return bc}mI();/**
 * react-router v7.6.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var MS=t=>{throw TypeError(t)},pI=(t,e,n)=>e.has(t)||MS("Cannot "+n),jg=(t,e,n)=>(pI(t,e,"read from private field"),n?n.call(t):e.get(t)),gI=(t,e,n)=>e.has(t)?MS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),FE="popstate";function yI(t={}){function e(r,s){let{pathname:o,search:u,hash:d}=r.location;return Qc("",{pathname:o,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Ma(s)}return _I(e,n,null,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function on(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vI(){return Math.random().toString(36).substring(2,10)}function $E(t,e){return{usr:t.state,key:t.key,idx:e}}function Qc(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?qa(e):e,state:n,key:e&&e.key||r||vI()}}function Ma({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function qa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function _I(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,u=s.history,d="POP",f=null,m=y();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function y(){return(u.state||{idx:null}).idx}function b(){d="POP";let C=y(),V=C==null?null:C-m;m=C,f&&f({action:d,location:x.location,delta:V})}function _(C,V){d="PUSH";let L=Qc(x.location,C,V);m=y()+1;let $=$E(L,m),Y=x.createHref(L);try{u.pushState($,"",Y)}catch(G){if(G instanceof DOMException&&G.name==="DataCloneError")throw G;s.location.assign(Y)}o&&f&&f({action:d,location:x.location,delta:1})}function w(C,V){d="REPLACE";let L=Qc(x.location,C,V);m=y();let $=$E(L,m),Y=x.createHref(L);u.replaceState($,"",Y),o&&f&&f({action:d,location:x.location,delta:0})}function S(C){return PS(C)}let x={get action(){return d},get location(){return t(s,u)},listen(C){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(FE,b),f=C,()=>{s.removeEventListener(FE,b),f=null}},createHref(C){return e(s,C)},createURL:S,encodeLocation(C){let V=S(C);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:_,replace:w,go(C){return u.go(C)}};return x}function PS(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ft(n,"No window.location.(origin|href) available to create URL");let r=typeof t=="string"?t:Ma(t);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=n+r),new URL(r,n)}var Cc,HE=class{constructor(t){if(gI(this,Cc,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(jg(this,Cc).has(t))return jg(this,Cc).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){jg(this,Cc).set(t,e)}};Cc=new WeakMap;var bI=new Set(["lazy","caseSensitive","path","id","index","children"]);function EI(t){return bI.has(t)}var TI=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function wI(t){return TI.has(t)}function SI(t){return t.index===!0}function yh(t,e,n=[],r={}){return t.map((s,o)=>{let u=[...n,String(o)],d=typeof s.id=="string"?s.id:u.join("-");if(ft(s.index!==!0||!s.children,"Cannot specify children on an index route"),ft(!r[d],`Found a route id collision on id "${d}".  Route id's must be globally unique within Data Router usages`),SI(s)){let f={...s,...e(s),id:d};return r[d]=f,f}else{let f={...s,...e(s),id:d,children:void 0};return r[d]=f,s.children&&(f.children=yh(s.children,e,u,r)),f}})}function ya(t,e,n="/"){return nh(t,e,n,!1)}function nh(t,e,n,r){let s=typeof e=="string"?qa(e):e,o=si(s.pathname||"/",n);if(o==null)return null;let u=LS(t);xI(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let m=VI(o);d=PI(u[f],m,r)}return d}function AI(t,e){let{route:n,pathname:r,params:s}=t;return{id:n.id,pathname:r,params:s,data:e[n.id],handle:n.handle}}function LS(t,e=[],n=[],r=""){let s=(o,u,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:u,route:o};f.relativePath.startsWith("/")&&(ft(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let m=Ki([r,f.relativePath]),y=n.concat(f);o.children&&o.children.length>0&&(ft(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),LS(o.children,e,y,m)),!(o.path==null&&!o.index)&&e.push({path:m,score:kI(m,o.index),routesMeta:y})};return t.forEach((o,u)=>{var d;if(o.path===""||!((d=o.path)!=null&&d.includes("?")))s(o,u);else for(let f of VS(o.path))s(o,u,f)}),e}function VS(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let u=VS(r.join("/")),d=[];return d.push(...u.map(f=>f===""?o:[o,f].join("/"))),s&&d.push(...u),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function xI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:MI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var CI=/^:[\w-]+$/,RI=3,II=2,NI=1,OI=10,DI=-2,qE=t=>t==="*";function kI(t,e){let n=t.split("/"),r=n.length;return n.some(qE)&&(r+=DI),e&&(r+=II),n.filter(s=>!qE(s)).reduce((s,o)=>s+(CI.test(o)?RI:o===""?NI:OI),r)}function MI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function PI(t,e,n=!1){let{routesMeta:r}=t,s={},o="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],m=d===r.length-1,y=o==="/"?e:e.slice(o.length)||"/",b=vh({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},y),_=f.route;if(!b&&m&&n&&!r[r.length-1].route.index&&(b=vh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},y)),!b)return null;Object.assign(s,b.params),u.push({params:s,pathname:Ki([o,b.pathname]),pathnameBase:zI(Ki([o,b.pathnameBase])),route:_}),b.pathnameBase!=="/"&&(o=Ki([o,b.pathnameBase]))}return u}function vh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=LI(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((m,{paramName:y,isOptional:b},_)=>{if(y==="*"){let S=d[_]||"";u=o.slice(0,o.length-S.length).replace(/(.)\/+$/,"$1")}const w=d[_];return b&&!w?m[y]=void 0:m[y]=(w||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:t}}function LI(t,e=!1,n=!0){on(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function VI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return on(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function si(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function UI(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?qa(t):t;return{pathname:n?n.startsWith("/")?n:jI(n,e):e,search:BI(r),hash:FI(s)}}function jI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function zg(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function US(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function nm(t){let e=US(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function rm(t,e,n,r=!1){let s;typeof t=="string"?s=qa(t):(s={...t},ft(!s.pathname||!s.pathname.includes("?"),zg("?","pathname","search",s)),ft(!s.pathname||!s.pathname.includes("#"),zg("#","pathname","hash",s)),ft(!s.search||!s.search.includes("#"),zg("#","search","hash",s)));let o=t===""||s.pathname==="",u=o?"/":s.pathname,d;if(u==null)d=n;else{let b=e.length-1;if(!r&&u.startsWith("..")){let _=u.split("/");for(;_[0]==="..";)_.shift(),b-=1;s.pathname=_.join("/")}d=b>=0?e[b]:"/"}let f=UI(s,d),m=u&&u!=="/"&&u.endsWith("/"),y=(o||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||y)&&(f.pathname+="/"),f}var Ki=t=>t.join("/").replace(/\/\/+/g,"/"),zI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),BI=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,FI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,_h=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Xc(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var jS=["POST","PUT","PATCH","DELETE"],$I=new Set(jS),HI=["GET",...jS],qI=new Set(HI),GI=new Set([301,302,303,307,308]),KI=new Set([307,308]),Bg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},YI={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Ec={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},tv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QI=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),zS="remix-router-transitions",BS=Symbol("ResetLoaderData");function XI(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";ft(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],s=t.mapRouteProperties||QI,o={},u=yh(t.routes,s,void 0,o),d,f=t.basename||"/",m=t.dataStrategy||t2,y={unstable_middleware:!1,...t.future},b=null,_=new Set,w=null,S=null,x=null,C=t.hydrationData!=null,V=ya(u,t.history.location,f),L=!1,$=null,Y;if(V==null&&!t.patchRoutesOnNavigation){let q=ii(404,{pathname:t.history.location.pathname}),{matches:W,route:ee}=rT(u);Y=!0,V=W,$={[ee.id]:q}}else if(V&&!t.hydrationData&&tr(V,u,t.history.location.pathname).active&&(V=null),V)if(V.some(q=>q.route.lazy))Y=!1;else if(!V.some(q=>q.route.loader))Y=!0;else{let q=t.hydrationData?t.hydrationData.loaderData:null,W=t.hydrationData?t.hydrationData.errors:null;if(W){let ee=V.findIndex(de=>W[de.route.id]!==void 0);Y=V.slice(0,ee+1).every(de=>!hy(de.route,q,W))}else Y=V.every(ee=>!hy(ee.route,q,W))}else{Y=!1,V=[];let q=tr(null,u,t.history.location.pathname);q.active&&q.matches&&(L=!0,V=q.matches)}let G,F={historyAction:t.history.action,location:t.history.location,matches:V,initialized:Y,navigation:Bg,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||$,fetchers:new Map,blockers:new Map},U="POP",R=!1,k,P=!1,O=new Map,M=null,I=!1,ye=!1,Ee=new Set,Q=new Map,ce=0,ge=-1,Ce=new Map,j=new Set,oe=new Map,Te=new Map,pe=new Set,Ve=new Map,et,He=null;function Kt(){if(b=t.history.listen(({action:q,location:W,delta:ee})=>{if(et){et(),et=void 0;return}on(Ve.size===0||ee!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let de=ci({currentLocation:F.location,nextLocation:W,historyAction:q});if(de&&ee!=null){let ve=new Promise(Oe=>{et=Oe});t.history.go(ee*-1),mr(de,{state:"blocked",location:W,proceed(){mr(de,{state:"proceeding",proceed:void 0,reset:void 0,location:W}),ve.then(()=>t.history.go(ee))},reset(){let Oe=new Map(F.blockers);Oe.set(de,Ec),Ft({blockers:Oe})}});return}return xn(q,W)}),n){f2(e,O);let q=()=>h2(e,O);e.addEventListener("pagehide",q),M=()=>e.removeEventListener("pagehide",q)}return F.initialized||xn("POP",F.location,{initialHydration:!0}),G}function Nt(){b&&b(),M&&M(),_.clear(),k&&k.abort(),F.fetchers.forEach((q,W)=>At(W)),F.blockers.forEach((q,W)=>$r(W))}function qn(q){return _.add(q),()=>_.delete(q)}function Ft(q,W={}){F={...F,...q};let ee=[],de=[];F.fetchers.forEach((ve,Oe)=>{ve.state==="idle"&&(pe.has(Oe)?ee.push(Oe):de.push(Oe))}),pe.forEach(ve=>{!F.fetchers.has(ve)&&!Q.has(ve)&&ee.push(ve)}),[..._].forEach(ve=>ve(F,{deletedFetchers:ee,viewTransitionOpts:W.viewTransitionOpts,flushSync:W.flushSync===!0})),ee.forEach(ve=>At(ve)),de.forEach(ve=>F.fetchers.delete(ve))}function An(q,W,{flushSync:ee}={}){var Fe,Ke;let de=F.actionData!=null&&F.navigation.formMethod!=null&&Pr(F.navigation.formMethod)&&F.navigation.state==="loading"&&((Fe=q.state)==null?void 0:Fe._isRedirect)!==!0,ve;W.actionData?Object.keys(W.actionData).length>0?ve=W.actionData:ve=null:de?ve=F.actionData:ve=null;let Oe=W.loaderData?tT(F.loaderData,W.loaderData,W.matches||[],W.errors):F.loaderData,Ge=F.blockers;Ge.size>0&&(Ge=new Map(Ge),Ge.forEach((je,Qe)=>Ge.set(Qe,Ec)));let Me=R===!0||F.navigation.formMethod!=null&&Pr(F.navigation.formMethod)&&((Ke=q.state)==null?void 0:Ke._isRedirect)!==!0;d&&(u=d,d=void 0),I||U==="POP"||(U==="PUSH"?t.history.push(q,q.state):U==="REPLACE"&&t.history.replace(q,q.state));let Ue;if(U==="POP"){let je=O.get(F.location.pathname);je&&je.has(q.pathname)?Ue={currentLocation:F.location,nextLocation:q}:O.has(q.pathname)&&(Ue={currentLocation:q,nextLocation:F.location})}else if(P){let je=O.get(F.location.pathname);je?je.add(q.pathname):(je=new Set([q.pathname]),O.set(F.location.pathname,je)),Ue={currentLocation:F.location,nextLocation:q}}Ft({...W,actionData:ve,loaderData:Oe,historyAction:U,location:q,initialized:!0,navigation:Bg,revalidation:"idle",restoreScrollPosition:Fs(q,W.matches||F.matches),preventScrollReset:Me,blockers:Ge},{viewTransitionOpts:Ue,flushSync:ee===!0}),U="POP",R=!1,P=!1,I=!1,ye=!1,He==null||He.resolve(),He=null}async function wr(q,W){if(typeof q=="number"){t.history.go(q);return}let ee=fy(F.location,F.matches,f,q,W==null?void 0:W.fromRouteId,W==null?void 0:W.relative),{path:de,submission:ve,error:Oe}=GE(!1,ee,W),Ge=F.location,Me=Qc(F.location,de,W&&W.state);Me={...Me,...t.history.encodeLocation(Me)};let Ue=W&&W.replace!=null?W.replace:void 0,Fe="PUSH";Ue===!0?Fe="REPLACE":Ue===!1||ve!=null&&Pr(ve.formMethod)&&ve.formAction===F.location.pathname+F.location.search&&(Fe="REPLACE");let Ke=W&&"preventScrollReset"in W?W.preventScrollReset===!0:void 0,je=(W&&W.flushSync)===!0,Qe=ci({currentLocation:Ge,nextLocation:Me,historyAction:Fe});if(Qe){mr(Qe,{state:"blocked",location:Me,proceed(){mr(Qe,{state:"proceeding",proceed:void 0,reset:void 0,location:Me}),wr(q,W)},reset(){let mt=new Map(F.blockers);mt.set(Qe,Ec),Ft({blockers:mt})}});return}await xn(Fe,Me,{submission:ve,pendingError:Oe,preventScrollReset:Ke,replace:W&&W.replace,enableViewTransition:W&&W.viewTransition,flushSync:je})}function li(){He||(He=m2()),_e(),Ft({revalidation:"loading"});let q=He.promise;return F.navigation.state==="submitting"?q:F.navigation.state==="idle"?(xn(F.historyAction,F.location,{startUninterruptedRevalidation:!0}),q):(xn(U||F.historyAction,F.navigation.location,{overrideNavigation:F.navigation,enableViewTransition:P===!0}),q)}async function xn(q,W,ee){k&&k.abort(),k=null,U=q,I=(ee&&ee.startUninterruptedRevalidation)===!0,di(F.location,F.matches),R=(ee&&ee.preventScrollReset)===!0,P=(ee&&ee.enableViewTransition)===!0;let de=d||u,ve=ee&&ee.overrideNavigation,Oe=ee!=null&&ee.initialHydration&&F.matches&&F.matches.length>0&&!L?F.matches:ya(de,W,f),Ge=(ee&&ee.flushSync)===!0;if(Oe&&F.initialized&&!ye&&o2(F.location,W)&&!(ee&&ee.submission&&Pr(ee.submission.formMethod))){An(W,{matches:Oe},{flushSync:Ge});return}let Me=tr(Oe,de,W.pathname);if(Me.active&&Me.matches&&(Oe=Me.matches),!Oe){let{error:Ct,notFoundMatches:bt,route:ct}=rs(W.pathname);An(W,{matches:bt,loaderData:{},errors:{[ct.id]:Ct}},{flushSync:Ge});return}k=new AbortController;let Ue=Ul(t.history,W,k.signal,ee&&ee.submission),Fe=new HE(t.unstable_getContext?await t.unstable_getContext():void 0),Ke;if(ee&&ee.pendingError)Ke=[xo(Oe).route.id,{type:"error",error:ee.pendingError}];else if(ee&&ee.submission&&Pr(ee.submission.formMethod)){let Ct=await Si(Ue,W,ee.submission,Oe,Fe,Me.active,ee&&ee.initialHydration===!0,{replace:ee.replace,flushSync:Ge});if(Ct.shortCircuited)return;if(Ct.pendingActionResult){let[bt,ct]=Ct.pendingActionResult;if(Mr(ct)&&Xc(ct.error)&&ct.error.status===404){k=null,An(W,{matches:Ct.matches,loaderData:{},errors:{[bt]:ct.error}});return}}Oe=Ct.matches||Oe,Ke=Ct.pendingActionResult,ve=Fg(W,ee.submission),Ge=!1,Me.active=!1,Ue=Ul(t.history,Ue.url,Ue.signal)}let{shortCircuited:je,matches:Qe,loaderData:mt,errors:Dt}=await Bs(Ue,W,Oe,Fe,Me.active,ve,ee&&ee.submission,ee&&ee.fetcherSubmission,ee&&ee.replace,ee&&ee.initialHydration===!0,Ge,Ke);je||(k=null,An(W,{matches:Qe||Oe,...nT(Ke),loaderData:mt,errors:Dt}))}async function Si(q,W,ee,de,ve,Oe,Ge,Me={}){_e();let Ue=c2(W,ee);if(Ft({navigation:Ue},{flushSync:Me.flushSync===!0}),Oe){let je=await xi(de,W.pathname,q.signal);if(je.type==="aborted")return{shortCircuited:!0};if(je.type==="error"){let Qe=xo(je.partialMatches).route.id;return{matches:je.partialMatches,pendingActionResult:[Qe,{type:"error",error:je.error}]}}else if(je.matches)de=je.matches;else{let{notFoundMatches:Qe,error:mt,route:Dt}=rs(W.pathname);return{matches:Qe,pendingActionResult:[Dt.id,{type:"error",error:mt}]}}}let Fe,Ke=Rc(de,W);if(!Ke.route.action&&!Ke.route.lazy)Fe={type:"error",error:ii(405,{method:q.method,pathname:W.pathname,routeId:Ke.route.id})};else{let je=ql(s,o,q,de,Ke,Ge?[]:r,ve),Qe=await xe(q,je,ve,null);if(Fe=Qe[Ke.route.id],!Fe){for(let mt of de)if(Qe[mt.route.id]){Fe=Qe[mt.route.id];break}}if(q.signal.aborted)return{shortCircuited:!0}}if(Co(Fe)){let je;return Me&&Me.replace!=null?je=Me.replace:je=ZE(Fe.response.headers.get("Location"),new URL(q.url),f)===F.location.pathname+F.location.search,await ae(q,Fe,!0,{submission:ee,replace:je}),{shortCircuited:!0}}if(Mr(Fe)){let je=xo(de,Ke.route.id);return(Me&&Me.replace)!==!0&&(U="PUSH"),{matches:de,pendingActionResult:[je.route.id,Fe,Ke.route.id]}}return{matches:de,pendingActionResult:[Ke.route.id,Fe]}}async function Bs(q,W,ee,de,ve,Oe,Ge,Me,Ue,Fe,Ke,je){let Qe=Oe||Fg(W,Ge),mt=Ge||Me||sT(Qe),Dt=!I&&!Fe;if(ve){if(Dt){let un=Mn(je);Ft({navigation:Qe,...un!==void 0?{actionData:un}:{}},{flushSync:Ke})}let tt=await xi(ee,W.pathname,q.signal);if(tt.type==="aborted")return{shortCircuited:!0};if(tt.type==="error"){let un=xo(tt.partialMatches).route.id;return{matches:tt.partialMatches,loaderData:{},errors:{[un]:tt.error}}}else if(tt.matches)ee=tt.matches;else{let{error:un,notFoundMatches:Ar,route:pr}=rs(W.pathname);return{matches:Ar,loaderData:{},errors:{[pr.id]:un}}}}let Ct=d||u,{dsMatches:bt,revalidatingFetchers:ct}=KE(q,de,s,o,t.history,F,ee,mt,W,Fe?[]:r,Fe===!0,ye,Ee,pe,oe,j,Ct,f,je);if(ge=++ce,!t.dataStrategy&&!bt.some(tt=>tt.shouldLoad)&&ct.length===0){let tt=fr();return An(W,{matches:ee,loaderData:{},errors:je&&Mr(je[1])?{[je[0]]:je[1].error}:null,...nT(je),...tt?{fetchers:new Map(F.fetchers)}:{}},{flushSync:Ke}),{shortCircuited:!0}}if(Dt){let tt={};if(!ve){tt.navigation=Qe;let un=Mn(je);un!==void 0&&(tt.actionData=un)}ct.length>0&&(tt.fetchers=Wo(ct)),Ft(tt,{flushSync:Ke})}ct.forEach(tt=>{nn(tt.key),tt.controller&&Q.set(tt.key,tt.controller)});let qr=()=>ct.forEach(tt=>nn(tt.key));k&&k.signal.addEventListener("abort",qr);let{loaderResults:yn,fetcherResults:nr}=await Se(bt,ct,q,de);if(q.signal.aborted)return{shortCircuited:!0};k&&k.signal.removeEventListener("abort",qr),ct.forEach(tt=>Q.delete(tt.key));let Pn=$f(yn);if(Pn)return await ae(q,Pn.result,!0,{replace:Ue}),{shortCircuited:!0};if(Pn=$f(nr),Pn)return j.add(Pn.key),await ae(q,Pn.result,!0,{replace:Ue}),{shortCircuited:!0};let{loaderData:Ri,errors:Sr}=eT(F,ee,yn,je,ct,nr);Fe&&F.errors&&(Sr={...F.errors,...Sr});let Hs=fr(),Gn=hr(ge),rr=Hs||Gn||ct.length>0;return{matches:ee,loaderData:Ri,errors:Sr,...rr?{fetchers:new Map(F.fetchers)}:{}}}function Mn(q){if(q&&!Mr(q[1]))return{[q[0]]:q[1].data};if(F.actionData)return Object.keys(F.actionData).length===0?null:F.actionData}function Wo(q){return q.forEach(W=>{let ee=F.fetchers.get(W.key),de=Tc(void 0,ee?ee.data:void 0);F.fetchers.set(W.key,de)}),new Map(F.fetchers)}async function Ai(q,W,ee,de){nn(q);let ve=(de&&de.flushSync)===!0,Oe=d||u,Ge=fy(F.location,F.matches,f,ee,W,de==null?void 0:de.relative),Me=ya(Oe,Ge,f),Ue=tr(Me,Oe,Ge);if(Ue.active&&Ue.matches&&(Me=Ue.matches),!Me){Ne(q,W,ii(404,{pathname:Ge}),{flushSync:ve});return}let{path:Fe,submission:Ke,error:je}=GE(!0,Ge,de);if(je){Ne(q,W,je,{flushSync:ve});return}let Qe=Rc(Me,Fe),mt=new HE(t.unstable_getContext?await t.unstable_getContext():void 0),Dt=(de&&de.preventScrollReset)===!0;if(Ke&&Pr(Ke.formMethod)){await H(q,W,Fe,Qe,Me,mt,Ue.active,ve,Dt,Ke);return}oe.set(q,{routeId:W,path:Fe}),await ne(q,W,Fe,Qe,Me,mt,Ue.active,ve,Dt,Ke)}async function H(q,W,ee,de,ve,Oe,Ge,Me,Ue,Fe){_e(),oe.delete(q);function Ke($t){if(!$t.route.action&&!$t.route.lazy){let Gr=ii(405,{method:Fe.formMethod,pathname:ee,routeId:W});return Ne(q,W,Gr,{flushSync:Me}),!0}return!1}if(!Ge&&Ke(de))return;let je=F.fetchers.get(q);we(q,d2(Fe,je),{flushSync:Me});let Qe=new AbortController,mt=Ul(t.history,ee,Qe.signal,Fe);if(Ge){let $t=await xi(ve,ee,mt.signal,q);if($t.type==="aborted")return;if($t.type==="error"){Ne(q,W,$t.error,{flushSync:Me});return}else if($t.matches){if(ve=$t.matches,de=Rc(ve,ee),Ke(de))return}else{Ne(q,W,ii(404,{pathname:ee}),{flushSync:Me});return}}Q.set(q,Qe);let Dt=ce,Ct=ql(s,o,mt,ve,de,r,Oe),ct=(await xe(mt,Ct,Oe,q))[de.route.id];if(mt.signal.aborted){Q.get(q)===Qe&&Q.delete(q);return}if(pe.has(q)){if(Co(ct)||Mr(ct)){we(q,pa(void 0));return}}else{if(Co(ct))if(Q.delete(q),ge>Dt){we(q,pa(void 0));return}else return j.add(q),we(q,Tc(Fe)),ae(mt,ct,!1,{fetcherSubmission:Fe,preventScrollReset:Ue});if(Mr(ct)){Ne(q,W,ct.error);return}}let qr=F.navigation.location||F.location,yn=Ul(t.history,qr,Qe.signal),nr=d||u,Pn=F.navigation.state!=="idle"?ya(nr,F.navigation.location,f):F.matches;ft(Pn,"Didn't find any matches after fetcher action");let Ri=++ce;Ce.set(q,Ri);let Sr=Tc(Fe,ct.data);F.fetchers.set(q,Sr);let{dsMatches:Hs,revalidatingFetchers:Gn}=KE(yn,Oe,s,o,t.history,F,Pn,Fe,qr,r,!1,ye,Ee,pe,oe,j,nr,f,[de.route.id,ct]);Gn.filter($t=>$t.key!==q).forEach($t=>{let Gr=$t.key,is=F.fetchers.get(Gr),Ln=Tc(void 0,is?is.data:void 0);F.fetchers.set(Gr,Ln),nn(Gr),$t.controller&&Q.set(Gr,$t.controller)}),Ft({fetchers:new Map(F.fetchers)});let rr=()=>Gn.forEach($t=>nn($t.key));Qe.signal.addEventListener("abort",rr);let{loaderResults:tt,fetcherResults:un}=await Se(Hs,Gn,yn,Oe);if(Qe.signal.aborted)return;if(Qe.signal.removeEventListener("abort",rr),Ce.delete(q),Q.delete(q),Gn.forEach($t=>Q.delete($t.key)),F.fetchers.has(q)){let $t=pa(ct.data);F.fetchers.set(q,$t)}let Ar=$f(tt);if(Ar)return ae(yn,Ar.result,!1,{preventScrollReset:Ue});if(Ar=$f(un),Ar)return j.add(Ar.key),ae(yn,Ar.result,!1,{preventScrollReset:Ue});let{loaderData:pr,errors:Ii}=eT(F,Pn,tt,void 0,Gn,un);hr(Ri),F.navigation.state==="loading"&&Ri>ge?(ft(U,"Expected pending action"),k&&k.abort(),An(F.navigation.location,{matches:Pn,loaderData:pr,errors:Ii,fetchers:new Map(F.fetchers)})):(Ft({errors:Ii,loaderData:tT(F.loaderData,pr,Pn,Ii),fetchers:new Map(F.fetchers)}),ye=!1)}async function ne(q,W,ee,de,ve,Oe,Ge,Me,Ue,Fe){let Ke=F.fetchers.get(q);we(q,Tc(Fe,Ke?Ke.data:void 0),{flushSync:Me});let je=new AbortController,Qe=Ul(t.history,ee,je.signal);if(Ge){let ct=await xi(ve,ee,Qe.signal,q);if(ct.type==="aborted")return;if(ct.type==="error"){Ne(q,W,ct.error,{flushSync:Me});return}else if(ct.matches)ve=ct.matches,de=Rc(ve,ee);else{Ne(q,W,ii(404,{pathname:ee}),{flushSync:Me});return}}Q.set(q,je);let mt=ce,Dt=ql(s,o,Qe,ve,de,r,Oe),bt=(await xe(Qe,Dt,Oe,q))[de.route.id];if(Q.get(q)===je&&Q.delete(q),!Qe.signal.aborted){if(pe.has(q)){we(q,pa(void 0));return}if(Co(bt))if(ge>mt){we(q,pa(void 0));return}else{j.add(q),await ae(Qe,bt,!1,{preventScrollReset:Ue});return}if(Mr(bt)){Ne(q,W,bt.error);return}we(q,pa(bt.data))}}async function ae(q,W,ee,{submission:de,fetcherSubmission:ve,preventScrollReset:Oe,replace:Ge}={}){W.response.headers.has("X-Remix-Revalidate")&&(ye=!0);let Me=W.response.headers.get("Location");ft(Me,"Expected a Location header on the redirect Response"),Me=ZE(Me,new URL(q.url),f);let Ue=Qc(F.location,Me,{_isRedirect:!0});if(n){let Dt=!1;if(W.response.headers.has("X-Remix-Reload-Document"))Dt=!0;else if(tv.test(Me)){const Ct=PS(Me,!0);Dt=Ct.origin!==e.location.origin||si(Ct.pathname,f)==null}if(Dt){Ge?e.location.replace(Me):e.location.assign(Me);return}}k=null;let Fe=Ge===!0||W.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:Ke,formAction:je,formEncType:Qe}=F.navigation;!de&&!ve&&Ke&&je&&Qe&&(de=sT(F.navigation));let mt=de||ve;if(KI.has(W.response.status)&&mt&&Pr(mt.formMethod))await xn(Fe,Ue,{submission:{...mt,formAction:Me},preventScrollReset:Oe||R,enableViewTransition:ee?P:void 0});else{let Dt=Fg(Ue,de);await xn(Fe,Ue,{overrideNavigation:Dt,fetcherSubmission:ve,preventScrollReset:Oe||R,enableViewTransition:ee?P:void 0})}}async function xe(q,W,ee,de){let ve,Oe={};try{ve=await n2(m,q,W,de,ee,!1)}catch(Ge){return W.filter(Me=>Me.shouldLoad).forEach(Me=>{Oe[Me.route.id]={type:"error",error:Ge}}),Oe}if(q.signal.aborted)return Oe;for(let[Ge,Me]of Object.entries(ve))if(l2(Me)){let Ue=Me.result;Oe[Ge]={type:"redirect",response:s2(Ue,q,Ge,W,f)}}else Oe[Ge]=await i2(Me);return Oe}async function Se(q,W,ee,de){let ve=xe(ee,q,de,null),Oe=Promise.all(W.map(async Ue=>{if(Ue.matches&&Ue.match&&Ue.request&&Ue.controller){let Ke=(await xe(Ue.request,Ue.matches,de,Ue.key))[Ue.match.route.id];return{[Ue.key]:Ke}}else return Promise.resolve({[Ue.key]:{type:"error",error:ii(404,{pathname:Ue.path})}})})),Ge=await ve,Me=(await Oe).reduce((Ue,Fe)=>Object.assign(Ue,Fe),{});return{loaderResults:Ge,fetcherResults:Me}}function _e(){ye=!0,oe.forEach((q,W)=>{Q.has(W)&&Ee.add(W),nn(W)})}function we(q,W,ee={}){F.fetchers.set(q,W),Ft({fetchers:new Map(F.fetchers)},{flushSync:(ee&&ee.flushSync)===!0})}function Ne(q,W,ee,de={}){let ve=xo(F.matches,W);At(q),Ft({errors:{[ve.route.id]:ee},fetchers:new Map(F.fetchers)},{flushSync:(de&&de.flushSync)===!0})}function st(q){return Te.set(q,(Te.get(q)||0)+1),pe.has(q)&&pe.delete(q),F.fetchers.get(q)||YI}function At(q){let W=F.fetchers.get(q);Q.has(q)&&!(W&&W.state==="loading"&&Ce.has(q))&&nn(q),oe.delete(q),Ce.delete(q),j.delete(q),pe.delete(q),Ee.delete(q),F.fetchers.delete(q)}function ui(q){let W=(Te.get(q)||0)-1;W<=0?(Te.delete(q),pe.add(q)):Te.set(q,W),Ft({fetchers:new Map(F.fetchers)})}function nn(q){let W=Q.get(q);W&&(W.abort(),Q.delete(q))}function Fr(q){for(let W of q){let ee=st(W),de=pa(ee.data);F.fetchers.set(W,de)}}function fr(){let q=[],W=!1;for(let ee of j){let de=F.fetchers.get(ee);ft(de,`Expected fetcher: ${ee}`),de.state==="loading"&&(j.delete(ee),q.push(ee),W=!0)}return Fr(q),W}function hr(q){let W=[];for(let[ee,de]of Ce)if(de<q){let ve=F.fetchers.get(ee);ft(ve,`Expected fetcher: ${ee}`),ve.state==="loading"&&(nn(ee),Ce.delete(ee),W.push(ee))}return Fr(W),W.length>0}function er(q,W){let ee=F.blockers.get(q)||Ec;return Ve.get(q)!==W&&Ve.set(q,W),ee}function $r(q){F.blockers.delete(q),Ve.delete(q)}function mr(q,W){let ee=F.blockers.get(q)||Ec;ft(ee.state==="unblocked"&&W.state==="blocked"||ee.state==="blocked"&&W.state==="blocked"||ee.state==="blocked"&&W.state==="proceeding"||ee.state==="blocked"&&W.state==="unblocked"||ee.state==="proceeding"&&W.state==="unblocked",`Invalid blocker state transition: ${ee.state} -> ${W.state}`);let de=new Map(F.blockers);de.set(q,W),Ft({blockers:de})}function ci({currentLocation:q,nextLocation:W,historyAction:ee}){if(Ve.size===0)return;Ve.size>1&&on(!1,"A router only supports one blocker at a time");let de=Array.from(Ve.entries()),[ve,Oe]=de[de.length-1],Ge=F.blockers.get(ve);if(!(Ge&&Ge.state==="proceeding")&&Oe({currentLocation:q,nextLocation:W,historyAction:ee}))return ve}function rs(q){let W=ii(404,{pathname:q}),ee=d||u,{matches:de,route:ve}=rT(ee);return{notFoundMatches:de,route:ve,error:W}}function Wa(q,W,ee){if(w=q,x=W,S=ee||null,!C&&F.navigation===Bg){C=!0;let de=Fs(F.location,F.matches);de!=null&&Ft({restoreScrollPosition:de})}return()=>{w=null,x=null,S=null}}function Hr(q,W){return S&&S(q,W.map(de=>AI(de,F.loaderData)))||q.key}function di(q,W){if(w&&x){let ee=Hr(q,W);w[ee]=x()}}function Fs(q,W){if(w){let ee=Hr(q,W),de=w[ee];if(typeof de=="number")return de}return null}function tr(q,W,ee){if(t.patchRoutesOnNavigation)if(q){if(Object.keys(q[0].params).length>0)return{active:!0,matches:nh(W,ee,f,!0)}}else return{active:!0,matches:nh(W,ee,f,!0)||[]};return{active:!1,matches:null}}async function xi(q,W,ee,de){if(!t.patchRoutesOnNavigation)return{type:"success",matches:q};let ve=q;for(;;){let Oe=d==null,Ge=d||u,Me=o;try{await t.patchRoutesOnNavigation({signal:ee,path:W,matches:ve,fetcherKey:de,patch:(Ke,je)=>{ee.aborted||YE(Ke,je,Ge,Me,s)}})}catch(Ke){return{type:"error",error:Ke,partialMatches:ve}}finally{Oe&&!ee.aborted&&(u=[...u])}if(ee.aborted)return{type:"aborted"};let Ue=ya(Ge,W,f);if(Ue)return{type:"success",matches:Ue};let Fe=nh(Ge,W,f,!0);if(!Fe||ve.length===Fe.length&&ve.every((Ke,je)=>Ke.route.id===Fe[je].route.id))return{type:"success",matches:null};ve=Fe}}function Ci(q){o={},d=yh(q,s,void 0,o)}function $s(q,W){let ee=d==null;YE(q,W,d||u,o,s),ee&&(u=[...u],Ft({}))}return G={get basename(){return f},get future(){return y},get state(){return F},get routes(){return u},get window(){return e},initialize:Kt,subscribe:qn,enableScrollRestoration:Wa,navigate:wr,fetch:Ai,revalidate:li,createHref:q=>t.history.createHref(q),encodeLocation:q=>t.history.encodeLocation(q),getFetcher:st,deleteFetcher:ui,dispose:Nt,getBlocker:er,deleteBlocker:$r,patchRoutes:$s,_internalFetchControllers:Q,_internalSetRoutes:Ci},G}function WI(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function fy(t,e,n,r,s,o){let u,d;if(s){u=[];for(let m of e)if(u.push(m),m.route.id===s){d=m;break}}else u=e,d=e[e.length-1];let f=rm(r||".",nm(u),si(t.pathname,n)||t.pathname,o==="path");if(r==null&&(f.search=t.search,f.hash=t.hash),(r==null||r===""||r===".")&&d){let m=nv(f.search);if(d.route.index&&!m)f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index";else if(!d.route.index&&m){let y=new URLSearchParams(f.search),b=y.getAll("index");y.delete("index"),b.filter(w=>w).forEach(w=>y.append("index",w));let _=y.toString();f.search=_?`?${_}`:""}}return n!=="/"&&(f.pathname=f.pathname==="/"?n:Ki([n,f.pathname])),Ma(f)}function GE(t,e,n){if(!n||!WI(n))return{path:e};if(n.formMethod&&!u2(n.formMethod))return{path:e,error:ii(405,{method:n.formMethod})};let r=()=>({path:e,error:ii(400,{type:"invalid-body"})}),o=(n.formMethod||"get").toUpperCase(),u=KS(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Pr(o))return r();let b=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((_,[w,S])=>`${_}${w}=${S}
`,""):String(n.body);return{path:e,submission:{formMethod:o,formAction:u,formEncType:n.formEncType,formData:void 0,json:void 0,text:b}}}else if(n.formEncType==="application/json"){if(!Pr(o))return r();try{let b=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:o,formAction:u,formEncType:n.formEncType,formData:void 0,json:b,text:void 0}}}catch{return r()}}}ft(typeof FormData=="function","FormData is not available in this environment");let d,f;if(n.formData)d=py(n.formData),f=n.formData;else if(n.body instanceof FormData)d=py(n.body),f=n.body;else if(n.body instanceof URLSearchParams)d=n.body,f=JE(d);else if(n.body==null)d=new URLSearchParams,f=new FormData;else try{d=new URLSearchParams(n.body),f=JE(d)}catch{return r()}let m={formMethod:o,formAction:u,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:f,json:void 0,text:void 0};if(Pr(m.formMethod))return{path:e,submission:m};let y=qa(e);return t&&y.search&&nv(y.search)&&d.append("index",""),y.search=`?${d}`,{path:Ma(y),submission:m}}function KE(t,e,n,r,s,o,u,d,f,m,y,b,_,w,S,x,C,V,L){var M;let $=L?Mr(L[1])?L[1].error:L[1].data:void 0,Y=s.createURL(o.location),G=s.createURL(f),F;if(y&&o.errors){let I=Object.keys(o.errors)[0];F=u.findIndex(ye=>ye.route.id===I)}else if(L&&Mr(L[1])){let I=L[0];F=u.findIndex(ye=>ye.route.id===I)-1}let U=L?L[1].statusCode:void 0,R=U&&U>=400,k={currentUrl:Y,currentParams:((M=o.matches[0])==null?void 0:M.params)||{},nextUrl:G,nextParams:u[0].params,...d,actionResult:$,actionStatus:U},P=u.map((I,ye)=>{let{route:Ee}=I,Q=null;if(F!=null&&ye>F?Q=!1:Ee.lazy?Q=!0:Ee.loader==null?Q=!1:y?Q=hy(Ee,o.loaderData,o.errors):ZI(o.loaderData,o.matches[ye],I)&&(Q=!0),Q!==null)return my(n,r,t,I,m,e,Q);let ce=R?!1:b||Y.pathname+Y.search===G.pathname+G.search||Y.search!==G.search||JI(o.matches[ye],I),ge={...k,defaultShouldRevalidate:ce},Ce=bh(I,ge);return my(n,r,t,I,m,e,Ce,ge)}),O=[];return S.forEach((I,ye)=>{if(y||!u.some(oe=>oe.route.id===I.routeId)||w.has(ye))return;let Ee=ya(C,I.path,V);if(!Ee){O.push({key:ye,routeId:I.routeId,path:I.path,matches:null,match:null,request:null,controller:null});return}if(x.has(ye))return;let Q=o.fetchers.get(ye),ce=Rc(Ee,I.path),ge=new AbortController,Ce=Ul(s,I.path,ge.signal),j=null;if(_.has(ye))_.delete(ye),j=ql(n,r,Ce,Ee,ce,m,e);else if(Q&&Q.state!=="idle"&&Q.data===void 0)b&&(j=ql(n,r,Ce,Ee,ce,m,e));else{let oe={...k,defaultShouldRevalidate:R?!1:b};bh(ce,oe)&&(j=ql(n,r,Ce,Ee,ce,m,e,oe))}j&&O.push({key:ye,routeId:I.routeId,path:I.path,matches:j,match:ce,request:Ce,controller:ge})}),{dsMatches:P,revalidatingFetchers:O}}function hy(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&t.id in e,s=n!=null&&n[t.id]!==void 0;return!r&&s?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!s}function ZI(t,e,n){let r=!e||n.route.id!==e.route.id,s=!t.hasOwnProperty(n.route.id);return r||s}function JI(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function bh(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function YE(t,e,n,r,s){let o;if(t){let f=r[t];ft(f,`No route found to patch children into: routeId = ${t}`),f.children||(f.children=[]),o=f.children}else o=n;let u=e.filter(f=>!o.some(m=>FS(f,m))),d=yh(u,s,[t||"_","patch",String((o==null?void 0:o.length)||"0")],r);o.push(...d)}function FS(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var s;return(s=e.children)==null?void 0:s.some(o=>FS(n,o))}):!1}var QE=new WeakMap,$S=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let s=n[e.id];if(ft(s,"No route found in manifest"),!s.lazy||typeof s.lazy!="object")return;let o=s.lazy[t];if(!o)return;let u=QE.get(s);u||(u={},QE.set(s,u));let d=u[t];if(d)return d;let f=(async()=>{let m=EI(t),b=s[t]!==void 0&&t!=="hasErrorBoundary";if(m)on(!m,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),u[t]=Promise.resolve();else if(b)on(!1,`Route "${s.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let _=await o();_!=null&&(Object.assign(s,{[t]:_}),Object.assign(s,r(s)))}typeof s.lazy=="object"&&(s.lazy[t]=void 0,Object.values(s.lazy).every(_=>_===void 0)&&(s.lazy=void 0))})();return u[t]=f,f},XE=new WeakMap;function e2(t,e,n,r,s){let o=n[t.id];if(ft(o,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let y=XE.get(o);if(y)return{lazyRoutePromise:y,lazyHandlerPromise:y};let b=(async()=>{ft(typeof t.lazy=="function","No lazy route function found");let _=await t.lazy(),w={};for(let S in _){let x=_[S];if(x===void 0)continue;let C=wI(S),L=o[S]!==void 0&&S!=="hasErrorBoundary";C?on(!C,"Route property "+S+" is not a supported property to be returned from a lazy route function. This property will be ignored."):L?on(!L,`Route "${o.id}" has a static property "${S}" defined but its lazy function is also returning a value for this property. The lazy route property "${S}" will be ignored.`):w[S]=x}Object.assign(o,w),Object.assign(o,{...r(o),lazy:void 0})})();return XE.set(o,b),b.catch(()=>{}),{lazyRoutePromise:b,lazyHandlerPromise:b}}let u=Object.keys(t.lazy),d=[],f;for(let y of u){if(s&&s.includes(y))continue;let b=$S({key:y,route:t,manifest:n,mapRouteProperties:r});b&&(d.push(b),y===e&&(f=b))}let m=d.length>0?Promise.all(d).then(()=>{}):void 0;return m==null||m.catch(()=>{}),f==null||f.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:f}}async function WE(t){let e=t.matches.filter(s=>s.shouldLoad),n={};return(await Promise.all(e.map(s=>s.resolve()))).forEach((s,o)=>{n[e[o].route.id]=s}),n}async function t2(t){return t.matches.some(e=>e.route.unstable_middleware)?HS(t,!1,()=>WE(t),(e,n)=>({[n]:{type:"error",result:e}})):WE(t)}async function HS(t,e,n,r){let{matches:s,request:o,params:u,context:d}=t,f={handlerResult:void 0};try{let m=s.flatMap(b=>b.route.unstable_middleware?b.route.unstable_middleware.map(_=>[b.route.id,_]):[]),y=await qS({request:o,params:u,context:d},m,e,f,n);return e?y:f.handlerResult}catch(m){if(!f.middlewareError)throw m;let y=await r(f.middlewareError.error,f.middlewareError.routeId);return f.handlerResult?Object.assign(f.handlerResult,y):y}}async function qS(t,e,n,r,s,o=0){let{request:u}=t;if(u.signal.aborted)throw u.signal.reason?u.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${u.method} ${u.url}`);let d=e[o];if(!d)return r.handlerResult=await s(),r.handlerResult;let[f,m]=d,y=!1,b,_=async()=>{if(y)throw new Error("You may only call `next()` once per middleware");y=!0,await qS(t,e,n,r,s,o+1)};try{let w=await m({request:t.request,params:t.params,context:t.context},_);return y?w===void 0?b:w:_()}catch(w){throw r.middlewareError?r.middlewareError.error!==w&&(r.middlewareError={routeId:f,error:w}):r.middlewareError={routeId:f,error:w},w}}function GS(t,e,n,r,s){let o=$S({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),u=e2(r.route,Pr(n.method)?"action":"loader",e,t,s);return{middleware:o,route:u.lazyRoutePromise,handler:u.lazyHandlerPromise}}function my(t,e,n,r,s,o,u,d=null){let f=!1,m=GS(t,e,n,r,s);return{...r,_lazyPromises:m,shouldLoad:u,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler(y){return f=!0,d?typeof y=="boolean"?bh(r,{...d,defaultShouldRevalidate:y}):bh(r,d):u},resolve(y){return f||u||y&&n.method==="GET"&&(r.route.lazy||r.route.loader)?r2({request:n,match:r,lazyHandlerPromise:m==null?void 0:m.handler,lazyRoutePromise:m==null?void 0:m.route,handlerOverride:y,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function ql(t,e,n,r,s,o,u,d=null){return r.map(f=>f.route.id!==s.route.id?{...f,shouldLoad:!1,unstable_shouldRevalidateArgs:d,unstable_shouldCallHandler:()=>!1,_lazyPromises:GS(t,e,n,f,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:my(t,e,n,f,o,u,!0,d))}async function n2(t,e,n,r,s,o){n.some(m=>{var y;return(y=m._lazyPromises)==null?void 0:y.middleware})&&await Promise.all(n.map(m=>{var y;return(y=m._lazyPromises)==null?void 0:y.middleware}));let u={request:e,params:n[0].params,context:s,matches:n},f=await t({...u,fetcherKey:r,unstable_runClientMiddleware:m=>{let y=u;return HS(y,!1,()=>m({...y,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(b,_)=>({[_]:{type:"error",result:b}}))}});try{await Promise.all(n.flatMap(m=>{var y,b;return[(y=m._lazyPromises)==null?void 0:y.handler,(b=m._lazyPromises)==null?void 0:b.route]}))}catch{}return f}async function r2({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:s,scopedContext:o}){let u,d,f=Pr(t.method),m=f?"action":"loader",y=b=>{let _,w=new Promise((C,V)=>_=V);d=()=>_(),t.signal.addEventListener("abort",d);let S=C=>typeof b!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${m}" [routeId: ${e.route.id}]`)):b({request:t,params:e.params,context:o},...C!==void 0?[C]:[]),x=(async()=>{try{return{type:"data",result:await(s?s(V=>S(V)):S())}}catch(C){return{type:"error",result:C}}})();return Promise.race([x,w])};try{let b=f?e.route.action:e.route.loader;if(n||r)if(b){let _,[w]=await Promise.all([y(b).catch(S=>{_=S}),n,r]);if(_!==void 0)throw _;u=w}else{await n;let _=f?e.route.action:e.route.loader;if(_)[u]=await Promise.all([y(_),r]);else if(m==="action"){let w=new URL(t.url),S=w.pathname+w.search;throw ii(405,{method:t.method,pathname:S,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(b)u=await y(b);else{let _=new URL(t.url),w=_.pathname+_.search;throw ii(404,{pathname:w})}}catch(b){return{type:"error",result:b}}finally{d&&t.signal.removeEventListener("abort",d)}return u}async function i2(t){var r,s,o,u,d,f;let{result:e,type:n}=t;if(YS(e)){let m;try{let y=e.headers.get("Content-Type");y&&/\bapplication\/json\b/.test(y)?e.body==null?m=null:m=await e.json():m=await e.text()}catch(y){return{type:"error",error:y}}return n==="error"?{type:"error",error:new _h(e.status,e.statusText,m),statusCode:e.status,headers:e.headers}:{type:"data",data:m,statusCode:e.status,headers:e.headers}}return n==="error"?iT(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new _h(((o=e.init)==null?void 0:o.status)||500,void 0,e.data),statusCode:Xc(e)?e.status:void 0,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Xc(e)?e.status:void 0}:iT(e)?{type:"data",data:e.data,statusCode:(d=e.init)==null?void 0:d.status,headers:(f=e.init)!=null&&f.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function s2(t,e,n,r,s){let o=t.headers.get("Location");if(ft(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!tv.test(o)){let u=r.slice(0,r.findIndex(d=>d.route.id===n)+1);o=fy(new URL(e.url),u,s,o),t.headers.set("Location",o)}return t}function ZE(t,e,n){if(tv.test(t)){let r=t,s=r.startsWith("//")?new URL(e.protocol+r):new URL(r),o=si(s.pathname,n)!=null;if(s.origin===e.origin&&o)return s.pathname+s.search+s.hash}return t}function Ul(t,e,n,r){let s=t.createURL(KS(e)).toString(),o={signal:n};if(r&&Pr(r.formMethod)){let{formMethod:u,formEncType:d}=r;o.method=u.toUpperCase(),d==="application/json"?(o.headers=new Headers({"Content-Type":d}),o.body=JSON.stringify(r.json)):d==="text/plain"?o.body=r.text:d==="application/x-www-form-urlencoded"&&r.formData?o.body=py(r.formData):o.body=r.formData}return new Request(s,o)}function py(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function JE(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function a2(t,e,n,r=!1,s=!1){let o={},u=null,d,f=!1,m={},y=n&&Mr(n[1])?n[1].error:void 0;return t.forEach(b=>{if(!(b.route.id in e))return;let _=b.route.id,w=e[_];if(ft(!Co(w),"Cannot handle redirect results in processLoaderData"),Mr(w)){let S=w.error;if(y!==void 0&&(S=y,y=void 0),u=u||{},s)u[_]=S;else{let x=xo(t,_);u[x.route.id]==null&&(u[x.route.id]=S)}r||(o[_]=BS),f||(f=!0,d=Xc(w.error)?w.error.status:500),w.headers&&(m[_]=w.headers)}else o[_]=w.data,w.statusCode&&w.statusCode!==200&&!f&&(d=w.statusCode),w.headers&&(m[_]=w.headers)}),y!==void 0&&n&&(u={[n[0]]:y},n[2]&&(o[n[2]]=void 0)),{loaderData:o,errors:u,statusCode:d||200,loaderHeaders:m}}function eT(t,e,n,r,s,o){let{loaderData:u,errors:d}=a2(e,n,r);return s.filter(f=>!f.matches||f.matches.some(m=>m.shouldLoad)).forEach(f=>{let{key:m,match:y,controller:b}=f,_=o[m];if(ft(_,"Did not find corresponding fetcher result"),!(b&&b.signal.aborted))if(Mr(_)){let w=xo(t.matches,y==null?void 0:y.route.id);d&&d[w.route.id]||(d={...d,[w.route.id]:_.error}),t.fetchers.delete(m)}else if(Co(_))ft(!1,"Unhandled fetcher revalidation redirect");else{let w=pa(_.data);t.fetchers.set(m,w)}}),{loaderData:u,errors:d}}function tT(t,e,n,r){let s=Object.entries(e).filter(([,o])=>o!==BS).reduce((o,[u,d])=>(o[u]=d,o),{});for(let o of n){let u=o.route.id;if(!e.hasOwnProperty(u)&&t.hasOwnProperty(u)&&o.route.loader&&(s[u]=t[u]),r&&r.hasOwnProperty(u))break}return s}function nT(t){return t?Mr(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function xo(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function rT(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ii(t,{pathname:e,routeId:n,method:r,type:s,message:o}={}){let u="Unknown Server Error",d="Unknown @remix-run/router error";return t===400?(u="Bad Request",r&&e&&n?d=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:s==="invalid-body"&&(d="Unable to encode submission body")):t===403?(u="Forbidden",d=`Route "${n}" does not match URL "${e}"`):t===404?(u="Not Found",d=`No route matches URL "${e}"`):t===405&&(u="Method Not Allowed",r&&e&&n?d=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(d=`Invalid request method "${r.toUpperCase()}"`)),new _h(t||500,u,new Error(d),!0)}function $f(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,s]=e[n];if(Co(s))return{key:r,result:s}}}function KS(t){let e=typeof t=="string"?qa(t):t;return Ma({...e,hash:""})}function o2(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function l2(t){return YS(t.result)&&GI.has(t.result.status)}function Mr(t){return t.type==="error"}function Co(t){return(t&&t.type)==="redirect"}function iT(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function YS(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function u2(t){return qI.has(t.toUpperCase())}function Pr(t){return $I.has(t.toUpperCase())}function nv(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Rc(t,e){let n=typeof e=="string"?qa(e).search:e.search;if(t[t.length-1].route.index&&nv(n||""))return t[t.length-1];let r=US(t);return r[r.length-1]}function sT(t){let{formMethod:e,formAction:n,formEncType:r,text:s,formData:o,json:u}=t;if(!(!e||!n||!r)){if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:s};if(o!=null)return{formMethod:e,formAction:n,formEncType:r,formData:o,json:void 0,text:void 0};if(u!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:u,text:void 0}}}function Fg(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function c2(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Tc(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function d2(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function pa(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function f2(t,e){try{let n=t.sessionStorage.getItem(zS);if(n){let r=JSON.parse(n);for(let[s,o]of Object.entries(r||{}))o&&Array.isArray(o)&&e.set(s,new Set(o||[]))}}catch{}}function h2(t,e){if(e.size>0){let n={};for(let[r,s]of e)n[r]=[...s];try{t.sessionStorage.setItem(zS,JSON.stringify(n))}catch(r){on(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function m2(){let t,e,n=new Promise((r,s)=>{t=async o=>{r(o);try{await n}catch{}},e=async o=>{s(o);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Fo=B.createContext(null);Fo.displayName="DataRouter";var dd=B.createContext(null);dd.displayName="DataRouterState";var rv=B.createContext({isTransitioning:!1});rv.displayName="ViewTransition";var QS=B.createContext(new Map);QS.displayName="Fetchers";var p2=B.createContext(null);p2.displayName="Await";var wi=B.createContext(null);wi.displayName="Navigation";var im=B.createContext(null);im.displayName="Location";var ai=B.createContext({outlet:null,matches:[],isDataRoute:!1});ai.displayName="Route";var iv=B.createContext(null);iv.displayName="RouteError";function g2(t,{relative:e}={}){ft(du(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=B.useContext(wi),{hash:s,pathname:o,search:u}=fd(t,{relative:e}),d=o;return n!=="/"&&(d=o==="/"?n:Ki([n,o])),r.createHref({pathname:d,search:u,hash:s})}function du(){return B.useContext(im)!=null}function Ga(){return ft(du(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(im).location}var XS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function WS(t){B.useContext(wi).static||B.useLayoutEffect(t)}function fu(){let{isDataRoute:t}=B.useContext(ai);return t?D2():y2()}function y2(){ft(du(),"useNavigate() may be used only in the context of a <Router> component.");let t=B.useContext(Fo),{basename:e,navigator:n}=B.useContext(wi),{matches:r}=B.useContext(ai),{pathname:s}=Ga(),o=JSON.stringify(nm(r)),u=B.useRef(!1);return WS(()=>{u.current=!0}),B.useCallback((f,m={})=>{if(on(u.current,XS),!u.current)return;if(typeof f=="number"){n.go(f);return}let y=rm(f,JSON.parse(o),s,m.relative==="path");t==null&&e!=="/"&&(y.pathname=y.pathname==="/"?e:Ki([e,y.pathname])),(m.replace?n.replace:n.push)(y,m.state,m)},[e,n,o,s,t])}var v2=B.createContext(null);function _2(t){let e=B.useContext(ai).outlet;return e&&B.createElement(v2.Provider,{value:t},e)}function b2(){let{matches:t}=B.useContext(ai),e=t[t.length-1];return e?e.params:{}}function fd(t,{relative:e}={}){let{matches:n}=B.useContext(ai),{pathname:r}=Ga(),s=JSON.stringify(nm(n));return B.useMemo(()=>rm(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function E2(t,e,n,r){ft(du(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:o}=B.useContext(wi),{matches:u}=B.useContext(ai),d=u[u.length-1],f=d?d.params:{},m=d?d.pathname:"/",y=d?d.pathnameBase:"/",b=d&&d.route;{let L=b&&b.path||"";ZS(m,!b||L.endsWith("*")||L.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${L}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${L}"> to <Route path="${L==="/"?"*":`${L}/*`}">.`)}let _=Ga(),w;w=_;let S=w.pathname||"/",x=S;if(y!=="/"){let L=y.replace(/^\//,"").split("/");x="/"+S.replace(/^\//,"").split("/").slice(L.length).join("/")}let C=!o&&n&&n.matches&&n.matches.length>0?n.matches:ya(t,{pathname:x});return on(b||C!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),on(C==null||C[C.length-1].route.element!==void 0||C[C.length-1].route.Component!==void 0||C[C.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),x2(C&&C.map(L=>Object.assign({},L,{params:Object.assign({},f,L.params),pathname:Ki([y,s.encodeLocation?s.encodeLocation(L.pathname).pathname:L.pathname]),pathnameBase:L.pathnameBase==="/"?y:Ki([y,s.encodeLocation?s.encodeLocation(L.pathnameBase).pathname:L.pathnameBase])})),u,n,r)}function T2(){let t=O2(),e=Xc(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",t),u=B.createElement(B.Fragment,null,B.createElement("p",null," Hey developer "),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:o},"ErrorBoundary")," or"," ",B.createElement("code",{style:o},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:s},n):null,u)}var w2=B.createElement(T2,null),S2=class extends B.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?B.createElement(ai.Provider,{value:this.props.routeContext},B.createElement(iv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function A2({routeContext:t,match:e,children:n}){let r=B.useContext(Fo);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(ai.Provider,{value:t},n)}function x2(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=n==null?void 0:n.errors;if(o!=null){let f=s.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);ft(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let u=!1,d=-1;if(n)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:y,errors:b}=n,_=m.route.loader&&!y.hasOwnProperty(m.route.id)&&(!b||b[m.route.id]===void 0);if(m.route.lazy||_){u=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((f,m,y)=>{let b,_=!1,w=null,S=null;n&&(b=o&&m.route.id?o[m.route.id]:void 0,w=m.route.errorElement||w2,u&&(d<0&&y===0?(ZS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),_=!0,S=null):d===y&&(_=!0,S=m.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,y+1)),C=()=>{let V;return b?V=w:_?V=S:m.route.Component?V=B.createElement(m.route.Component,null):m.route.element?V=m.route.element:V=f,B.createElement(A2,{match:m,routeContext:{outlet:f,matches:x,isDataRoute:n!=null},children:V})};return n&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?B.createElement(S2,{location:n.location,revalidation:n.revalidation,component:w,error:b,children:C(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):C()},null)}function sv(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function C2(t){let e=B.useContext(Fo);return ft(e,sv(t)),e}function R2(t){let e=B.useContext(dd);return ft(e,sv(t)),e}function I2(t){let e=B.useContext(ai);return ft(e,sv(t)),e}function av(t){let e=I2(t),n=e.matches[e.matches.length-1];return ft(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function N2(){return av("useRouteId")}function O2(){var r;let t=B.useContext(iv),e=R2("useRouteError"),n=av("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function D2(){let{router:t}=C2("useNavigate"),e=av("useNavigate"),n=B.useRef(!1);return WS(()=>{n.current=!0}),B.useCallback(async(s,o={})=>{on(n.current,XS),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...o}))},[t,e])}var aT={};function ZS(t,e,n){!e&&!aT[t]&&(aT[t]=!0,on(!1,n))}var oT={};function lT(t,e){!t&&!oT[e]&&(oT[e]=!0,console.warn(e))}function k2(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&on(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:B.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&on(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:B.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&on(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:B.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var M2=["HydrateFallback","hydrateFallbackElement"],P2=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function L2({router:t,flushSync:e}){let[n,r]=B.useState(t.state),[s,o]=B.useState(),[u,d]=B.useState({isTransitioning:!1}),[f,m]=B.useState(),[y,b]=B.useState(),[_,w]=B.useState(),S=B.useRef(new Map),x=B.useCallback(($,{deletedFetchers:Y,flushSync:G,viewTransitionOpts:F})=>{$.fetchers.forEach((R,k)=>{R.data!==void 0&&S.current.set(k,R.data)}),Y.forEach(R=>S.current.delete(R)),lT(G===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let U=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(lT(F==null||U,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!F||!U){e&&G?e(()=>r($)):B.startTransition(()=>r($));return}if(e&&G){e(()=>{y&&(f&&f.resolve(),y.skipTransition()),d({isTransitioning:!0,flushSync:!0,currentLocation:F.currentLocation,nextLocation:F.nextLocation})});let R=t.window.document.startViewTransition(()=>{e(()=>r($))});R.finished.finally(()=>{e(()=>{m(void 0),b(void 0),o(void 0),d({isTransitioning:!1})})}),e(()=>b(R));return}y?(f&&f.resolve(),y.skipTransition(),w({state:$,currentLocation:F.currentLocation,nextLocation:F.nextLocation})):(o($),d({isTransitioning:!0,flushSync:!1,currentLocation:F.currentLocation,nextLocation:F.nextLocation}))},[t.window,e,y,f]);B.useLayoutEffect(()=>t.subscribe(x),[t,x]),B.useEffect(()=>{u.isTransitioning&&!u.flushSync&&m(new P2)},[u]),B.useEffect(()=>{if(f&&s&&t.window){let $=s,Y=f.promise,G=t.window.document.startViewTransition(async()=>{B.startTransition(()=>r($)),await Y});G.finished.finally(()=>{m(void 0),b(void 0),o(void 0),d({isTransitioning:!1})}),b(G)}},[s,f,t.window]),B.useEffect(()=>{f&&s&&n.location.key===s.location.key&&f.resolve()},[f,y,n.location,s]),B.useEffect(()=>{!u.isTransitioning&&_&&(o(_.state),d({isTransitioning:!0,flushSync:!1,currentLocation:_.currentLocation,nextLocation:_.nextLocation}),w(void 0))},[u.isTransitioning,_]);let C=B.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:$=>t.navigate($),push:($,Y,G)=>t.navigate($,{state:Y,preventScrollReset:G==null?void 0:G.preventScrollReset}),replace:($,Y,G)=>t.navigate($,{replace:!0,state:Y,preventScrollReset:G==null?void 0:G.preventScrollReset})}),[t]),V=t.basename||"/",L=B.useMemo(()=>({router:t,navigator:C,static:!1,basename:V}),[t,C,V]);return B.createElement(B.Fragment,null,B.createElement(Fo.Provider,{value:L},B.createElement(dd.Provider,{value:n},B.createElement(QS.Provider,{value:S.current},B.createElement(rv.Provider,{value:u},B.createElement(B2,{basename:V,location:n.location,navigationType:n.historyAction,navigator:C},B.createElement(V2,{routes:t.routes,future:t.future,state:n})))))),null)}var V2=B.memo(U2);function U2({routes:t,future:e,state:n}){return E2(t,void 0,n,e)}function j2({to:t,replace:e,state:n,relative:r}){ft(du(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=B.useContext(wi);on(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=B.useContext(ai),{pathname:u}=Ga(),d=fu(),f=rm(t,nm(o),u,r==="path"),m=JSON.stringify(f);return B.useEffect(()=>{d(JSON.parse(m),{replace:e,state:n,relative:r})},[d,m,r,e,n]),null}function z2(t){return _2(t.context)}function B2({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:o=!1}){ft(!du(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=t.replace(/^\/*/,"/"),d=B.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof n=="string"&&(n=qa(n));let{pathname:f="/",search:m="",hash:y="",state:b=null,key:_="default"}=n,w=B.useMemo(()=>{let S=si(f,u);return S==null?null:{location:{pathname:S,search:m,hash:y,state:b,key:_},navigationType:r}},[u,f,m,y,b,_,r]);return on(w!=null,`<Router basename="${u}"> is not able to match the URL "${f}${m}${y}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:B.createElement(wi.Provider,{value:d},B.createElement(im.Provider,{children:e,value:w}))}var rh="get",ih="application/x-www-form-urlencoded";function sm(t){return t!=null&&typeof t.tagName=="string"}function F2(t){return sm(t)&&t.tagName.toLowerCase()==="button"}function $2(t){return sm(t)&&t.tagName.toLowerCase()==="form"}function H2(t){return sm(t)&&t.tagName.toLowerCase()==="input"}function q2(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function G2(t,e){return t.button===0&&(!e||e==="_self")&&!q2(t)}var Hf=null;function K2(){if(Hf===null)try{new FormData(document.createElement("form"),0),Hf=!1}catch{Hf=!0}return Hf}var Y2=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $g(t){return t!=null&&!Y2.has(t)?(on(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ih}"`),null):t}function Q2(t,e){let n,r,s,o,u;if($2(t)){let d=t.getAttribute("action");r=d?si(d,e):null,n=t.getAttribute("method")||rh,s=$g(t.getAttribute("enctype"))||ih,o=new FormData(t)}else if(F2(t)||H2(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=t.getAttribute("formaction")||d.getAttribute("action");if(r=f?si(f,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||rh,s=$g(t.getAttribute("formenctype"))||$g(d.getAttribute("enctype"))||ih,o=new FormData(d,t),!K2()){let{name:m,type:y,value:b}=t;if(y==="image"){let _=m?`${m}.`:"";o.append(`${_}x`,"0"),o.append(`${_}y`,"0")}else m&&o.append(m,b)}}else{if(sm(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=rh,r=null,s=ih,u=t}return o&&s==="text/plain"&&(u=o,o=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:o,body:u}}function ov(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function X2(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function W2(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Z2(t,e,n){let r=await Promise.all(t.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await X2(o,n);return u.links?u.links():[]}return[]}));return nN(r.flat(1).filter(W2).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function uT(t,e,n,r,s,o){let u=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,d=(f,m)=>{var y;return n[m].pathname!==f.pathname||((y=n[m].route.path)==null?void 0:y.endsWith("*"))&&n[m].params["*"]!==f.params["*"]};return o==="assets"?e.filter((f,m)=>u(f,m)||d(f,m)):o==="data"?e.filter((f,m)=>{var b;let y=r.routes[f.route.id];if(!y||!y.hasLoader)return!1;if(u(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let _=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(t,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function J2(t,e,{includeHydrateFallback:n}={}){return eN(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function eN(t){return[...new Set(t)]}function tN(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function nN(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let o=JSON.stringify(tN(s));return n.has(o)||(n.add(o),r.push({key:o,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var rN=new Set([100,101,204,205]);function iN(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&si(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function JS(){let t=B.useContext(Fo);return ov(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function sN(){let t=B.useContext(dd);return ov(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var lv=B.createContext(void 0);lv.displayName="FrameworkContext";function e1(){let t=B.useContext(lv);return ov(t,"You must render this element inside a <HydratedRouter> element"),t}function aN(t,e){let n=B.useContext(lv),[r,s]=B.useState(!1),[o,u]=B.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:y,onTouchStart:b}=e,_=B.useRef(null);B.useEffect(()=>{if(t==="render"&&u(!0),t==="viewport"){let x=V=>{V.forEach(L=>{u(L.isIntersecting)})},C=new IntersectionObserver(x,{threshold:.5});return _.current&&C.observe(_.current),()=>{C.disconnect()}}},[t]),B.useEffect(()=>{if(r){let x=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(x)}}},[r]);let w=()=>{s(!0)},S=()=>{s(!1),u(!1)};return n?t!=="intent"?[o,_,{}]:[o,_,{onFocus:wc(d,w),onBlur:wc(f,S),onMouseEnter:wc(m,w),onMouseLeave:wc(y,S),onTouchStart:wc(b,w)}]:[!1,_,{}]}function wc(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function oN({page:t,...e}){let{router:n}=JS(),r=B.useMemo(()=>ya(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?B.createElement(uN,{page:t,matches:r,...e}):null}function lN(t){let{manifest:e,routeModules:n}=e1(),[r,s]=B.useState([]);return B.useEffect(()=>{let o=!1;return Z2(t,e,n).then(u=>{o||s(u)}),()=>{o=!0}},[t,e,n]),r}function uN({page:t,matches:e,...n}){let r=Ga(),{manifest:s,routeModules:o}=e1(),{basename:u}=JS(),{loaderData:d,matches:f}=sN(),m=B.useMemo(()=>uT(t,e,f,s,r,"data"),[t,e,f,s,r]),y=B.useMemo(()=>uT(t,e,f,s,r,"assets"),[t,e,f,s,r]),b=B.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let S=new Set,x=!1;if(e.forEach(V=>{var $;let L=s.routes[V.route.id];!L||!L.hasLoader||(!m.some(Y=>Y.route.id===V.route.id)&&V.route.id in d&&(($=o[V.route.id])!=null&&$.shouldRevalidate)||L.hasClientLoader?x=!0:S.add(V.route.id))}),S.size===0)return[];let C=iN(t,u);return x&&S.size>0&&C.searchParams.set("_routes",e.filter(V=>S.has(V.route.id)).map(V=>V.route.id).join(",")),[C.pathname+C.search]},[u,d,r,s,m,e,t,o]),_=B.useMemo(()=>J2(y,s),[y,s]),w=lN(y);return B.createElement(B.Fragment,null,b.map(S=>B.createElement("link",{key:S,rel:"prefetch",as:"fetch",href:S,...n})),_.map(S=>B.createElement("link",{key:S,rel:"modulepreload",href:S,...n})),w.map(({key:S,link:x})=>B.createElement("link",{key:S,...x})))}function cN(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var t1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{t1&&(window.__reactRouterVersion="7.6.0")}catch{}function dN(t,e){return XI({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:yI({window:e==null?void 0:e.window}),hydrationData:fN(),routes:t,mapRouteProperties:k2,hydrationRouteProperties:M2,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function fN(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:hN(t.errors)}),t}function hN(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,s]of e)if(s&&s.__type==="RouteErrorResponse")n[r]=new _h(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let o=window[s.__subType];if(typeof o=="function")try{let u=new o(s.message);u.stack="",n[r]=u}catch{}}if(n[r]==null){let o=new Error(s.message);o.stack="",n[r]=o}}else n[r]=s;return n}var n1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ur=B.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:o,replace:u,state:d,target:f,to:m,preventScrollReset:y,viewTransition:b,..._},w){let{basename:S}=B.useContext(wi),x=typeof m=="string"&&n1.test(m),C,V=!1;if(typeof m=="string"&&x&&(C=m,t1))try{let k=new URL(window.location.href),P=m.startsWith("//")?new URL(k.protocol+m):new URL(m),O=si(P.pathname,S);P.origin===k.origin&&O!=null?m=O+P.search+P.hash:V=!0}catch{on(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let L=g2(m,{relative:s}),[$,Y,G]=aN(r,_),F=yN(m,{replace:u,state:d,target:f,preventScrollReset:y,relative:s,viewTransition:b});function U(k){e&&e(k),k.defaultPrevented||F(k)}let R=B.createElement("a",{..._,...G,href:C||L,onClick:V||o?e:U,ref:cN(w,Y),target:f,"data-discover":!x&&n==="render"?"true":void 0});return $&&!x?B.createElement(B.Fragment,null,R,B.createElement(oN,{page:L})):R});Ur.displayName="Link";var mN=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:o,to:u,viewTransition:d,children:f,...m},y){let b=fd(u,{relative:m.relative}),_=Ga(),w=B.useContext(dd),{navigator:S,basename:x}=B.useContext(wi),C=w!=null&&TN(b)&&d===!0,V=S.encodeLocation?S.encodeLocation(b).pathname:b.pathname,L=_.pathname,$=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(L=L.toLowerCase(),$=$?$.toLowerCase():null,V=V.toLowerCase()),$&&x&&($=si($,x)||$);const Y=V!=="/"&&V.endsWith("/")?V.length-1:V.length;let G=L===V||!s&&L.startsWith(V)&&L.charAt(Y)==="/",F=$!=null&&($===V||!s&&$.startsWith(V)&&$.charAt(V.length)==="/"),U={isActive:G,isPending:F,isTransitioning:C},R=G?e:void 0,k;typeof r=="function"?k=r(U):k=[r,G?"active":null,F?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let P=typeof o=="function"?o(U):o;return B.createElement(Ur,{...m,"aria-current":R,className:k,ref:y,style:P,to:u,viewTransition:d},typeof f=="function"?f(U):f)});mN.displayName="NavLink";var pN=B.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:o,method:u=rh,action:d,onSubmit:f,relative:m,preventScrollReset:y,viewTransition:b,..._},w)=>{let S=bN(),x=EN(d,{relative:m}),C=u.toLowerCase()==="get"?"get":"post",V=typeof d=="string"&&n1.test(d),L=$=>{if(f&&f($),$.defaultPrevented)return;$.preventDefault();let Y=$.nativeEvent.submitter,G=(Y==null?void 0:Y.getAttribute("formmethod"))||u;S(Y||$.currentTarget,{fetcherKey:e,method:G,navigate:n,replace:s,state:o,relative:m,preventScrollReset:y,viewTransition:b})};return B.createElement("form",{ref:w,method:C,action:x,onSubmit:r?f:L,..._,"data-discover":!V&&t==="render"?"true":void 0})});pN.displayName="Form";function gN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function r1(t){let e=B.useContext(Fo);return ft(e,gN(t)),e}function yN(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:o,viewTransition:u}={}){let d=fu(),f=Ga(),m=fd(t,{relative:o});return B.useCallback(y=>{if(G2(y,e)){y.preventDefault();let b=n!==void 0?n:Ma(f)===Ma(m);d(t,{replace:b,state:r,preventScrollReset:s,relative:o,viewTransition:u})}},[f,d,m,n,r,e,t,s,o,u])}var vN=0,_N=()=>`__${String(++vN)}__`;function bN(){let{router:t}=r1("useSubmit"),{basename:e}=B.useContext(wi),n=N2();return B.useCallback(async(r,s={})=>{let{action:o,method:u,encType:d,formData:f,body:m}=Q2(r,e);if(s.navigate===!1){let y=s.fetcherKey||_N();await t.fetch(y,n,s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||u,formEncType:s.encType||d,flushSync:s.flushSync})}else await t.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||u,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function EN(t,{relative:e}={}){let{basename:n}=B.useContext(wi),r=B.useContext(ai);ft(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...fd(t||".",{relative:e})},u=Ga();if(t==null){o.search=u.search;let d=new URLSearchParams(o.search),f=d.getAll("index");if(f.some(y=>y==="")){d.delete("index"),f.filter(b=>b).forEach(b=>d.append("index",b));let y=d.toString();o.search=y?`?${y}`:""}}return(!t||t===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Ki([n,o.pathname])),Ma(o)}function TN(t,e={}){let n=B.useContext(rv);ft(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=r1("useViewTransitionState"),s=fd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let o=si(n.currentLocation.pathname,r)||n.currentLocation.pathname,u=si(n.nextLocation.pathname,r)||n.nextLocation.pathname;return vh(s.pathname,u)!=null||vh(s.pathname,o)!=null}[...rN];var wN=kS();/**
 * react-router v7.6.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function SN(t){return B.createElement(L2,{flushSync:wN.flushSync,...t})}var i1={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},cT=vt.createContext&&vt.createContext(i1),AN=["attr","size","title"];function xN(t,e){if(t==null)return{};var n=CN(t,e),r,s;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(s=0;s<o.length;s++)r=o[s],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function CN(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Eh(){return Eh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Eh.apply(this,arguments)}function dT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,r)}return n}function Th(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dT(Object(n),!0).forEach(function(r){RN(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RN(t,e,n){return e=IN(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IN(t){var e=NN(t,"string");return typeof e=="symbol"?e:e+""}function NN(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s1(t){return t&&t.map((e,n)=>vt.createElement(e.tag,Th({key:n},e.attr),s1(e.child)))}function js(t){return e=>vt.createElement(ON,Eh({attr:Th({},t.attr)},e),s1(t.child))}function ON(t){var e=n=>{var{attr:r,size:s,title:o}=t,u=xN(t,AN),d=s||n.size||"1em",f;return n.className&&(f=n.className),t.className&&(f=(f?f+" ":"")+t.className),vt.createElement("svg",Eh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,u,{className:f,style:Th(Th({color:t.color||n.color},n.style),t.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),o&&vt.createElement("title",null,o),t.children)};return cT!==void 0?vt.createElement(cT.Consumer,null,n=>e(n)):e(i1)}function DN(t){return js({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function gy(t){return js({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function kN(t){return js({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(t)}function MN(t){return js({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(t)}const PN=[{id:0,name:"Nissan",image:"/brands/nissan.png"},{id:1,name:"Mercedes",image:"/brands/mercedes.png"},{id:2,name:"Honda",image:"/brands/honda.png"},{id:3,name:"Toyota",image:"/brands/toyota.png"},{id:4,name:"Bmw",image:"/brands/bmw.png"},{id:5,name:"Mitsubishi",image:"/brands/mitsubishi.png"},{id:6,name:"Volkswagen",image:"/brands/volkswagen.png"}];function LN(){return D.jsxs("footer",{className:"bg-slate-200 py-4 flex flex-col justify-center items-center",children:[D.jsx("p",{className:"mt-4 font-bold text-3xl",children:"Marcas"}),D.jsx("div",{className:"flex gap-4 mt-4",children:PN.map(t=>D.jsx("div",{className:"flex bg-amber-50 justify-center items-center px-2 py-2 rounded-2xl",children:D.jsx("img",{src:t.image,alt:t.name,className:"w-full h-8"})},t.id))}),D.jsx("div",{className:"border-t mt-4 w-[80%] mx-auto"}),D.jsxs("div",{className:"flex gap-8 md:gap-44",children:[D.jsxs("div",{className:"flex flex-col justify-center items-center",children:[D.jsxs("span",{className:"text-3xl font-bold mb-3.5",children:["ALN",D.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-blue-600 bg-clip-text text-transparent",children:"Motors"})]}),D.jsx("button",{className:"bg-gradient-to-r from-blue-400 to-blue-600 text-white py-2 px-4 rounded-md opacity-50 hover:opacity-100 cursor-pointer",children:"Contato Whatsapp"})]}),D.jsxs("div",{className:"flex flex-col gap-2",children:[D.jsx("p",{className:"mt-4 font-bold text-2xl",children:"Contatos"}),D.jsxs("span",{className:"flex gap-2",children:[D.jsx(gy,{size:24,color:"#000"}),"(11) 99999-9999"]}),D.jsxs("span",{className:"flex gap-2",children:[D.jsx(MN,{size:24,color:"#000"}),"alan@gmail.com"]})]}),D.jsxs("div",{className:"flex flex-col gap-2",children:[D.jsx("p",{className:"mt-4 font-bold text-2xl",children:"Redes Sociais"}),D.jsxs("div",{className:"flex gap-2",children:[D.jsx(DN,{size:24,color:"#000",className:"hover:scale-110 cursor-pointer"}),D.jsx(gy,{size:24,color:"#000",className:"hover:scale-110 cursor-pointer"}),D.jsx(kN,{size:24,color:"#000",className:"hover:scale-110 cursor-pointer"})]})]})]}),D.jsxs("p",{className:"mt-4 font-medium",children:[D.jsx("span",{children:""})," Desenvolvido por Alan Nunes"]})]})}function am(t){return js({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"2",x2:"12",y2:"6"},child:[]},{tag:"line",attr:{x1:"12",y1:"18",x2:"12",y2:"22"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"4.93",x2:"7.76",y2:"7.76"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"16.24",x2:"19.07",y2:"19.07"},child:[]},{tag:"line",attr:{x1:"2",y1:"12",x2:"6",y2:"12"},child:[]},{tag:"line",attr:{x1:"18",y1:"12",x2:"22",y2:"12"},child:[]},{tag:"line",attr:{x1:"4.93",y1:"19.07",x2:"7.76",y2:"16.24"},child:[]},{tag:"line",attr:{x1:"16.24",y1:"7.76",x2:"19.07",y2:"4.93"},child:[]}]})(t)}function VN(t){return js({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(t)}function UN(t){return js({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]}]})(t)}function a1(t){return js({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"17 8 12 3 7 8"},child:[]},{tag:"line",attr:{x1:"12",y1:"3",x2:"12",y2:"15"},child:[]}]})(t)}function jN(t){return js({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}const zN=()=>{};var fT={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},BN=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],u=t[n++],d=t[n++],f=((s&7)<<18|(o&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const o=t[n++],u=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},l1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const o=t[s],u=s+1<t.length,d=u?t[s+1]:0,f=s+2<t.length,m=f?t[s+2]:0,y=o>>2,b=(o&3)<<4|d>>4;let _=(d&15)<<2|m>>6,w=m&63;f||(w=64,u||(_=64)),r.push(n[y],n[b],n[_],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(o1(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):BN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],d=s<t.length?n[t.charAt(s)]:0;++s;const m=s<t.length?n[t.charAt(s)]:64;++s;const b=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||d==null||m==null||b==null)throw new FN;const _=o<<2|d>>4;if(r.push(_),m!==64){const w=d<<4&240|m>>2;if(r.push(w),b!==64){const S=m<<6&192|b;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class FN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $N=function(t){const e=o1(t);return l1.encodeByteArray(e,!0)},wh=function(t){return $N(t).replace(/\./g,"")},u1=function(t){try{return l1.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=()=>HN().__FIREBASE_DEFAULTS__,GN=()=>{if(typeof process>"u"||typeof fT>"u")return;const t=fT.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},KN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&u1(t[1]);return e&&JSON.parse(e)},om=()=>{try{return zN()||qN()||GN()||KN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},c1=t=>{var e,n;return(n=(e=om())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},d1=t=>{const e=c1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},f1=()=>{var t;return(t=om())===null||t===void 0?void 0:t.config},h1=t=>{var e;return(e=om())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(t){return t.endsWith(".cloudworkstations.dev")}async function uv(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[wh(JSON.stringify(n)),wh(JSON.stringify(u)),""].join(".")}const Uc={};function QN(){const t={prod:[],emulator:[]};for(const e of Object.keys(Uc))Uc[e]?t.emulator.push(e):t.prod.push(e);return t}function XN(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let hT=!1;function hu(t,e){if(typeof window>"u"||typeof document>"u"||!$o(window.location.host)||Uc[t]===e||Uc[t]||hT)return;Uc[t]=e;function n(_){return`__firebase__banner__${_}`}const r="__firebase__banner",o=QN().prod.length>0;function u(){const _=document.getElementById(r);_&&_.remove()}function d(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function f(_,w){_.setAttribute("width","24"),_.setAttribute("id",w),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function m(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{hT=!0,u()},_}function y(_,w){_.setAttribute("id",w),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function b(){const _=XN(r),w=n("text"),S=document.getElementById(w)||document.createElement("span"),x=n("learnmore"),C=document.getElementById(x)||document.createElement("a"),V=n("preprendIcon"),L=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const $=_.element;d($),y(C,x);const Y=m();f(L,V),$.append(L,S,C,Y),document.body.appendChild($)}o?(S.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jn())}function ZN(){var t;const e=(t=om())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function JN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eO(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nO(){const t=Jn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rO(){return!ZN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iO(){try{return typeof indexedDB=="object"}catch{return!1}}function sO(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aO="FirebaseError";class ts extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=aO,Object.setPrototypeOf(this,ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hd.prototype.create)}}class hd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?oO(o,r):"Error",d=`${this.serviceName}: ${u} (${s}).`;return new ts(s,d,r)}}function oO(t,e){return t.replace(lO,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const lO=/\{\$([^}]+)}/g;function uO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Do(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const o=t[s],u=e[s];if(mT(o)&&mT(u)){if(!Do(o,u))return!1}else if(o!==u)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function mT(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function md(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ic(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Nc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function cO(t,e){const n=new dO(t,e);return n.subscribe.bind(n)}class dO{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");fO(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Hg),s.error===void 0&&(s.error=Hg),s.complete===void 0&&(s.complete=Hg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fO(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(t){return t&&t._delegate?t._delegate:t}class Pa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new YN;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(pO(e))try{this.getOrInitializeService({instanceIdentifier:Ao})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=Ao){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ao){return this.instances.has(e)}getOptions(e=Ao){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&u.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mO(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ao){return this.component?this.component.multipleInstances?e:Ao:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mO(t){return t===Ao?void 0:t}function pO(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new hO(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var yt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(yt||(yt={}));const yO={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},vO=yt.INFO,_O={[yt.DEBUG]:"log",[yt.VERBOSE]:"log",[yt.INFO]:"info",[yt.WARN]:"warn",[yt.ERROR]:"error"},bO=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=_O[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class cv{constructor(e){this.name=e,this._logLevel=vO,this._logHandler=bO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,yt.DEBUG,...e),this._logHandler(this,yt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,yt.VERBOSE,...e),this._logHandler(this,yt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,yt.INFO,...e),this._logHandler(this,yt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,yt.WARN,...e),this._logHandler(this,yt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,yt.ERROR,...e),this._logHandler(this,yt.ERROR,...e)}}const EO=(t,e)=>e.some(n=>t instanceof n);let pT,gT;function TO(){return pT||(pT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wO(){return gT||(gT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p1=new WeakMap,yy=new WeakMap,g1=new WeakMap,qg=new WeakMap,dv=new WeakMap;function SO(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",u)},o=()=>{n(Ia(t.result)),s()},u=()=>{r(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&p1.set(n,t)}).catch(()=>{}),dv.set(e,t),e}function AO(t){if(yy.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",u),t.removeEventListener("abort",u)},o=()=>{n(),s()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",u),t.addEventListener("abort",u)});yy.set(t,e)}let vy={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return yy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||g1.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ia(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xO(t){vy=t(vy)}function CO(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Gg(this),e,...n);return g1.set(r,e.sort?e.sort():[e]),Ia(r)}:wO().includes(t)?function(...e){return t.apply(Gg(this),e),Ia(p1.get(this))}:function(...e){return Ia(t.apply(Gg(this),e))}}function RO(t){return typeof t=="function"?CO(t):(t instanceof IDBTransaction&&AO(t),EO(t,TO())?new Proxy(t,vy):t)}function Ia(t){if(t instanceof IDBRequest)return SO(t);if(qg.has(t))return qg.get(t);const e=RO(t);return e!==t&&(qg.set(t,e),dv.set(e,t)),e}const Gg=t=>dv.get(t);function IO(t,e,{blocked:n,upgrade:r,blocking:s,terminated:o}={}){const u=indexedDB.open(t,e),d=Ia(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Ia(u.result),f.oldVersion,f.newVersion,Ia(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{o&&f.addEventListener("close",()=>o()),s&&f.addEventListener("versionchange",m=>s(m.oldVersion,m.newVersion,m))}).catch(()=>{}),d}const NO=["get","getKey","getAll","getAllKeys","count"],OO=["put","add","delete","clear"],Kg=new Map;function yT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Kg.get(e))return Kg.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=OO.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||NO.includes(n)))return;const o=async function(u,...d){const f=this.transaction(u,s?"readwrite":"readonly");let m=f.store;return r&&(m=m.index(d.shift())),(await Promise.all([m[n](...d),s&&f.done]))[0]};return Kg.set(e,o),o}xO(t=>({...t,get:(e,n,r)=>yT(e,n)||t.get(e,n,r),has:(e,n)=>!!yT(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(kO(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function kO(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _y="@firebase/app",vT="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ds=new cv("@firebase/app"),MO="@firebase/app-compat",PO="@firebase/analytics-compat",LO="@firebase/analytics",VO="@firebase/app-check-compat",UO="@firebase/app-check",jO="@firebase/auth",zO="@firebase/auth-compat",BO="@firebase/database",FO="@firebase/data-connect",$O="@firebase/database-compat",HO="@firebase/functions",qO="@firebase/functions-compat",GO="@firebase/installations",KO="@firebase/installations-compat",YO="@firebase/messaging",QO="@firebase/messaging-compat",XO="@firebase/performance",WO="@firebase/performance-compat",ZO="@firebase/remote-config",JO="@firebase/remote-config-compat",eD="@firebase/storage",tD="@firebase/storage-compat",nD="@firebase/firestore",rD="@firebase/vertexai",iD="@firebase/firestore-compat",sD="firebase",aD="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="[DEFAULT]",oD={[_y]:"fire-core",[MO]:"fire-core-compat",[LO]:"fire-analytics",[PO]:"fire-analytics-compat",[UO]:"fire-app-check",[VO]:"fire-app-check-compat",[jO]:"fire-auth",[zO]:"fire-auth-compat",[BO]:"fire-rtdb",[FO]:"fire-data-connect",[$O]:"fire-rtdb-compat",[HO]:"fire-fn",[qO]:"fire-fn-compat",[GO]:"fire-iid",[KO]:"fire-iid-compat",[YO]:"fire-fcm",[QO]:"fire-fcm-compat",[XO]:"fire-perf",[WO]:"fire-perf-compat",[ZO]:"fire-rc",[JO]:"fire-rc-compat",[eD]:"fire-gcs",[tD]:"fire-gcs-compat",[nD]:"fire-fst",[iD]:"fire-fst-compat",[rD]:"fire-vertex","fire-js":"fire-js",[sD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new Map,lD=new Map,Ey=new Map;function _T(t,e){try{t.container.addComponent(e)}catch(n){Ds.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ko(t){const e=t.name;if(Ey.has(e))return Ds.debug(`There were multiple attempts to register component ${e}.`),!1;Ey.set(e,t);for(const n of Sh.values())_T(n,t);for(const n of lD.values())_T(n,t);return!0}function lm(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Vr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Na=new hd("app","Firebase",uD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Na.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ho=aD;function y1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:by,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Na.create("bad-app-name",{appName:String(s)});if(n||(n=f1()),!n)throw Na.create("no-options");const o=Sh.get(s);if(o){if(Do(n,o.options)&&Do(r,o.config))return o;throw Na.create("duplicate-app",{appName:s})}const u=new gO(s);for(const f of Ey.values())u.addComponent(f);const d=new cD(n,r,u);return Sh.set(s,d),d}function fv(t=by){const e=Sh.get(t);if(!e&&t===by&&f1())return y1();if(!e)throw Na.create("no-app",{appName:t});return e}function Yi(t,e,n){var r;let s=(r=oD[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const d=[`Unable to register library "${s}" with version "${e}":`];o&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&d.push("and"),u&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ds.warn(d.join(" "));return}ko(new Pa(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD="firebase-heartbeat-database",fD=1,Wc="firebase-heartbeat-store";let Yg=null;function v1(){return Yg||(Yg=IO(dD,fD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Wc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Na.create("idb-open",{originalErrorMessage:t.message})})),Yg}async function hD(t){try{const n=(await v1()).transaction(Wc),r=await n.objectStore(Wc).get(_1(t));return await n.done,r}catch(e){if(e instanceof ts)Ds.warn(e.message);else{const n=Na.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ds.warn(n.message)}}}async function bT(t,e){try{const r=(await v1()).transaction(Wc,"readwrite");await r.objectStore(Wc).put(e,_1(t)),await r.done}catch(n){if(n instanceof ts)Ds.warn(n.message);else{const r=Na.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ds.warn(r.message)}}}function _1(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=1024,pD=30;class gD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new vD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ET();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats.length>pD){const u=_D(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ds.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ET(),{heartbeatsToSend:r,unsentEntries:s}=yD(this._heartbeatsCache.heartbeats),o=wh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Ds.warn(n),""}}}function ET(){return new Date().toISOString().substring(0,10)}function yD(t,e=mD){const n=[];let r=t.slice();for(const s of t){const o=n.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),TT(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),TT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class vD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iO()?sO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await hD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return bT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return bT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function TT(t){return wh(JSON.stringify({version:2,heartbeats:t})).length}function _D(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(t){ko(new Pa("platform-logger",e=>new DO(e),"PRIVATE")),ko(new Pa("heartbeat",e=>new gD(e),"PRIVATE")),Yi(_y,vT,t),Yi(_y,vT,"esm2017"),Yi("fire-js","")}bD("");function hv(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function b1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ED=b1,E1=new hd("auth","Firebase",b1());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new cv("@firebase/auth");function TD(t,...e){Ah.logLevel<=yt.WARN&&Ah.warn(`Auth (${Ho}): ${t}`,...e)}function sh(t,...e){Ah.logLevel<=yt.ERROR&&Ah.error(`Auth (${Ho}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(t,...e){throw mv(t,...e)}function Qi(t,...e){return mv(t,...e)}function T1(t,e,n){const r=Object.assign(Object.assign({},ED()),{[e]:n});return new hd("auth","Firebase",r).create(e,{appName:t.name})}function Ns(t){return T1(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mv(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return E1.create(t,...e)}function We(t,e,...n){if(!t)throw mv(e,...n)}function Rs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw sh(e),new Error(e)}function ks(t,e){t||Rs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ty(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function wD(){return wT()==="http:"||wT()==="https:"}function wT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wD()||eO()||"connection"in navigator)?navigator.onLine:!0}function AD(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(e,n){this.shortDelay=e,this.longDelay=n,ks(n>e,"Short delay should be less than long delay!"),this.isMobile=WN()||tO()}get(){return SD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t,e){ks(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Rs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Rs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Rs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RD=new pd(3e4,6e4);function zs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ns(t,e,n,r,s={}){return S1(t,s,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const d=md(Object.assign({key:t.config.apiKey},u)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const m=Object.assign({method:e,headers:f},o);return JN()||(m.referrerPolicy="no-referrer"),t.emulatorConfig&&$o(t.emulatorConfig.host)&&(m.credentials="include"),w1.fetch()(await A1(t,t.config.apiHost,n,d),m)})}async function S1(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},xD),e);try{const s=new ND(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw qf(t,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const d=o.ok?u.errorMessage:u.error.message,[f,m]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw qf(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw qf(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw qf(t,"user-disabled",u);const y=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw T1(t,y,m);Ei(t,y)}}catch(s){if(s instanceof ts)throw s;Ei(t,"network-request-failed",{message:String(s)})}}async function gd(t,e,n,r,s={}){const o=await ns(t,e,n,r,s);return"mfaPendingCredential"in o&&Ei(t,"multi-factor-auth-required",{_serverResponse:o}),o}async function A1(t,e,n,r){const s=`${e}${n}?${r}`,o=t,u=o.config.emulator?pv(t.config,s):`${t.config.apiScheme}://${s}`;return CD.includes(n)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function ID(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class ND{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Qi(this.auth,"network-request-failed")),RD.get())})}}function qf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Qi(t,e,r);return s.customData._tokenResponse=n,s}function ST(t){return t!==void 0&&t.enterprise!==void 0}class OD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ID(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function DD(t,e){return ns(t,"GET","/v2/recaptchaConfig",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kD(t,e){return ns(t,"POST","/v1/accounts:delete",e)}async function xh(t,e){return ns(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function MD(t,e=!1){const n=Qt(t),r=await n.getIdToken(e),s=gv(r);We(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o==null?void 0:o.sign_in_provider;return{claims:s,token:r,authTime:jc(Qg(s.auth_time)),issuedAtTime:jc(Qg(s.iat)),expirationTime:jc(Qg(s.exp)),signInProvider:u||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Qg(t){return Number(t)*1e3}function gv(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return sh("JWT malformed, contained fewer than 3 sections"),null;try{const s=u1(n);return s?JSON.parse(s):(sh("Failed to decode base64 JWT payload"),null)}catch(s){return sh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function AT(t){const e=gv(t);return We(e,"internal-error"),We(typeof e.exp<"u","internal-error"),We(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ts&&PD(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function PD({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=jc(this.lastLoginAt),this.creationTime=jc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ch(t){var e;const n=t.auth,r=await t.getIdToken(),s=await Xl(t,xh(n,{idToken:r}));We(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const u=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?x1(o.providerUserInfo):[],d=UD(t.providerData,u),f=t.isAnonymous,m=!(t.email&&o.passwordHash)&&!(d!=null&&d.length),y=f?m:!1,b={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new wy(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(t,b)}async function VD(t){const e=Qt(t);await Ch(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UD(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function x1(t){return t.map(e=>{var{providerId:n}=e,r=hv(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jD(t,e){const n=await S1(t,{},async()=>{const r=md({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,u=await A1(t,s,"/v1/token",`key=${o}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",w1.fetch()(u,{method:"POST",headers:d,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function zD(t,e){return ns(t,"POST","/v2/accounts:revokeToken",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){We(e.idToken,"internal-error"),We(typeof e.idToken<"u","internal-error"),We(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):AT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){We(e.length!==0,"internal-error");const n=AT(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(We(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:o}=await jD(e,n);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:o}=n,u=new Gl;return r&&(We(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(We(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(We(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Gl,this.toJSON())}_performRefresh(){return Rs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(t,e){We(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vi{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,o=hv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new wy(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Xl(this,this.stsTokenManager.getToken(this.auth,e));return We(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return MD(this,e)}reload(){return VD(this)}_assign(e){this!==e&&(We(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new vi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){We(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ch(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vr(this.auth.app))return Promise.reject(Ns(this.auth));const e=await this.getIdToken();return await Xl(this,kD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,o,u,d,f,m,y;const b=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(s=n.email)!==null&&s!==void 0?s:void 0,w=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(u=n.photoURL)!==null&&u!==void 0?u:void 0,x=(d=n.tenantId)!==null&&d!==void 0?d:void 0,C=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,V=(m=n.createdAt)!==null&&m!==void 0?m:void 0,L=(y=n.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:$,emailVerified:Y,isAnonymous:G,providerData:F,stsTokenManager:U}=n;We($&&U,e,"internal-error");const R=Gl.fromJSON(this.name,U);We(typeof $=="string",e,"internal-error"),ma(b,e.name),ma(_,e.name),We(typeof Y=="boolean",e,"internal-error"),We(typeof G=="boolean",e,"internal-error"),ma(w,e.name),ma(S,e.name),ma(x,e.name),ma(C,e.name),ma(V,e.name),ma(L,e.name);const k=new vi({uid:$,auth:e,email:_,emailVerified:Y,displayName:b,isAnonymous:G,photoURL:S,phoneNumber:w,tenantId:x,stsTokenManager:R,createdAt:V,lastLoginAt:L});return F&&Array.isArray(F)&&(k.providerData=F.map(P=>Object.assign({},P))),C&&(k._redirectEventId=C),k}static async _fromIdTokenResponse(e,n,r=!1){const s=new Gl;s.updateFromServerResponse(n);const o=new vi({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Ch(o),o}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];We(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?x1(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(o!=null&&o.length),d=new Gl;d.updateFromIdToken(r);const f=new vi({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:u}),m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new wy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(o!=null&&o.length)};return Object.assign(f,m),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT=new Map;function Is(t){ks(t instanceof Function,"Expected a class definition");let e=xT.get(t);return e?(ks(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,xT.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}C1.type="NONE";const CT=C1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(t,e,n){return`firebase:${t}:${e}:${n}`}class Kl{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=ah(this.userKey,s.apiKey,o),this.fullPersistenceKey=ah("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await xh(this.auth,{idToken:e}).catch(()=>{});return n?vi._fromGetAccountInfoResponse(this.auth,n,e):null}return vi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Kl(Is(CT),e,r);const s=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=s[0]||Is(CT);const u=ah(r,e.config.apiKey,e.name);let d=null;for(const m of n)try{const y=await m._get(u);if(y){let b;if(typeof y=="string"){const _=await xh(e,{idToken:y}).catch(()=>{});if(!_)break;b=await vi._fromGetAccountInfoResponse(e,_,y)}else b=vi._fromJSON(e,y);m!==o&&(d=b),o=m;break}}catch{}const f=s.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new Kl(o,e,r):(o=f[0],d&&await o._set(u,d.toJSON()),await Promise.all(n.map(async m=>{if(m!==o)try{await m._remove(u)}catch{}})),new Kl(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(O1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(R1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(k1(e))return"Blackberry";if(M1(e))return"Webos";if(I1(e))return"Safari";if((e.includes("chrome/")||N1(e))&&!e.includes("edge/"))return"Chrome";if(D1(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function R1(t=Jn()){return/firefox\//i.test(t)}function I1(t=Jn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function N1(t=Jn()){return/crios\//i.test(t)}function O1(t=Jn()){return/iemobile/i.test(t)}function D1(t=Jn()){return/android/i.test(t)}function k1(t=Jn()){return/blackberry/i.test(t)}function M1(t=Jn()){return/webos/i.test(t)}function yv(t=Jn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function BD(t=Jn()){var e;return yv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function FD(){return nO()&&document.documentMode===10}function P1(t=Jn()){return yv(t)||D1(t)||M1(t)||k1(t)||/windows phone/i.test(t)||O1(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(t,e=[]){let n;switch(t){case"Browser":n=RT(Jn());break;case"Worker":n=`${RT(Jn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ho}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((u,d)=>{try{const f=e(o);u(f)}catch(f){d(f)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(t,e={}){return ns(t,"GET","/v2/passwordPolicy",zs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=6;class GD{constructor(e){var n,r,s,o;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:qD,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,o,u,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(s=f.containsLowercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(o=f.containsUppercaseLetter)!==null&&o!==void 0?o:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new IT(this),this.idTokenSubscription=new IT(this),this.beforeStateQueue=new $D(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=E1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Is(n)),this._initializationPromise=this.queue(async()=>{var r,s,o;if(!this._deleted&&(this.persistenceManager=await Kl.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await xh(this,{idToken:e}),r=await vi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Vr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=s==null?void 0:s._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&(f!=null&&f.user)&&(s=f.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return We(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ch(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vr(this.app))return Promise.reject(Ns(this));const n=e?Qt(e):null;return n&&We(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&We(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vr(this.app)?Promise.reject(Ns(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vr(this.app)?Promise.reject(Ns(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await HD(this),n=new GD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new hd("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await zD(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Is(e)||this._popupRedirectResolver;We(n,this,"argument-error"),this.redirectPersistenceManager=await Kl.create(this,[Is(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(We(d,this,"internal-error"),d.then(()=>{u||o(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return We(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=L1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Vr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&TD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ka(t){return Qt(t)}class IT{constructor(e){this.auth=e,this.observer=null,this.addObserver=cO(n=>this.observer=n)}get next(){return We(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let um={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function YD(t){um=t}function V1(t){return um.loadJS(t)}function QD(){return um.recaptchaEnterpriseScript}function XD(){return um.gapiScript}function WD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class ZD{constructor(){this.enterprise=new JD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class JD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const ek="recaptcha-enterprise",U1="NO_RECAPTCHA";class tk{constructor(e){this.type=ek,this.auth=Ka(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,d)=>{DD(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const m=new OD(f);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,u(m.siteKey)}}).catch(f=>{d(f)})})}function s(o,u,d){const f=window.grecaptcha;ST(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:e}).then(m=>{u(m)}).catch(()=>{u(U1)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ZD().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(d=>{if(!n&&ST(window.grecaptcha))s(d,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=QD();f.length!==0&&(f+=d),V1(f).then(()=>{s(d,o,u)}).catch(m=>{u(m)})}}).catch(d=>{u(d)})})}}async function NT(t,e,n,r=!1,s=!1){const o=new tk(t);let u;if(s)u=U1;else try{u=await o.verify(n)}catch{u=await o.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,m=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Rh(t,e,n,r,s){var o;if(!((o=t._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await NT(t,e,n,n==="getOobCode");return r(t,u)}else return r(t,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await NT(t,e,n,n==="getOobCode");return r(t,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(t,e){const n=lm(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),o=n.getOptions();if(Do(o,e??{}))return s;Ei(s,"already-initialized")}return n.initialize({options:e})}function rk(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Is);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function ik(t,e,n){const r=Ka(t);We(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=j1(e),{host:u,port:d}=sk(e),f=d===null?"":`:${d}`,m={url:`${o}//${u}${f}/`},y=Object.freeze({host:u,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){We(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),We(Do(m,r.config.emulator)&&Do(y,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=y,r.settings.appVerificationDisabledForTesting=!0,$o(u)?(hu("Auth",!0),uv(`${o}//${u}${f}`)):ak()}function j1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function sk(t){const e=j1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:OT(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:OT(u)}}}function OT(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function ak(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Rs("not implemented")}_getIdTokenResponse(e){return Rs("not implemented")}_linkToIdToken(e,n){return Rs("not implemented")}_getReauthenticationResolver(e){return Rs("not implemented")}}async function ok(t,e){return ns(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lk(t,e){return gd(t,"POST","/v1/accounts:signInWithPassword",zs(t,e))}async function uk(t,e){return ns(t,"POST","/v1/accounts:sendOobCode",zs(t,e))}async function ck(t,e){return uk(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dk(t,e){return gd(t,"POST","/v1/accounts:signInWithEmailLink",zs(t,e))}async function fk(t,e){return gd(t,"POST","/v1/accounts:signInWithEmailLink",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc extends vv{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Zc(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Zc(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rh(e,n,"signInWithPassword",lk);case"emailLink":return dk(e,{email:this._email,oobCode:this._password});default:Ei(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Rh(e,r,"signUpPassword",ok);case"emailLink":return fk(e,{idToken:n,email:this._email,oobCode:this._password});default:Ei(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yl(t,e){return gd(t,"POST","/v1/accounts:signInWithIdp",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk="http://localhost";class Mo extends vv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Mo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,o=hv(n,["providerId","signInMethod"]);if(!r||!s)return null;const u=new Mo(r,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return Yl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Yl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Yl(e,n)}buildRequest(){const e={requestUri:hk,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=md(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mk(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pk(t){const e=Ic(Nc(t)).link,n=e?Ic(Nc(e)).deep_link_id:null,r=Ic(Nc(t)).deep_link_id;return(r?Ic(Nc(r)).link:null)||r||n||e||t}class _v{constructor(e){var n,r,s,o,u,d;const f=Ic(Nc(e)),m=(n=f.apiKey)!==null&&n!==void 0?n:null,y=(r=f.oobCode)!==null&&r!==void 0?r:null,b=mk((s=f.mode)!==null&&s!==void 0?s:null);We(m&&y&&b,"argument-error"),this.apiKey=m,this.operation=b,this.code=y,this.continueUrl=(o=f.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(u=f.lang)!==null&&u!==void 0?u:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=pk(e);try{return new _v(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(){this.providerId=mu.PROVIDER_ID}static credential(e,n){return Zc._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=_v.parseLink(n);return We(r,"argument-error"),Zc._fromEmailAndCode(e,r.code,r.tenantId)}}mu.PROVIDER_ID="password";mu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd extends z1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va extends yd{constructor(){super("facebook.com")}static credential(e){return Mo._fromParams({providerId:va.PROVIDER_ID,signInMethod:va.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return va.credentialFromTaggedObject(e)}static credentialFromError(e){return va.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return va.credential(e.oauthAccessToken)}catch{return null}}}va.FACEBOOK_SIGN_IN_METHOD="facebook.com";va.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _a extends yd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Mo._fromParams({providerId:_a.PROVIDER_ID,signInMethod:_a.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _a.credentialFromTaggedObject(e)}static credentialFromError(e){return _a.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _a.credential(n,r)}catch{return null}}}_a.GOOGLE_SIGN_IN_METHOD="google.com";_a.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba extends yd{constructor(){super("github.com")}static credential(e){return Mo._fromParams({providerId:ba.PROVIDER_ID,signInMethod:ba.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ba.credentialFromTaggedObject(e)}static credentialFromError(e){return ba.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ba.credential(e.oauthAccessToken)}catch{return null}}}ba.GITHUB_SIGN_IN_METHOD="github.com";ba.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea extends yd{constructor(){super("twitter.com")}static credential(e,n){return Mo._fromParams({providerId:Ea.PROVIDER_ID,signInMethod:Ea.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ea.credentialFromTaggedObject(e)}static credentialFromError(e){return Ea.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ea.credential(n,r)}catch{return null}}}Ea.TWITTER_SIGN_IN_METHOD="twitter.com";Ea.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gk(t,e){return gd(t,"POST","/v1/accounts:signUp",zs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const o=await vi._fromIdTokenResponse(e,r,s),u=DT(r);return new Po({user:o,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=DT(r);return new Po({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function DT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih extends ts{constructor(e,n,r,s){var o;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Ih.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Ih(e,n,r,s)}}function B1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Ih._fromErrorAndOperation(t,o,e,r):o})}async function yk(t,e,n=!1){const r=await Xl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Po._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vk(t,e,n=!1){const{auth:r}=t;if(Vr(r.app))return Promise.reject(Ns(r));const s="reauthenticate";try{const o=await Xl(t,B1(r,s,e,t),n);We(o.idToken,r,"internal-error");const u=gv(o.idToken);We(u,r,"internal-error");const{sub:d}=u;return We(t.uid===d,r,"user-mismatch"),Po._forOperation(t,s,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ei(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function F1(t,e,n=!1){if(Vr(t.app))return Promise.reject(Ns(t));const r="signIn",s=await B1(t,r,e),o=await Po._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(o.user),o}async function _k(t,e){return F1(Ka(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $1(t){const e=Ka(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function bk(t,e,n){const r=Ka(t);await Rh(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",ck)}async function Ek(t,e,n){if(Vr(t.app))return Promise.reject(Ns(t));const r=Ka(t),u=await Rh(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gk).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&$1(t),f}),d=await Po._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(d.user),d}function Tk(t,e,n){return Vr(t.app)?Promise.reject(Ns(t)):_k(Qt(t),mu.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&$1(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wk(t,e){return ns(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sk(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Qt(t),o={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},u=await Xl(r,wk(r.auth,o));r.displayName=u.displayName||null,r.photoURL=u.photoUrl||null;const d=r.providerData.find(({providerId:f})=>f==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(u)}function Ak(t,e,n,r){return Qt(t).onIdTokenChanged(e,n,r)}function xk(t,e,n){return Qt(t).beforeAuthStateChanged(e,n)}function Ck(t,e,n,r){return Qt(t).onAuthStateChanged(e,n,r)}function bv(t){return Qt(t).signOut()}const Nh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Nh,"1"),this.storage.removeItem(Nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk=1e3,Ik=10;class q1 extends H1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=P1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);FD()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,Ik):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Rk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}q1.type="LOCAL";const Nk=q1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1 extends H1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}G1.type="SESSION";const K1=G1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new cm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:o}=n.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(u).map(async m=>m(n.origin,o)),f=await Ok(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ev(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((d,f)=>{const m=Ev("",20);s.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(b){const _=b;if(_.data.eventId===m)switch(_.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(_.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(){return window}function kk(t){Xi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(){return typeof Xi().WorkerGlobalScope<"u"&&typeof Xi().importScripts=="function"}async function Mk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Pk(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Lk(){return Y1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1="firebaseLocalStorageDb",Vk=1,Oh="firebaseLocalStorage",X1="fbase_key";class vd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dm(t,e){return t.transaction([Oh],e?"readwrite":"readonly").objectStore(Oh)}function Uk(){const t=indexedDB.deleteDatabase(Q1);return new vd(t).toPromise()}function Sy(){const t=indexedDB.open(Q1,Vk);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Oh,{keyPath:X1})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Oh)?e(r):(r.close(),await Uk(),e(await Sy()))})})}async function kT(t,e,n){const r=dm(t,!0).put({[X1]:e,value:n});return new vd(r).toPromise()}async function jk(t,e){const n=dm(t,!1).get(e),r=await new vd(n).toPromise();return r===void 0?null:r.value}function MT(t,e){const n=dm(t,!0).delete(e);return new vd(n).toPromise()}const zk=800,Bk=3;class W1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Bk)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Y1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cm._getInstance(Lk()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Mk(),!this.activeServiceWorker)return;this.sender=new Dk(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Pk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sy();return await kT(e,Nh,"1"),await MT(e,Nh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>kT(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>jk(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>MT(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=dm(s,!1).getAll();return new vd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}W1.type="LOCAL";const Fk=W1;new pd(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $k(t,e){return e?Is(e):(We(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv extends vv{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Hk(t){return F1(t.auth,new Tv(t),t.bypassAuthState)}function qk(t){const{auth:e,user:n}=t;return We(n,e,"internal-error"),vk(n,new Tv(t),t.bypassAuthState)}async function Gk(t){const{auth:e,user:n}=t;return We(n,e,"internal-error"),yk(n,new Tv(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,n,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:o,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Hk;case"linkViaPopup":case"linkViaRedirect":return Gk;case"reauthViaPopup":case"reauthViaRedirect":return qk;default:Ei(this.auth,"internal-error")}}resolve(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ks(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kk=new pd(2e3,1e4);class Hl extends Z1{constructor(e,n,r,s,o){super(e,n,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Hl.currentPopupAction&&Hl.currentPopupAction.cancel(),Hl.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return We(e,this.auth,"internal-error"),e}async onExecution(){ks(this.filter.length===1,"Popup operations only handle one event");const e=Ev();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Hl.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Kk.get())};e()}}Hl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yk="pendingRedirect",oh=new Map;class Qk extends Z1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=oh.get(this.auth._key());if(!e){try{const r=await Xk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}oh.set(this.auth._key(),e)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Xk(t,e){const n=Jk(e),r=Zk(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Wk(t,e){oh.set(t._key(),e)}function Zk(t){return Is(t._redirectPersistence)}function Jk(t){return ah(Yk,t.config.apiKey,t.name)}async function eM(t,e,n=!1){if(Vr(t.app))return Promise.reject(Ns(t));const r=Ka(t),s=$k(r,e),u=await new Qk(r,s,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tM=10*60*1e3;class nM{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!rM(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!J1(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Qi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tM&&this.cachedEventUids.clear(),this.cachedEventUids.has(PT(e))}saveEventToCache(e){this.cachedEventUids.add(PT(e)),this.lastProcessedEventTime=Date.now()}}function PT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function J1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function rM(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return J1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iM(t,e={}){return ns(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,aM=/^https?/;async function oM(t){if(t.config.emulator)return;const{authorizedDomains:e}=await iM(t);for(const n of e)try{if(lM(n))return}catch{}Ei(t,"unauthorized-domain")}function lM(t){const e=Ty(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!aM.test(n))return!1;if(sM.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=new pd(3e4,6e4);function LT(){const t=Xi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function cM(t){return new Promise((e,n)=>{var r,s,o;function u(){LT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{LT(),n(Qi(t,"network-request-failed"))},timeout:uM.get()})}if(!((s=(r=Xi().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((o=Xi().gapi)===null||o===void 0)&&o.load)u();else{const d=WD("iframefcb");return Xi()[d]=()=>{gapi.load?u():n(Qi(t,"network-request-failed"))},V1(`${XD()}?onload=${d}`).catch(f=>n(f))}}).catch(e=>{throw lh=null,e})}let lh=null;function dM(t){return lh=lh||cM(t),lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM=new pd(5e3,15e3),hM="__/auth/iframe",mM="emulator/auth/iframe",pM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function yM(t){const e=t.config;We(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?pv(e,mM):`https://${t.config.authDomain}/${hM}`,r={apiKey:e.apiKey,appName:t.name,v:Ho},s=gM.get(t.config.apiHost);s&&(r.eid=s);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${md(r).slice(1)}`}async function vM(t){const e=await dM(t),n=Xi().gapi;return We(n,t,"internal-error"),e.open({where:document.body,url:yM(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pM,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const u=Qi(t,"network-request-failed"),d=Xi().setTimeout(()=>{o(u)},fM.get());function f(){Xi().clearTimeout(d),s(r)}r.ping(f).then(f,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _M={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bM=500,EM=600,TM="_blank",wM="http://localhost";class VT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function SM(t,e,n,r=bM,s=EM){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},_M),{width:r.toString(),height:s.toString(),top:o,left:u}),m=Jn().toLowerCase();n&&(d=N1(m)?TM:n),R1(m)&&(e=e||wM,f.scrollbars="yes");const y=Object.entries(f).reduce((_,[w,S])=>`${_}${w}=${S},`,"");if(BD(m)&&d!=="_self")return AM(e||"",d),new VT(null);const b=window.open(e||"",d,y);We(b,t,"popup-blocked");try{b.focus()}catch{}return new VT(b)}function AM(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM="__/auth/handler",CM="emulator/auth/handler",RM=encodeURIComponent("fac");async function UT(t,e,n,r,s,o){We(t.config.authDomain,t,"auth-domain-config-required"),We(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ho,eventId:s};if(e instanceof z1){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",uO(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[y,b]of Object.entries({}))u[y]=b}if(e instanceof yd){const y=e.getScopes().filter(b=>b!=="");y.length>0&&(u.scopes=y.join(","))}t.tenantId&&(u.tid=t.tenantId);const d=u;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const f=await t._getAppCheckToken(),m=f?`#${RM}=${encodeURIComponent(f)}`:"";return`${IM(t)}?${md(d).slice(1)}${m}`}function IM({config:t}){return t.emulator?pv(t,CM):`https://${t.authDomain}/${xM}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xg="webStorageSupport";class NM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=K1,this._completeRedirectFn=eM,this._overrideRedirectResult=Wk}async _openPopup(e,n,r,s){var o;ks((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const u=await UT(e,n,r,Ty(),s);return SM(e,u,Ev())}async _openRedirect(e,n,r,s){await this._originValidation(e);const o=await UT(e,n,r,Ty(),s);return kk(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:o}=this.eventManagers[n];return s?Promise.resolve(s):(ks(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await vM(e),r=new nM(e);return n.register("authEvent",s=>(We(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Xg,{type:Xg},s=>{var o;const u=(o=s==null?void 0:s[0])===null||o===void 0?void 0:o[Xg];u!==void 0&&n(!!u),Ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oM(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return P1()||I1()||yv()}}const OM=NM;var jT="@firebase/auth",zT="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DM{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){We(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MM(t){ko(new Pa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;We(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:L1(t)},m=new KD(r,s,o,f);return rk(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ko(new Pa("auth-internal",e=>{const n=Ka(e.getProvider("auth").getImmediate());return(r=>new DM(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Yi(jT,zT,kM(t)),Yi(jT,zT,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PM=5*60,LM=h1("authIdTokenMaxAge")||PM;let BT=null;const VM=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>LM)return;const s=n==null?void 0:n.token;BT!==s&&(BT=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function UM(t=fv()){const e=lm(t,"auth");if(e.isInitialized())return e.getImmediate();const n=nk(t,{popupRedirectResolver:OM,persistence:[Fk,Nk,K1]}),r=h1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=VM(o.toString());xk(n,u,()=>u(n.currentUser)),Ak(n,d=>u(d))}}const s=c1("auth");return s?ik(n,`http://${s}`):hu("Auth",!1),n}function jM(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}YD({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const o=Qi("internal-error");o.customData=s,n(o)},r.type="text/javascript",r.charset="UTF-8",jM().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MM("Browser");var zM="firebase",BM="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Yi(zM,BM,"app");var FT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Oa,eA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,R){function k(){}k.prototype=R.prototype,U.D=R.prototype,U.prototype=new k,U.prototype.constructor=U,U.C=function(P,O,M){for(var I=Array(arguments.length-2),ye=2;ye<arguments.length;ye++)I[ye-2]=arguments[ye];return R.prototype[O].apply(P,I)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(U,R,k){k||(k=0);var P=Array(16);if(typeof R=="string")for(var O=0;16>O;++O)P[O]=R.charCodeAt(k++)|R.charCodeAt(k++)<<8|R.charCodeAt(k++)<<16|R.charCodeAt(k++)<<24;else for(O=0;16>O;++O)P[O]=R[k++]|R[k++]<<8|R[k++]<<16|R[k++]<<24;R=U.g[0],k=U.g[1],O=U.g[2];var M=U.g[3],I=R+(M^k&(O^M))+P[0]+3614090360&4294967295;R=k+(I<<7&4294967295|I>>>25),I=M+(O^R&(k^O))+P[1]+3905402710&4294967295,M=R+(I<<12&4294967295|I>>>20),I=O+(k^M&(R^k))+P[2]+606105819&4294967295,O=M+(I<<17&4294967295|I>>>15),I=k+(R^O&(M^R))+P[3]+3250441966&4294967295,k=O+(I<<22&4294967295|I>>>10),I=R+(M^k&(O^M))+P[4]+4118548399&4294967295,R=k+(I<<7&4294967295|I>>>25),I=M+(O^R&(k^O))+P[5]+1200080426&4294967295,M=R+(I<<12&4294967295|I>>>20),I=O+(k^M&(R^k))+P[6]+2821735955&4294967295,O=M+(I<<17&4294967295|I>>>15),I=k+(R^O&(M^R))+P[7]+4249261313&4294967295,k=O+(I<<22&4294967295|I>>>10),I=R+(M^k&(O^M))+P[8]+1770035416&4294967295,R=k+(I<<7&4294967295|I>>>25),I=M+(O^R&(k^O))+P[9]+2336552879&4294967295,M=R+(I<<12&4294967295|I>>>20),I=O+(k^M&(R^k))+P[10]+4294925233&4294967295,O=M+(I<<17&4294967295|I>>>15),I=k+(R^O&(M^R))+P[11]+2304563134&4294967295,k=O+(I<<22&4294967295|I>>>10),I=R+(M^k&(O^M))+P[12]+1804603682&4294967295,R=k+(I<<7&4294967295|I>>>25),I=M+(O^R&(k^O))+P[13]+4254626195&4294967295,M=R+(I<<12&4294967295|I>>>20),I=O+(k^M&(R^k))+P[14]+2792965006&4294967295,O=M+(I<<17&4294967295|I>>>15),I=k+(R^O&(M^R))+P[15]+1236535329&4294967295,k=O+(I<<22&4294967295|I>>>10),I=R+(O^M&(k^O))+P[1]+4129170786&4294967295,R=k+(I<<5&4294967295|I>>>27),I=M+(k^O&(R^k))+P[6]+3225465664&4294967295,M=R+(I<<9&4294967295|I>>>23),I=O+(R^k&(M^R))+P[11]+643717713&4294967295,O=M+(I<<14&4294967295|I>>>18),I=k+(M^R&(O^M))+P[0]+3921069994&4294967295,k=O+(I<<20&4294967295|I>>>12),I=R+(O^M&(k^O))+P[5]+3593408605&4294967295,R=k+(I<<5&4294967295|I>>>27),I=M+(k^O&(R^k))+P[10]+38016083&4294967295,M=R+(I<<9&4294967295|I>>>23),I=O+(R^k&(M^R))+P[15]+3634488961&4294967295,O=M+(I<<14&4294967295|I>>>18),I=k+(M^R&(O^M))+P[4]+3889429448&4294967295,k=O+(I<<20&4294967295|I>>>12),I=R+(O^M&(k^O))+P[9]+568446438&4294967295,R=k+(I<<5&4294967295|I>>>27),I=M+(k^O&(R^k))+P[14]+3275163606&4294967295,M=R+(I<<9&4294967295|I>>>23),I=O+(R^k&(M^R))+P[3]+4107603335&4294967295,O=M+(I<<14&4294967295|I>>>18),I=k+(M^R&(O^M))+P[8]+1163531501&4294967295,k=O+(I<<20&4294967295|I>>>12),I=R+(O^M&(k^O))+P[13]+2850285829&4294967295,R=k+(I<<5&4294967295|I>>>27),I=M+(k^O&(R^k))+P[2]+4243563512&4294967295,M=R+(I<<9&4294967295|I>>>23),I=O+(R^k&(M^R))+P[7]+1735328473&4294967295,O=M+(I<<14&4294967295|I>>>18),I=k+(M^R&(O^M))+P[12]+2368359562&4294967295,k=O+(I<<20&4294967295|I>>>12),I=R+(k^O^M)+P[5]+4294588738&4294967295,R=k+(I<<4&4294967295|I>>>28),I=M+(R^k^O)+P[8]+2272392833&4294967295,M=R+(I<<11&4294967295|I>>>21),I=O+(M^R^k)+P[11]+1839030562&4294967295,O=M+(I<<16&4294967295|I>>>16),I=k+(O^M^R)+P[14]+4259657740&4294967295,k=O+(I<<23&4294967295|I>>>9),I=R+(k^O^M)+P[1]+2763975236&4294967295,R=k+(I<<4&4294967295|I>>>28),I=M+(R^k^O)+P[4]+1272893353&4294967295,M=R+(I<<11&4294967295|I>>>21),I=O+(M^R^k)+P[7]+4139469664&4294967295,O=M+(I<<16&4294967295|I>>>16),I=k+(O^M^R)+P[10]+3200236656&4294967295,k=O+(I<<23&4294967295|I>>>9),I=R+(k^O^M)+P[13]+681279174&4294967295,R=k+(I<<4&4294967295|I>>>28),I=M+(R^k^O)+P[0]+3936430074&4294967295,M=R+(I<<11&4294967295|I>>>21),I=O+(M^R^k)+P[3]+3572445317&4294967295,O=M+(I<<16&4294967295|I>>>16),I=k+(O^M^R)+P[6]+76029189&4294967295,k=O+(I<<23&4294967295|I>>>9),I=R+(k^O^M)+P[9]+3654602809&4294967295,R=k+(I<<4&4294967295|I>>>28),I=M+(R^k^O)+P[12]+3873151461&4294967295,M=R+(I<<11&4294967295|I>>>21),I=O+(M^R^k)+P[15]+530742520&4294967295,O=M+(I<<16&4294967295|I>>>16),I=k+(O^M^R)+P[2]+3299628645&4294967295,k=O+(I<<23&4294967295|I>>>9),I=R+(O^(k|~M))+P[0]+4096336452&4294967295,R=k+(I<<6&4294967295|I>>>26),I=M+(k^(R|~O))+P[7]+1126891415&4294967295,M=R+(I<<10&4294967295|I>>>22),I=O+(R^(M|~k))+P[14]+2878612391&4294967295,O=M+(I<<15&4294967295|I>>>17),I=k+(M^(O|~R))+P[5]+4237533241&4294967295,k=O+(I<<21&4294967295|I>>>11),I=R+(O^(k|~M))+P[12]+1700485571&4294967295,R=k+(I<<6&4294967295|I>>>26),I=M+(k^(R|~O))+P[3]+2399980690&4294967295,M=R+(I<<10&4294967295|I>>>22),I=O+(R^(M|~k))+P[10]+4293915773&4294967295,O=M+(I<<15&4294967295|I>>>17),I=k+(M^(O|~R))+P[1]+2240044497&4294967295,k=O+(I<<21&4294967295|I>>>11),I=R+(O^(k|~M))+P[8]+1873313359&4294967295,R=k+(I<<6&4294967295|I>>>26),I=M+(k^(R|~O))+P[15]+4264355552&4294967295,M=R+(I<<10&4294967295|I>>>22),I=O+(R^(M|~k))+P[6]+2734768916&4294967295,O=M+(I<<15&4294967295|I>>>17),I=k+(M^(O|~R))+P[13]+1309151649&4294967295,k=O+(I<<21&4294967295|I>>>11),I=R+(O^(k|~M))+P[4]+4149444226&4294967295,R=k+(I<<6&4294967295|I>>>26),I=M+(k^(R|~O))+P[11]+3174756917&4294967295,M=R+(I<<10&4294967295|I>>>22),I=O+(R^(M|~k))+P[2]+718787259&4294967295,O=M+(I<<15&4294967295|I>>>17),I=k+(M^(O|~R))+P[9]+3951481745&4294967295,U.g[0]=U.g[0]+R&4294967295,U.g[1]=U.g[1]+(O+(I<<21&4294967295|I>>>11))&4294967295,U.g[2]=U.g[2]+O&4294967295,U.g[3]=U.g[3]+M&4294967295}r.prototype.u=function(U,R){R===void 0&&(R=U.length);for(var k=R-this.blockSize,P=this.B,O=this.h,M=0;M<R;){if(O==0)for(;M<=k;)s(this,U,M),M+=this.blockSize;if(typeof U=="string"){for(;M<R;)if(P[O++]=U.charCodeAt(M++),O==this.blockSize){s(this,P),O=0;break}}else for(;M<R;)if(P[O++]=U[M++],O==this.blockSize){s(this,P),O=0;break}}this.h=O,this.o+=R},r.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var R=1;R<U.length-8;++R)U[R]=0;var k=8*this.o;for(R=U.length-8;R<U.length;++R)U[R]=k&255,k/=256;for(this.u(U),U=Array(16),R=k=0;4>R;++R)for(var P=0;32>P;P+=8)U[k++]=this.g[R]>>>P&255;return U};function o(U,R){var k=d;return Object.prototype.hasOwnProperty.call(k,U)?k[U]:k[U]=R(U)}function u(U,R){this.h=R;for(var k=[],P=!0,O=U.length-1;0<=O;O--){var M=U[O]|0;P&&M==R||(k[O]=M,P=!1)}this.g=k}var d={};function f(U){return-128<=U&&128>U?o(U,function(R){return new u([R|0],0>R?-1:0)}):new u([U|0],0>U?-1:0)}function m(U){if(isNaN(U)||!isFinite(U))return b;if(0>U)return C(m(-U));for(var R=[],k=1,P=0;U>=k;P++)R[P]=U/k|0,k*=4294967296;return new u(R,0)}function y(U,R){if(U.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(U.charAt(0)=="-")return C(y(U.substring(1),R));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=m(Math.pow(R,8)),P=b,O=0;O<U.length;O+=8){var M=Math.min(8,U.length-O),I=parseInt(U.substring(O,O+M),R);8>M?(M=m(Math.pow(R,M)),P=P.j(M).add(m(I))):(P=P.j(k),P=P.add(m(I)))}return P}var b=f(0),_=f(1),w=f(16777216);t=u.prototype,t.m=function(){if(x(this))return-C(this).m();for(var U=0,R=1,k=0;k<this.g.length;k++){var P=this.i(k);U+=(0<=P?P:4294967296+P)*R,R*=4294967296}return U},t.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(S(this))return"0";if(x(this))return"-"+C(this).toString(U);for(var R=m(Math.pow(U,6)),k=this,P="";;){var O=Y(k,R).g;k=V(k,O.j(R));var M=((0<k.g.length?k.g[0]:k.h)>>>0).toString(U);if(k=O,S(k))return M+P;for(;6>M.length;)M="0"+M;P=M+P}},t.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function S(U){if(U.h!=0)return!1;for(var R=0;R<U.g.length;R++)if(U.g[R]!=0)return!1;return!0}function x(U){return U.h==-1}t.l=function(U){return U=V(this,U),x(U)?-1:S(U)?0:1};function C(U){for(var R=U.g.length,k=[],P=0;P<R;P++)k[P]=~U.g[P];return new u(k,~U.h).add(_)}t.abs=function(){return x(this)?C(this):this},t.add=function(U){for(var R=Math.max(this.g.length,U.g.length),k=[],P=0,O=0;O<=R;O++){var M=P+(this.i(O)&65535)+(U.i(O)&65535),I=(M>>>16)+(this.i(O)>>>16)+(U.i(O)>>>16);P=I>>>16,M&=65535,I&=65535,k[O]=I<<16|M}return new u(k,k[k.length-1]&-2147483648?-1:0)};function V(U,R){return U.add(C(R))}t.j=function(U){if(S(this)||S(U))return b;if(x(this))return x(U)?C(this).j(C(U)):C(C(this).j(U));if(x(U))return C(this.j(C(U)));if(0>this.l(w)&&0>U.l(w))return m(this.m()*U.m());for(var R=this.g.length+U.g.length,k=[],P=0;P<2*R;P++)k[P]=0;for(P=0;P<this.g.length;P++)for(var O=0;O<U.g.length;O++){var M=this.i(P)>>>16,I=this.i(P)&65535,ye=U.i(O)>>>16,Ee=U.i(O)&65535;k[2*P+2*O]+=I*Ee,L(k,2*P+2*O),k[2*P+2*O+1]+=M*Ee,L(k,2*P+2*O+1),k[2*P+2*O+1]+=I*ye,L(k,2*P+2*O+1),k[2*P+2*O+2]+=M*ye,L(k,2*P+2*O+2)}for(P=0;P<R;P++)k[P]=k[2*P+1]<<16|k[2*P];for(P=R;P<2*R;P++)k[P]=0;return new u(k,0)};function L(U,R){for(;(U[R]&65535)!=U[R];)U[R+1]+=U[R]>>>16,U[R]&=65535,R++}function $(U,R){this.g=U,this.h=R}function Y(U,R){if(S(R))throw Error("division by zero");if(S(U))return new $(b,b);if(x(U))return R=Y(C(U),R),new $(C(R.g),C(R.h));if(x(R))return R=Y(U,C(R)),new $(C(R.g),R.h);if(30<U.g.length){if(x(U)||x(R))throw Error("slowDivide_ only works with positive integers.");for(var k=_,P=R;0>=P.l(U);)k=G(k),P=G(P);var O=F(k,1),M=F(P,1);for(P=F(P,2),k=F(k,2);!S(P);){var I=M.add(P);0>=I.l(U)&&(O=O.add(k),M=I),P=F(P,1),k=F(k,1)}return R=V(U,O.j(R)),new $(O,R)}for(O=b;0<=U.l(R);){for(k=Math.max(1,Math.floor(U.m()/R.m())),P=Math.ceil(Math.log(k)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),M=m(k),I=M.j(R);x(I)||0<I.l(U);)k-=P,M=m(k),I=M.j(R);S(M)&&(M=_),O=O.add(M),U=V(U,I)}return new $(O,U)}t.A=function(U){return Y(this,U).h},t.and=function(U){for(var R=Math.max(this.g.length,U.g.length),k=[],P=0;P<R;P++)k[P]=this.i(P)&U.i(P);return new u(k,this.h&U.h)},t.or=function(U){for(var R=Math.max(this.g.length,U.g.length),k=[],P=0;P<R;P++)k[P]=this.i(P)|U.i(P);return new u(k,this.h|U.h)},t.xor=function(U){for(var R=Math.max(this.g.length,U.g.length),k=[],P=0;P<R;P++)k[P]=this.i(P)^U.i(P);return new u(k,this.h^U.h)};function G(U){for(var R=U.g.length+1,k=[],P=0;P<R;P++)k[P]=U.i(P)<<1|U.i(P-1)>>>31;return new u(k,U.h)}function F(U,R){var k=R>>5;R%=32;for(var P=U.g.length-k,O=[],M=0;M<P;M++)O[M]=0<R?U.i(M+k)>>>R|U.i(M+k+1)<<32-R:U.i(M+k);return new u(O,U.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,eA=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=m,u.fromString=y,Oa=u}).apply(typeof FT<"u"?FT:typeof self<"u"?self:typeof window<"u"?window:{});var Gf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var tA,Oc,nA,uh,Ay,rA,iA,sA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,E){return h==Array.prototype||h==Object.prototype||(h[v]=E.value),h};function n(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gf=="object"&&Gf];for(var v=0;v<h.length;++v){var E=h[v];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(h,v){if(v)e:{var E=r;h=h.split(".");for(var N=0;N<h.length-1;N++){var Z=h[N];if(!(Z in E))break e;E=E[Z]}h=h[h.length-1],N=E[h],v=v(N),v!=N&&v!=null&&e(E,h,{configurable:!0,writable:!0,value:v})}}function o(h,v){h instanceof String&&(h+="");var E=0,N=!1,Z={next:function(){if(!N&&E<h.length){var se=E++;return{value:v(se,h[se]),done:!1}}return N=!0,{done:!0,value:void 0}}};return Z[Symbol.iterator]=function(){return Z},Z}s("Array.prototype.values",function(h){return h||function(){return o(this,function(v,E){return E})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},d=this||self;function f(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function m(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function y(h,v,E){return h.call.apply(h.bind,arguments)}function b(h,v,E){if(!h)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var Z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Z,N),h.apply(v,Z)}}return function(){return h.apply(v,arguments)}}function _(h,v,E){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?y:b,_.apply(null,arguments)}function w(h,v){var E=Array.prototype.slice.call(arguments,1);return function(){var N=E.slice();return N.push.apply(N,arguments),h.apply(this,N)}}function S(h,v){function E(){}E.prototype=v.prototype,h.aa=v.prototype,h.prototype=new E,h.prototype.constructor=h,h.Qb=function(N,Z,se){for(var Ae=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)Ae[Et-2]=arguments[Et];return v.prototype[Z].apply(N,Ae)}}function x(h){const v=h.length;if(0<v){const E=Array(v);for(let N=0;N<v;N++)E[N]=h[N];return E}return[]}function C(h,v){for(let E=1;E<arguments.length;E++){const N=arguments[E];if(f(N)){const Z=h.length||0,se=N.length||0;h.length=Z+se;for(let Ae=0;Ae<se;Ae++)h[Z+Ae]=N[Ae]}else h.push(N)}}class V{constructor(v,E){this.i=v,this.j=E,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function L(h){return/^[\s\xa0]*$/.test(h)}function $(){var h=d.navigator;return h&&(h=h.userAgent)?h:""}function Y(h){return Y[" "](h),h}Y[" "]=function(){};var G=$().indexOf("Gecko")!=-1&&!($().toLowerCase().indexOf("webkit")!=-1&&$().indexOf("Edge")==-1)&&!($().indexOf("Trident")!=-1||$().indexOf("MSIE")!=-1)&&$().indexOf("Edge")==-1;function F(h,v,E){for(const N in h)v.call(E,h[N],N,h)}function U(h,v){for(const E in h)v.call(void 0,h[E],E,h)}function R(h){const v={};for(const E in h)v[E]=h[E];return v}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(h,v){let E,N;for(let Z=1;Z<arguments.length;Z++){N=arguments[Z];for(E in N)h[E]=N[E];for(let se=0;se<k.length;se++)E=k[se],Object.prototype.hasOwnProperty.call(N,E)&&(h[E]=N[E])}}function O(h){var v=1;h=h.split(":");const E=[];for(;0<v&&h.length;)E.push(h.shift()),v--;return h.length&&E.push(h.join(":")),E}function M(h){d.setTimeout(()=>{throw h},0)}function I(){var h=Ce;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class ye{constructor(){this.h=this.g=null}add(v,E){const N=Ee.get();N.set(v,E),this.h?this.h.next=N:this.g=N,this.h=N}}var Ee=new V(()=>new Q,h=>h.reset());class Q{constructor(){this.next=this.g=this.h=null}set(v,E){this.h=v,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ce,ge=!1,Ce=new ye,j=()=>{const h=d.Promise.resolve(void 0);ce=()=>{h.then(oe)}};var oe=()=>{for(var h;h=I();){try{h.h.call(h.g)}catch(E){M(E)}var v=Ee;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ge=!1};function Te(){this.s=this.s,this.C=this.C}Te.prototype.s=!1,Te.prototype.ma=function(){this.s||(this.s=!0,this.N())},Te.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Ve=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const E=()=>{};d.addEventListener("test",E,v),d.removeEventListener("test",E,v)}catch{}return h}();function et(h,v){if(pe.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var E=this.type=h.type,N=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(G){e:{try{Y(v.nodeName);var Z=!0;break e}catch{}Z=!1}Z||(v=null)}}else E=="mouseover"?v=h.fromElement:E=="mouseout"&&(v=h.toElement);this.relatedTarget=v,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:He[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&et.aa.h.call(this)}}S(et,pe);var He={2:"touch",3:"pen",4:"mouse"};et.prototype.h=function(){et.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Kt="closure_listenable_"+(1e6*Math.random()|0),Nt=0;function qn(h,v,E,N,Z){this.listener=h,this.proxy=null,this.src=v,this.type=E,this.capture=!!N,this.ha=Z,this.key=++Nt,this.da=this.fa=!1}function Ft(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function An(h){this.src=h,this.g={},this.h=0}An.prototype.add=function(h,v,E,N,Z){var se=h.toString();h=this.g[se],h||(h=this.g[se]=[],this.h++);var Ae=li(h,v,N,Z);return-1<Ae?(v=h[Ae],E||(v.fa=!1)):(v=new qn(v,this.src,se,!!N,Z),v.fa=E,h.push(v)),v};function wr(h,v){var E=v.type;if(E in h.g){var N=h.g[E],Z=Array.prototype.indexOf.call(N,v,void 0),se;(se=0<=Z)&&Array.prototype.splice.call(N,Z,1),se&&(Ft(v),h.g[E].length==0&&(delete h.g[E],h.h--))}}function li(h,v,E,N){for(var Z=0;Z<h.length;++Z){var se=h[Z];if(!se.da&&se.listener==v&&se.capture==!!E&&se.ha==N)return Z}return-1}var xn="closure_lm_"+(1e6*Math.random()|0),Si={};function Bs(h,v,E,N,Z){if(Array.isArray(v)){for(var se=0;se<v.length;se++)Bs(h,v[se],E,N,Z);return null}return E=_e(E),h&&h[Kt]?h.K(v,E,m(N)?!!N.capture:!1,Z):Mn(h,v,E,!1,N,Z)}function Mn(h,v,E,N,Z,se){if(!v)throw Error("Invalid event type");var Ae=m(Z)?!!Z.capture:!!Z,Et=xe(h);if(Et||(h[xn]=Et=new An(h)),E=Et.add(v,E,N,Ae,se),E.proxy)return E;if(N=Wo(),E.proxy=N,N.src=h,N.listener=E,h.addEventListener)Ve||(Z=Ae),Z===void 0&&(Z=!1),h.addEventListener(v.toString(),N,Z);else if(h.attachEvent)h.attachEvent(ne(v.toString()),N);else if(h.addListener&&h.removeListener)h.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Wo(){function h(E){return v.call(h.src,h.listener,E)}const v=ae;return h}function Ai(h,v,E,N,Z){if(Array.isArray(v))for(var se=0;se<v.length;se++)Ai(h,v[se],E,N,Z);else N=m(N)?!!N.capture:!!N,E=_e(E),h&&h[Kt]?(h=h.i,v=String(v).toString(),v in h.g&&(se=h.g[v],E=li(se,E,N,Z),-1<E&&(Ft(se[E]),Array.prototype.splice.call(se,E,1),se.length==0&&(delete h.g[v],h.h--)))):h&&(h=xe(h))&&(v=h.g[v.toString()],h=-1,v&&(h=li(v,E,N,Z)),(E=-1<h?v[h]:null)&&H(E))}function H(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Kt])wr(v.i,h);else{var E=h.type,N=h.proxy;v.removeEventListener?v.removeEventListener(E,N,h.capture):v.detachEvent?v.detachEvent(ne(E),N):v.addListener&&v.removeListener&&v.removeListener(N),(E=xe(v))?(wr(E,h),E.h==0&&(E.src=null,v[xn]=null)):Ft(h)}}}function ne(h){return h in Si?Si[h]:Si[h]="on"+h}function ae(h,v){if(h.da)h=!0;else{v=new et(v,this);var E=h.listener,N=h.ha||h.src;h.fa&&H(h),h=E.call(N,v)}return h}function xe(h){return h=h[xn],h instanceof An?h:null}var Se="__closure_events_fn_"+(1e9*Math.random()>>>0);function _e(h){return typeof h=="function"?h:(h[Se]||(h[Se]=function(v){return h.handleEvent(v)}),h[Se])}function we(){Te.call(this),this.i=new An(this),this.M=this,this.F=null}S(we,Te),we.prototype[Kt]=!0,we.prototype.removeEventListener=function(h,v,E,N){Ai(this,h,v,E,N)};function Ne(h,v){var E,N=h.F;if(N)for(E=[];N;N=N.F)E.push(N);if(h=h.M,N=v.type||v,typeof v=="string")v=new pe(v,h);else if(v instanceof pe)v.target=v.target||h;else{var Z=v;v=new pe(N,h),P(v,Z)}if(Z=!0,E)for(var se=E.length-1;0<=se;se--){var Ae=v.g=E[se];Z=st(Ae,N,!0,v)&&Z}if(Ae=v.g=h,Z=st(Ae,N,!0,v)&&Z,Z=st(Ae,N,!1,v)&&Z,E)for(se=0;se<E.length;se++)Ae=v.g=E[se],Z=st(Ae,N,!1,v)&&Z}we.prototype.N=function(){if(we.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var E=h.g[v],N=0;N<E.length;N++)Ft(E[N]);delete h.g[v],h.h--}}this.F=null},we.prototype.K=function(h,v,E,N){return this.i.add(String(h),v,!1,E,N)},we.prototype.L=function(h,v,E,N){return this.i.add(String(h),v,!0,E,N)};function st(h,v,E,N){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var Z=!0,se=0;se<v.length;++se){var Ae=v[se];if(Ae&&!Ae.da&&Ae.capture==E){var Et=Ae.listener,vn=Ae.ha||Ae.src;Ae.fa&&wr(h.i,Ae),Z=Et.call(vn,N)!==!1&&Z}}return Z&&!N.defaultPrevented}function At(h,v,E){if(typeof h=="function")E&&(h=_(h,E));else if(h&&typeof h.handleEvent=="function")h=_(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:d.setTimeout(h,v||0)}function ui(h){h.g=At(()=>{h.g=null,h.i&&(h.i=!1,ui(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class nn extends Te{constructor(v,E){super(),this.m=v,this.l=E,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ui(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fr(h){Te.call(this),this.h=h,this.g={}}S(Fr,Te);var fr=[];function hr(h){F(h.g,function(v,E){this.g.hasOwnProperty(E)&&H(v)},h),h.g={}}Fr.prototype.N=function(){Fr.aa.N.call(this),hr(this)},Fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var er=d.JSON.stringify,$r=d.JSON.parse,mr=class{stringify(h){return d.JSON.stringify(h,void 0)}parse(h){return d.JSON.parse(h,void 0)}};function ci(){}ci.prototype.h=null;function rs(h){return h.h||(h.h=h.i())}function Wa(){}var Hr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function di(){pe.call(this,"d")}S(di,pe);function Fs(){pe.call(this,"c")}S(Fs,pe);var tr={},xi=null;function Ci(){return xi=xi||new we}tr.La="serverreachability";function $s(h){pe.call(this,tr.La,h)}S($s,pe);function q(h){const v=Ci();Ne(v,new $s(v))}tr.STAT_EVENT="statevent";function W(h,v){pe.call(this,tr.STAT_EVENT,h),this.stat=v}S(W,pe);function ee(h){const v=Ci();Ne(v,new W(v,h))}tr.Ma="timingevent";function de(h,v){pe.call(this,tr.Ma,h),this.size=v}S(de,pe);function ve(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){h()},v)}function Oe(){this.g=!0}Oe.prototype.xa=function(){this.g=!1};function Ge(h,v,E,N,Z,se){h.info(function(){if(h.g)if(se)for(var Ae="",Et=se.split("&"),vn=0;vn<Et.length;vn++){var Tt=Et[vn].split("=");if(1<Tt.length){var Rn=Tt[0];Tt=Tt[1];var _n=Rn.split("_");Ae=2<=_n.length&&_n[1]=="type"?Ae+(Rn+"="+Tt+"&"):Ae+(Rn+"=redacted&")}}else Ae=null;else Ae=se;return"XMLHTTP REQ ("+N+") [attempt "+Z+"]: "+v+`
`+E+`
`+Ae})}function Me(h,v,E,N,Z,se,Ae){h.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+Z+"]: "+v+`
`+E+`
`+se+" "+Ae})}function Ue(h,v,E,N){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+Ke(h,E)+(N?" "+N:"")})}function Fe(h,v){h.info(function(){return"TIMEOUT: "+v})}Oe.prototype.info=function(){};function Ke(h,v){if(!h.g)return v;if(!v)return null;try{var E=JSON.parse(v);if(E){for(h=0;h<E.length;h++)if(Array.isArray(E[h])){var N=E[h];if(!(2>N.length)){var Z=N[1];if(Array.isArray(Z)&&!(1>Z.length)){var se=Z[0];if(se!="noop"&&se!="stop"&&se!="close")for(var Ae=1;Ae<Z.length;Ae++)Z[Ae]=""}}}}return er(E)}catch{return v}}var je={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Qe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},mt;function Dt(){}S(Dt,ci),Dt.prototype.g=function(){return new XMLHttpRequest},Dt.prototype.i=function(){return{}},mt=new Dt;function Ct(h,v,E,N){this.j=h,this.i=v,this.l=E,this.R=N||1,this.U=new Fr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bt}function bt(){this.i=null,this.g="",this.h=!1}var ct={},qr={};function yn(h,v,E){h.L=1,h.v=eo(xr(v)),h.m=E,h.P=!0,nr(h,null)}function nr(h,v){h.F=Date.now(),Sr(h),h.A=xr(h.v);var E=h.A,N=h.R;Array.isArray(N)||(N=[String(N)]),Au(E.i,"t",N),h.C=0,E=h.j.J,h.h=new bt,h.g=Ud(h.j,E?v:null,!h.m),0<h.O&&(h.M=new nn(_(h.Y,h,h.g),h.O)),v=h.U,E=h.g,N=h.ca;var Z="readystatechange";Array.isArray(Z)||(Z&&(fr[0]=Z.toString()),Z=fr);for(var se=0;se<Z.length;se++){var Ae=Bs(E,Z[se],N||v.handleEvent,!1,v.h||v);if(!Ae)break;v.g[Ae.key]=Ae}v=h.H?R(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),q(),Ge(h.i,h.u,h.A,h.l,h.R,h.m)}Ct.prototype.ca=function(h){h=h.target;const v=this.M;v&&Xr(h)==3?v.j():this.Y(h)},Ct.prototype.Y=function(h){try{if(h==this.g)e:{const _n=Xr(this.g);var v=this.g.Ba();const ds=this.g.Z();if(!(3>_n)&&(_n!=3||this.g&&(this.h.h||this.g.oa()||Nd(this.g)))){this.J||_n!=4||v==7||(v==8||0>=ds?q(3):q(2)),Gn(this);var E=this.g.Z();this.X=E;t:if(Pn(this)){var N=Nd(this.g);h="";var Z=N.length,se=Xr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tt(this),rr(this);var Ae="";break t}this.h.i=new d.TextDecoder}for(v=0;v<Z;v++)this.h.h=!0,h+=this.h.i.decode(N[v],{stream:!(se&&v==Z-1)});N.length=0,this.h.g+=h,this.C=0,Ae=this.h.g}else Ae=this.g.oa();if(this.o=E==200,Me(this.i,this.u,this.A,this.l,this.R,_n,E),this.o){if(this.T&&!this.K){t:{if(this.g){var Et,vn=this.g;if((Et=vn.g?vn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!L(Et)){var Tt=Et;break t}}Tt=null}if(E=Tt)Ue(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,un(this,E);else{this.o=!1,this.s=3,ee(12),tt(this),rr(this);break e}}if(this.P){E=!0;let Vn;for(;!this.J&&this.C<Ae.length;)if(Vn=Ri(this,Ae),Vn==qr){_n==4&&(this.s=4,ee(14),E=!1),Ue(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==ct){this.s=4,ee(15),Ue(this.i,this.l,Ae,"[Invalid Chunk]"),E=!1;break}else Ue(this.i,this.l,Vn,null),un(this,Vn);if(Pn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_n!=4||Ae.length!=0||this.h.h||(this.s=1,ee(16),E=!1),this.o=this.o&&E,!E)Ue(this.i,this.l,Ae,"[Invalid Chunked Response]"),tt(this),rr(this);else if(0<Ae.length&&!this.W){this.W=!0;var Rn=this.j;Rn.g==this&&Rn.ba&&!Rn.M&&(Rn.j.info("Great, no buffering proxy detected. Bytes received: "+Ae.length),lo(Rn),Rn.M=!0,ee(11))}}else Ue(this.i,this.l,Ae,null),un(this,Ae);_n==4&&tt(this),this.o&&!this.J&&(_n==4?Pd(this.j,this):(this.o=!1,Sr(this)))}else Bm(this.g),E==400&&0<Ae.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),tt(this),rr(this)}}}catch{}finally{}};function Pn(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Ri(h,v){var E=h.C,N=v.indexOf(`
`,E);return N==-1?qr:(E=Number(v.substring(E,N)),isNaN(E)?ct:(N+=1,N+E>v.length?qr:(v=v.slice(N,N+E),h.C=N+E,v)))}Ct.prototype.cancel=function(){this.J=!0,tt(this)};function Sr(h){h.S=Date.now()+h.I,Hs(h,h.I)}function Hs(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=ve(_(h.ba,h),v)}function Gn(h){h.B&&(d.clearTimeout(h.B),h.B=null)}Ct.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(Fe(this.i,this.A),this.L!=2&&(q(),ee(17)),tt(this),this.s=2,rr(this)):Hs(this,this.S-h)};function rr(h){h.j.G==0||h.J||Pd(h.j,h)}function tt(h){Gn(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,hr(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function un(h,v){try{var E=h.j;if(E.G!=0&&(E.g==h||Gr(E.h,h))){if(!h.K&&Gr(E.h,h)&&E.G==3){try{var N=E.Da.g.parse(v)}catch{N=null}if(Array.isArray(N)&&N.length==3){var Z=N;if(Z[0]==0){e:if(!E.u){if(E.g)if(E.g.F+3e3<h.F)al(E),il(E);else break e;Nu(E),ee(18)}}else E.za=Z[1],0<E.za-E.T&&37500>Z[2]&&E.F&&E.v==0&&!E.C&&(E.C=ve(_(E.Za,E),6e3));if(1>=$t(E.h)&&E.ca){try{E.ca()}catch{}E.ca=void 0}}else cs(E,11)}else if((h.K||E.g==h)&&al(E),!L(v))for(Z=E.Da.g.parse(v),v=0;v<Z.length;v++){let Tt=Z[v];if(E.T=Tt[0],Tt=Tt[1],E.G==2)if(Tt[0]=="c"){E.K=Tt[1],E.ia=Tt[2];const Rn=Tt[3];Rn!=null&&(E.la=Rn,E.j.info("VER="+E.la));const _n=Tt[4];_n!=null&&(E.Aa=_n,E.j.info("SVER="+E.Aa));const ds=Tt[5];ds!=null&&typeof ds=="number"&&0<ds&&(N=1.5*ds,E.L=N,E.j.info("backChannelRequestTimeoutMs_="+N)),N=E;const Vn=h.g;if(Vn){const Li=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Li){var se=N.h;se.g||Li.indexOf("spdy")==-1&&Li.indexOf("quic")==-1&&Li.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(is(se,se.h),se.h=null))}if(N.D){const Du=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;Du&&(N.ya=Du,Vt(N.I,N.D,Du))}}E.G=3,E.l&&E.l.ua(),E.ba&&(E.R=Date.now()-h.F,E.j.info("Handshake RTT: "+E.R+"ms")),N=E;var Ae=h;if(N.qa=Vd(N,N.J?N.ia:null,N.W),Ae.K){Ln(N.h,Ae);var Et=Ae,vn=N.L;vn&&(Et.I=vn),Et.B&&(Gn(Et),Sr(Et)),N.g=Ae}else kd(N);0<E.i.length&&sl(E)}else Tt[0]!="stop"&&Tt[0]!="close"||cs(E,7);else E.G==3&&(Tt[0]=="stop"||Tt[0]=="close"?Tt[0]=="stop"?cs(E,7):Ru(E):Tt[0]!="noop"&&E.l&&E.l.ta(Tt),E.v=0)}}q(4)}catch{}}var Ar=class{constructor(h,v){this.g=h,this.map=v}};function pr(h){this.l=h||10,d.PerformanceNavigationTiming?(h=d.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ii(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function $t(h){return h.h?1:h.g?h.g.size:0}function Gr(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function is(h,v){h.g?h.g.add(v):h.h=v}function Ln(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}pr.prototype.cancel=function(){if(this.i=Eu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Eu(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const E of h.g.values())v=v.concat(E.D);return v}return x(h.i)}function Vm(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(f(h)){for(var v=[],E=h.length,N=0;N<E;N++)v.push(h[N]);return v}v=[],E=0;for(N in h)v[E++]=h[N];return v}function Zo(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(f(h)||typeof h=="string"){var v=[];h=h.length;for(var E=0;E<h;E++)v.push(E);return v}v=[],E=0;for(const N in h)v[E++]=N;return v}}}function Tu(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(f(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var E=Zo(h),N=Vm(h),Z=N.length,se=0;se<Z;se++)v.call(void 0,N[se],E&&E[se],h)}var Za=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Um(h,v){if(h){h=h.split("&");for(var E=0;E<h.length;E++){var N=h[E].indexOf("="),Z=null;if(0<=N){var se=h[E].substring(0,N);Z=h[E].substring(N+1)}else se=h[E];v(se,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function cn(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof cn){this.h=h.h,Ja(this,h.j),this.o=h.o,this.g=h.g,qs(this,h.s),this.l=h.l;var v=h.i,E=new as;E.i=v.i,v.g&&(E.g=new Map(v.g),E.h=v.h),ss(this,E),this.m=h.m}else h&&(v=String(h).match(Za))?(this.h=!1,Ja(this,v[1]||"",!0),this.o=Kr(v[2]||""),this.g=Kr(v[3]||"",!0),qs(this,v[4]),this.l=Kr(v[5]||"",!0),ss(this,v[6]||"",!0),this.m=Kr(v[7]||"")):(this.h=!1,this.i=new as(null,this.h))}cn.prototype.toString=function(){var h=[],v=this.j;v&&h.push(to(v,wu,!0),":");var E=this.g;return(E||v=="file")&&(h.push("//"),(v=this.o)&&h.push(to(v,wu,!0),"@"),h.push(encodeURIComponent(String(E)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.s,E!=null&&h.push(":",String(E))),(E=this.l)&&(this.g&&E.charAt(0)!="/"&&h.push("/"),h.push(to(E,E.charAt(0)=="/"?jm:Su,!0))),(E=this.i.toString())&&h.push("?",E),(E=this.m)&&h.push("#",to(E,Jo)),h.join("")};function xr(h){return new cn(h)}function Ja(h,v,E){h.j=E?Kr(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function qs(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function ss(h,v,E){v instanceof as?(h.i=v,Rd(h.i,h.h)):(E||(v=to(v,zm)),h.i=new as(v,h.h))}function Vt(h,v,E){h.i.set(v,E)}function eo(h){return Vt(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Kr(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function to(h,v,E){return typeof h=="string"?(h=encodeURI(h).replace(v,Cd),E&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Cd(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var wu=/[#\/\?@]/g,Su=/[#\?:]/g,jm=/[#\?]/g,zm=/[#\?@]/g,Jo=/#/g;function as(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function Yr(h){h.g||(h.g=new Map,h.h=0,h.i&&Um(h.i,function(v,E){h.add(decodeURIComponent(v.replace(/\+/g," ")),E)}))}t=as.prototype,t.add=function(h,v){Yr(this),this.i=null,h=Ni(this,h);var E=this.g.get(h);return E||this.g.set(h,E=[]),E.push(v),this.h+=1,this};function os(h,v){Yr(h),v=Ni(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function ls(h,v){return Yr(h),v=Ni(h,v),h.g.has(v)}t.forEach=function(h,v){Yr(this),this.g.forEach(function(E,N){E.forEach(function(Z){h.call(v,Z,N,this)},this)},this)},t.na=function(){Yr(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),E=[];for(let N=0;N<v.length;N++){const Z=h[N];for(let se=0;se<Z.length;se++)E.push(v[N])}return E},t.V=function(h){Yr(this);let v=[];if(typeof h=="string")ls(this,h)&&(v=v.concat(this.g.get(Ni(this,h))));else{h=Array.from(this.g.values());for(let E=0;E<h.length;E++)v=v.concat(h[E])}return v},t.set=function(h,v){return Yr(this),this.i=null,h=Ni(this,h),ls(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},t.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Au(h,v,E){os(h,v),0<E.length&&(h.i=null,h.g.set(Ni(h,v),x(E)),h.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var E=0;E<v.length;E++){var N=v[E];const se=encodeURIComponent(String(N)),Ae=this.V(N);for(N=0;N<Ae.length;N++){var Z=se;Ae[N]!==""&&(Z+="="+encodeURIComponent(String(Ae[N]))),h.push(Z)}}return this.i=h.join("&")};function Ni(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Rd(h,v){v&&!h.j&&(Yr(h),h.i=null,h.g.forEach(function(E,N){var Z=N.toLowerCase();N!=Z&&(os(this,N),Au(this,Z,E))},h)),h.j=v}function no(h,v){const E=new Oe;if(d.Image){const N=new Image;N.onload=w(Qr,E,"TestLoadImage: loaded",!0,v,N),N.onerror=w(Qr,E,"TestLoadImage: error",!1,v,N),N.onabort=w(Qr,E,"TestLoadImage: abort",!1,v,N),N.ontimeout=w(Qr,E,"TestLoadImage: timeout",!1,v,N),d.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=h}else v(!1)}function fi(h,v){const E=new Oe,N=new AbortController,Z=setTimeout(()=>{N.abort(),Qr(E,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:N.signal}).then(se=>{clearTimeout(Z),se.ok?Qr(E,"TestPingServer: ok",!0,v):Qr(E,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Z),Qr(E,"TestPingServer: error",!1,v)})}function Qr(h,v,E,N,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),N(E)}catch{}}function ro(){this.g=new mr}function Oi(h,v,E){const N=E||"";try{Tu(h,function(Z,se){let Ae=Z;m(Z)&&(Ae=er(Z)),v.push(N+se+"="+encodeURIComponent(Ae))})}catch(Z){throw v.push(N+"type="+encodeURIComponent("_badmap")),Z}}function Gs(h){this.l=h.Ub||null,this.j=h.eb||!1}S(Gs,ci),Gs.prototype.g=function(){return new us(this.l,this.j)},Gs.prototype.i=function(h){return function(){return h}}({});function us(h,v){we.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(us,we),t=us.prototype,t.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,ki(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||d).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Di(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ki(this)),this.g&&(this.readyState=3,ki(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xu(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function xu(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Di(this):ki(this),this.readyState==3&&xu(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Di(this))},t.Qa=function(h){this.g&&(this.response=h,Di(this))},t.ga=function(){this.g&&Di(this)};function Di(h){h.readyState=4,h.l=null,h.j=null,h.v=null,ki(h)}t.setRequestHeader=function(h,v){this.u.append(h,v)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var E=v.next();!E.done;)E=E.value,h.push(E[0]+": "+E[1]),E=v.next();return h.join(`\r
`)};function ki(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(us.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Cu(h){let v="";return F(h,function(E,N){v+=N,v+=":",v+=E,v+=`\r
`}),v}function Cn(h,v,E){e:{for(N in E){var N=!1;break e}N=!0}N||(E=Cu(E),typeof h=="string"?E!=null&&encodeURIComponent(String(E)):Vt(h,v,E))}function kt(h){we.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(kt,we);var el=/^https?$/i,io=["POST","PUT"];t=kt.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,v,E,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():mt.g(),this.v=this.o?rs(this.o):rs(mt),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(se){Id(this,se);return}if(h=E||"",E=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var Z in N)E.set(Z,N[Z]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const se of N.keys())E.set(se,N.get(se));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(E.keys()).find(se=>se.toLowerCase()=="content-type"),Z=d.FormData&&h instanceof d.FormData,!(0<=Array.prototype.indexOf.call(io,v,void 0))||N||Z||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,Ae]of E)this.g.setRequestHeader(se,Ae);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{so(this),this.u=!0,this.g.send(h),this.u=!1}catch(se){Id(this,se)}};function Id(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,tl(h),Mi(h)}function tl(h){h.A||(h.A=!0,Ne(h,"complete"),Ne(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Ne(this,"complete"),Ne(this,"abort"),Mi(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mi(this,!0)),kt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?nl(this):this.bb())},t.bb=function(){nl(this)};function nl(h){if(h.h&&typeof u<"u"&&(!h.v[1]||Xr(h)!=4||h.Z()!=2)){if(h.u&&Xr(h)==4)At(h.Ea,0,h);else if(Ne(h,"readystatechange"),Xr(h)==4){h.h=!1;try{const Ae=h.Z();e:switch(Ae){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var E;if(!(E=v)){var N;if(N=Ae===0){var Z=String(h.D).match(Za)[1]||null;!Z&&d.self&&d.self.location&&(Z=d.self.location.protocol.slice(0,-1)),N=!el.test(Z?Z.toLowerCase():"")}E=N}if(E)Ne(h,"complete"),Ne(h,"success");else{h.m=6;try{var se=2<Xr(h)?h.g.statusText:""}catch{se=""}h.l=se+" ["+h.Z()+"]",tl(h)}}finally{Mi(h)}}}}function Mi(h,v){if(h.g){so(h);const E=h.g,N=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||Ne(h,"ready");try{E.onreadystatechange=N}catch{}}}function so(h){h.I&&(d.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function Xr(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<Xr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),$r(v)}};function Nd(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function Bm(h){const v={};h=(h.g&&2<=Xr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<h.length;N++){if(L(h[N]))continue;var E=O(h[N]);const Z=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const se=v[Z]||[];v[Z]=se,se.push(E)}U(v,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ao(h,v,E){return E&&E.internalChannelParams&&E.internalChannelParams[h]||v}function rl(h){this.Aa=0,this.i=[],this.j=new Oe,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ao("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ao("baseRetryDelayMs",5e3,h),this.cb=ao("retryDelaySeedMs",1e4,h),this.Wa=ao("forwardChannelMaxRetries",2,h),this.wa=ao("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new pr(h&&h.concurrentRequestLimit),this.Da=new ro,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=rl.prototype,t.la=8,t.G=1,t.connect=function(h,v,E,N){ee(0),this.W=h,this.H=v||{},E&&N!==void 0&&(this.H.OSID=E,this.H.OAID=N),this.F=this.X,this.I=Vd(this,null,this.W),sl(this)};function Ru(h){if(Od(h),h.G==3){var v=h.U++,E=xr(h.I);if(Vt(E,"SID",h.K),Vt(E,"RID",v),Vt(E,"TYPE","terminate"),oo(h,E),v=new Ct(h,h.j,v),v.L=2,v.v=eo(xr(E)),E=!1,d.navigator&&d.navigator.sendBeacon)try{E=d.navigator.sendBeacon(v.v.toString(),"")}catch{}!E&&d.Image&&(new Image().src=v.v,E=!0),E||(v.g=Ud(v.j,null),v.g.ea(v.v)),v.F=Date.now(),Sr(v)}Ld(h)}function il(h){h.g&&(lo(h),h.g.cancel(),h.g=null)}function Od(h){il(h),h.u&&(d.clearTimeout(h.u),h.u=null),al(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&d.clearTimeout(h.s),h.s=null)}function sl(h){if(!Ii(h.h)&&!h.s){h.s=!0;var v=h.Ga;ce||j(),ge||(ce(),ge=!0),Ce.add(v,h),h.B=0}}function Fm(h,v){return $t(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=ve(_(h.Ga,h,v),Ou(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Z=new Ct(this,this.j,h);let se=this.o;if(this.S&&(se?(se=R(se),P(se,this.S)):se=this.S),this.m!==null||this.O||(Z.H=se,se=null),this.P)e:{for(var v=0,E=0;E<this.i.length;E++){t:{var N=this.i[E];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(v+=N,4096<v){v=E;break e}if(v===4096||E===this.i.length-1){v=E+1;break e}}v=1e3}else v=1e3;v=Dd(this,Z,v),E=xr(this.I),Vt(E,"RID",h),Vt(E,"CVER",22),this.D&&Vt(E,"X-HTTP-Session-Id",this.D),oo(this,E),se&&(this.O?v="headers="+encodeURIComponent(String(Cu(se)))+"&"+v:this.m&&Cn(E,this.m,se)),is(this.h,Z),this.Ua&&Vt(E,"TYPE","init"),this.P?(Vt(E,"$req",v),Vt(E,"SID","null"),Z.T=!0,yn(Z,E,null)):yn(Z,E,v),this.G=2}}else this.G==3&&(h?Iu(this,h):this.i.length==0||Ii(this.h)||Iu(this))};function Iu(h,v){var E;v?E=v.l:E=h.U++;const N=xr(h.I);Vt(N,"SID",h.K),Vt(N,"RID",E),Vt(N,"AID",h.T),oo(h,N),h.m&&h.o&&Cn(N,h.m,h.o),E=new Ct(h,h.j,E,h.B+1),h.m===null&&(E.H=h.o),v&&(h.i=v.D.concat(h.i)),v=Dd(h,E,1e3),E.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),is(h.h,E),yn(E,N,v)}function oo(h,v){h.H&&F(h.H,function(E,N){Vt(v,N,E)}),h.l&&Tu({},function(E,N){Vt(v,N,E)})}function Dd(h,v,E){E=Math.min(h.i.length,E);var N=h.l?_(h.l.Na,h.l,h):null;e:{var Z=h.i;let se=-1;for(;;){const Ae=["count="+E];se==-1?0<E?(se=Z[0].g,Ae.push("ofs="+se)):se=0:Ae.push("ofs="+se);let Et=!0;for(let vn=0;vn<E;vn++){let Tt=Z[vn].g;const Rn=Z[vn].map;if(Tt-=se,0>Tt)se=Math.max(0,Z[vn].g-100),Et=!1;else try{Oi(Rn,Ae,"req"+Tt+"_")}catch{N&&N(Rn)}}if(Et){N=Ae.join("&");break e}}}return h=h.i.splice(0,E),v.D=h,N}function kd(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;ce||j(),ge||(ce(),ge=!0),Ce.add(v,h),h.v=0}}function Nu(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=ve(_(h.Fa,h),Ou(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Md(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=ve(_(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),il(this),Md(this))};function lo(h){h.A!=null&&(d.clearTimeout(h.A),h.A=null)}function Md(h){h.g=new Ct(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=xr(h.qa);Vt(v,"RID","rpc"),Vt(v,"SID",h.K),Vt(v,"AID",h.T),Vt(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&Vt(v,"TO",h.ja),Vt(v,"TYPE","xmlhttp"),oo(h,v),h.m&&h.o&&Cn(v,h.m,h.o),h.L&&(h.g.I=h.L);var E=h.g;h=h.ia,E.L=1,E.v=eo(xr(v)),E.m=null,E.P=!0,nr(E,h)}t.Za=function(){this.C!=null&&(this.C=null,il(this),Nu(this),ee(19))};function al(h){h.C!=null&&(d.clearTimeout(h.C),h.C=null)}function Pd(h,v){var E=null;if(h.g==v){al(h),lo(h),h.g=null;var N=2}else if(Gr(h.h,v))E=v.D,Ln(h.h,v),N=1;else return;if(h.G!=0){if(v.o)if(N==1){E=v.m?v.m.length:0,v=Date.now()-v.F;var Z=h.B;N=Ci(),Ne(N,new de(N,E)),sl(h)}else kd(h);else if(Z=v.s,Z==3||Z==0&&0<v.X||!(N==1&&Fm(h,v)||N==2&&Nu(h)))switch(E&&0<E.length&&(v=h.h,v.i=v.i.concat(E)),Z){case 1:cs(h,5);break;case 4:cs(h,10);break;case 3:cs(h,6);break;default:cs(h,2)}}}function Ou(h,v){let E=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(E*=2),E*v}function cs(h,v){if(h.j.info("Error code "+v),v==2){var E=_(h.fb,h),N=h.Xa;const Z=!N;N=new cn(N||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ja(N,"https"),eo(N),Z?no(N.toString(),E):fi(N.toString(),E)}else ee(2);h.G=0,h.l&&h.l.sa(v),Ld(h),Od(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function Ld(h){if(h.G=0,h.ka=[],h.l){const v=Eu(h.h);(v.length!=0||h.i.length!=0)&&(C(h.ka,v),C(h.ka,h.i),h.h.i.length=0,x(h.i),h.i.length=0),h.l.ra()}}function Vd(h,v,E){var N=E instanceof cn?xr(E):new cn(E);if(N.g!="")v&&(N.g=v+"."+N.g),qs(N,N.s);else{var Z=d.location;N=Z.protocol,v=v?v+"."+Z.hostname:Z.hostname,Z=+Z.port;var se=new cn(null);N&&Ja(se,N),v&&(se.g=v),Z&&qs(se,Z),E&&(se.l=E),N=se}return E=h.D,v=h.ya,E&&v&&Vt(N,E,v),Vt(N,"VER",h.la),oo(h,N),N}function Ud(h,v,E){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new kt(new Gs({eb:E})):new kt(h.pa),v.Ha(h.J),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function jd(){}t=jd.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ol(){}ol.prototype.g=function(h,v){return new ir(h,v)};function ir(h,v){we.call(this),this.g=new rl(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!L(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!L(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new Pi(this)}S(ir,we),ir.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ir.prototype.close=function(){Ru(this.g)},ir.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var E={};E.__data__=h,h=E}else this.u&&(E={},E.__data__=er(h),h=E);v.i.push(new Ar(v.Ya++,h)),v.G==3&&sl(v)},ir.prototype.N=function(){this.g.l=null,delete this.j,Ru(this.g),delete this.g,ir.aa.N.call(this)};function zd(h){di.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const E in v){h=E;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}S(zd,di);function Bd(){Fs.call(this),this.status=1}S(Bd,Fs);function Pi(h){this.g=h}S(Pi,jd),Pi.prototype.ua=function(){Ne(this.g,"a")},Pi.prototype.ta=function(h){Ne(this.g,new zd(h))},Pi.prototype.sa=function(h){Ne(this.g,new Bd)},Pi.prototype.ra=function(){Ne(this.g,"b")},ol.prototype.createWebChannel=ol.prototype.g,ir.prototype.send=ir.prototype.o,ir.prototype.open=ir.prototype.m,ir.prototype.close=ir.prototype.close,sA=function(){return new ol},iA=function(){return Ci()},rA=tr,Ay={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},je.NO_ERROR=0,je.TIMEOUT=8,je.HTTP_ERROR=6,uh=je,Qe.COMPLETE="complete",nA=Qe,Wa.EventType=Hr,Hr.OPEN="a",Hr.CLOSE="b",Hr.ERROR="c",Hr.MESSAGE="d",we.prototype.listen=we.prototype.K,Oc=Wa,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,tA=kt}).apply(typeof Gf<"u"?Gf:typeof self<"u"?self:typeof window<"u"?window:{});const $T="@firebase/firestore",HT="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wn.UNAUTHENTICATED=new Wn(null),Wn.GOOGLE_CREDENTIALS=new Wn("google-credentials-uid"),Wn.FIRST_PARTY=new Wn("first-party-uid"),Wn.MOCK_USER=new Wn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pu="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lo=new cv("@firebase/firestore");function jl(){return Lo.logLevel}function De(t,...e){if(Lo.logLevel<=yt.DEBUG){const n=e.map(wv);Lo.debug(`Firestore (${pu}): ${t}`,...n)}}function Ms(t,...e){if(Lo.logLevel<=yt.ERROR){const n=e.map(wv);Lo.error(`Firestore (${pu}): ${t}`,...n)}}function Wl(t,...e){if(Lo.logLevel<=yt.WARN){const n=e.map(wv);Lo.warn(`Firestore (${pu}): ${t}`,...n)}}function wv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ze(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,aA(t,r,n)}function aA(t,e,n){let r=`FIRESTORE (${pu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ms(r),new Error(r)}function Mt(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||aA(e,s,r)}function it(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ke extends ts{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FM{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wn.UNAUTHENTICATED))}shutdown(){}}class $M{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class HM{constructor(e){this.t=e,this.currentUser=Wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Mt(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let o=new Os;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Os,e.enqueueRetryable(()=>s(this.currentUser))};const u=()=>{const f=o;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},d=f=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>d(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Os)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Mt(typeof r.accessToken=="string",31837,{l:r}),new oA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Mt(e===null||typeof e=="string",2055,{h:e}),new Wn(e)}}class qM{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Wn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class GM{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new qM(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Wn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class qT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KM{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Mt(this.o===void 0,3512);const r=o=>{o.error!=null&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,De("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const s=o=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>s(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new qT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Mt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new qT(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YM(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=YM(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<n&&(r+=e.charAt(s[o]%62))}return r}}function ut(t,e){return t<e?-1:t>e?1:0}function xy(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return ut(r,s);{const o=lA(),u=QM(o.encode(GT(t,n)),o.encode(GT(e,n)));return u!==0?u:ut(r,s)}}n+=r>65535?2:1}return ut(t.length,e.length)}function GT(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function QM(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ut(t[n],e[n]);return ut(t.length,e.length)}function Zl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=-62135596800,YT=1e6;class wn{static now(){return wn.fromMillis(Date.now())}static fromDate(e){return wn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*YT);return new wn(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ke(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ke(he.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<KT)throw new ke(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ke(he.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/YT}_compareTo(e){return this.seconds===e.seconds?ut(this.nanoseconds,e.nanoseconds):ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-KT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{static fromTimestamp(e){return new nt(e)}static min(){return new nt(new wn(0,0))}static max(){return new nt(new wn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT="__name__";class Fi{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ze(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Ze(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const o=Fi.compareSegments(e.get(s),n.get(s));if(o!==0)return o}return ut(e.length,n.length)}static compareSegments(e,n){const r=Fi.isNumericId(e),s=Fi.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Fi.extractNumericId(e).compare(Fi.extractNumericId(n)):xy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Oa.fromString(e.substring(4,e.length-2))}}class Gt extends Fi{construct(e,n,r){return new Gt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ke(he.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Gt(n)}static emptyPath(){return new Gt([])}}const XM=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $n extends Fi{construct(e,n,r){return new $n(e,n,r)}static isValidIdentifier(e){return XM.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===QT}static keyField(){return new $n([QT])}static fromServerFormat(e){const n=[];let r="",s=0;const o=()=>{if(r.length===0)throw new ke(he.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new ke(he.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ke(he.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else d==="`"?(u=!u,s++):d!=="."||u?(r+=d,s++):(o(),s++)}if(o(),u)throw new ke(he.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $n(n)}static emptyPath(){return new $n([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e){this.path=e}static fromPath(e){return new qe(Gt.fromString(e))}static fromName(e){return new qe(Gt.fromString(e).popFirst(5))}static empty(){return new qe(Gt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Gt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Gt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new Gt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=-1;function WM(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=nt.fromTimestamp(r===1e9?new wn(n+1,0):new wn(n,r));return new La(s,qe.empty(),e)}function ZM(t){return new La(t.readTime,t.key,Jc)}class La{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new La(nt.min(),qe.empty(),Jc)}static max(){return new La(nt.max(),qe.empty(),Jc)}}function JM(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=qe.comparator(t.documentKey,e.documentKey),n!==0?n:ut(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class t4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gu(t){if(t.code!==he.FAILED_PRECONDITION||t.message!==e4)throw t;De("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ze(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new me((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof me?n:me.resolve(n)}catch(n){return me.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):me.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):me.reject(n)}static resolve(e){return new me((n,r)=>{n(e)})}static reject(e){return new me((n,r)=>{r(e)})}static waitFor(e){return new me((n,r)=>{let s=0,o=0,u=!1;e.forEach(d=>{++s,d.next(()=>{++o,u&&o===s&&n()},f=>r(f))}),u=!0,o===s&&n()})}static or(e){let n=me.resolve(!1);for(const r of e)n=n.next(s=>s?me.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,o)=>{r.push(n.call(this,s,o))}),this.waitFor(r)}static mapArray(e,n){return new me((r,s)=>{const o=e.length,u=new Array(o);let d=0;for(let f=0;f<o;f++){const m=f;n(e[m]).next(y=>{u[m]=y,++d,d===o&&r(u)},y=>s(y))}})}static doWhile(e,n){return new me((r,s)=>{const o=()=>{e()===!0?n().next(()=>{o()},s):r()};o()})}}function n4(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function yu(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}fm.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=-1;function hm(t){return t==null}function Dh(t){return t===0&&1/t==-1/0}function r4(t){return typeof t=="number"&&Number.isInteger(t)&&!Dh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA="";function i4(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=XT(e)),e=s4(t.get(n),e);return XT(e)}function s4(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const o=t.charAt(s);switch(o){case"\0":n+="";break;case cA:n+="";break;default:n+=o}}return n}function XT(t){return t+cA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ya(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function dA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n){this.comparator=e,this.root=n||Fn.EMPTY}insert(e,n){return new Wt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Fn.BLACK,null,null))}remove(e){return new Wt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kf(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kf(this.root,e,this.comparator,!0)}}class Kf{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Fn{constructor(e,n,r,s,o){this.key=e,this.value=n,this.color=r??Fn.RED,this.left=s??Fn.EMPTY,this.right=o??Fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,o){return new Fn(e??this.key,n??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,n,r),null):o===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Fn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Fn.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ze(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ze(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ze(27949);return e+(this.isRed()?0:1)}}Fn.EMPTY=null,Fn.RED=!0,Fn.BLACK=!1;Fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ze(57766)}get value(){throw Ze(16141)}get color(){throw Ze(16727)}get left(){throw Ze(29726)}get right(){throw Ze(36894)}copy(e,n,r,s,o){return this}insert(e,n,r){return new Fn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.comparator=e,this.data=new Wt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ZT(this.data.getIterator())}getIteratorFrom(e){return new ZT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Sn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Sn(this.comparator);return n.data=e,n}}class ZT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.fields=e,e.sort($n.comparator)}static empty(){return new jr([])}unionWith(e){let n=new Sn($n.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new jr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Zl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new fA("Invalid base64 string: "+o):o}}(e);return new Hn(n)}static fromUint8Array(e){const n=function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o}(e);return new Hn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hn.EMPTY_BYTE_STRING=new Hn("");const a4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Va(t){if(Mt(!!t,39018),typeof t=="string"){let e=0;const n=a4.exec(t);if(Mt(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:an(t.seconds),nanos:an(t.nanos)}}function an(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ua(t){return typeof t=="string"?Hn.fromBase64String(t):Hn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA="server_timestamp",mA="__type__",pA="__previous_value__",gA="__local_write_time__";function Av(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[mA])===null||n===void 0?void 0:n.stringValue)===hA}function mm(t){const e=t.mapValue.fields[pA];return Av(e)?mm(e):e}function ed(t){const e=Va(t.mapValue.fields[gA].timestampValue);return new wn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o4{constructor(e,n,r,s,o,u,d,f,m,y){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=y}}const kh="(default)";class td{constructor(e,n){this.projectId=e,this.database=n||kh}static empty(){return new td("","")}get isDefaultDatabase(){return this.database===kh}isEqual(e){return e instanceof td&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="__type__",l4="__max__",Yf={mapValue:{}},vA="__vector__",Mh="value";function ja(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Av(t)?4:c4(t)?9007199254740991:u4(t)?10:11:Ze(28295,{value:t})}function es(t,e){if(t===e)return!0;const n=ja(t);if(n!==ja(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ed(t).isEqual(ed(e));case 3:return function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=Va(s.timestampValue),d=Va(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,o){return Ua(s.bytesValue).isEqual(Ua(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,o){return an(s.geoPointValue.latitude)===an(o.geoPointValue.latitude)&&an(s.geoPointValue.longitude)===an(o.geoPointValue.longitude)}(t,e);case 2:return function(s,o){if("integerValue"in s&&"integerValue"in o)return an(s.integerValue)===an(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=an(s.doubleValue),d=an(o.doubleValue);return u===d?Dh(u)===Dh(d):isNaN(u)&&isNaN(d)}return!1}(t,e);case 9:return Zl(t.arrayValue.values||[],e.arrayValue.values||[],es);case 10:case 11:return function(s,o){const u=s.mapValue.fields||{},d=o.mapValue.fields||{};if(WT(u)!==WT(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!es(u[f],d[f])))return!1;return!0}(t,e);default:return Ze(52216,{left:t})}}function nd(t,e){return(t.values||[]).find(n=>es(n,e))!==void 0}function Jl(t,e){if(t===e)return 0;const n=ja(t),r=ja(e);if(n!==r)return ut(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ut(t.booleanValue,e.booleanValue);case 2:return function(o,u){const d=an(o.integerValue||o.doubleValue),f=an(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1}(t,e);case 3:return JT(t.timestampValue,e.timestampValue);case 4:return JT(ed(t),ed(e));case 5:return xy(t.stringValue,e.stringValue);case 6:return function(o,u){const d=Ua(o),f=Ua(u);return d.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(o,u){const d=o.split("/"),f=u.split("/");for(let m=0;m<d.length&&m<f.length;m++){const y=ut(d[m],f[m]);if(y!==0)return y}return ut(d.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,u){const d=ut(an(o.latitude),an(u.latitude));return d!==0?d:ut(an(o.longitude),an(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return ew(t.arrayValue,e.arrayValue);case 10:return function(o,u){var d,f,m,y;const b=o.fields||{},_=u.fields||{},w=(d=b[Mh])===null||d===void 0?void 0:d.arrayValue,S=(f=_[Mh])===null||f===void 0?void 0:f.arrayValue,x=ut(((m=w==null?void 0:w.values)===null||m===void 0?void 0:m.length)||0,((y=S==null?void 0:S.values)===null||y===void 0?void 0:y.length)||0);return x!==0?x:ew(w,S)}(t.mapValue,e.mapValue);case 11:return function(o,u){if(o===Yf.mapValue&&u===Yf.mapValue)return 0;if(o===Yf.mapValue)return 1;if(u===Yf.mapValue)return-1;const d=o.fields||{},f=Object.keys(d),m=u.fields||{},y=Object.keys(m);f.sort(),y.sort();for(let b=0;b<f.length&&b<y.length;++b){const _=xy(f[b],y[b]);if(_!==0)return _;const w=Jl(d[f[b]],m[y[b]]);if(w!==0)return w}return ut(f.length,y.length)}(t.mapValue,e.mapValue);default:throw Ze(23264,{Pe:n})}}function JT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ut(t,e);const n=Va(t),r=Va(e),s=ut(n.seconds,r.seconds);return s!==0?s:ut(n.nanos,r.nanos)}function ew(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const o=Jl(n[s],r[s]);if(o)return o}return ut(n.length,r.length)}function eu(t){return Cy(t)}function Cy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Va(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ua(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return qe.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const o of n.values||[])s?s=!1:r+=",",r+=Cy(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${Cy(n.fields[u])}`;return s+"}"}(t.mapValue):Ze(61005,{value:t})}function ch(t){switch(ja(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=mm(t);return e?16+ch(e):16;case 5:return 2*t.stringValue.length;case 6:return Ua(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,o)=>s+ch(o),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Ya(r.fields,(o,u)=>{s+=o.length+ch(u)}),s}(t.mapValue);default:throw Ze(13486,{value:t})}}function tw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Ry(t){return!!t&&"integerValue"in t}function xv(t){return!!t&&"arrayValue"in t}function nw(t){return!!t&&"nullValue"in t}function rw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dh(t){return!!t&&"mapValue"in t}function u4(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[yA])===null||n===void 0?void 0:n.stringValue)===vA}function zc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ya(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=zc(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function c4(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===l4}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class br{constructor(e){this.value=e}static empty(){return new br({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!dh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zc(n)}setAll(e){let n=$n.emptyPath(),r={},s=[];e.forEach((u,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,s),r={},s=[],n=d.popLast()}u?r[d.lastSegment()]=zc(u):s.push(d.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,s)}delete(e){const n=this.field(e.popLast());dh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return es(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];dh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ya(n,(s,o)=>e[s]=o);for(const s of r)delete e[s]}clone(){return new br(zc(this.value))}}function _A(t){const e=[];return Ya(t.fields,(n,r)=>{const s=new $n([n]);if(dh(r)){const o=_A(r.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)}),new jr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zn{constructor(e,n,r,s,o,u,d){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=o,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Zn(e,0,nt.min(),nt.min(),nt.min(),br.empty(),0)}static newFoundDocument(e,n,r,s){return new Zn(e,1,n,nt.min(),r,s,0)}static newNoDocument(e,n){return new Zn(e,2,n,nt.min(),nt.min(),br.empty(),0)}static newUnknownDocument(e,n){return new Zn(e,3,n,nt.min(),nt.min(),br.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=br.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=nt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n){this.position=e,this.inclusive=n}}function iw(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const o=e[s],u=t.position[s];if(o.field.isKeyField()?r=qe.comparator(qe.fromName(u.referenceValue),n.key):r=Jl(u,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function sw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!es(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,n="asc"){this.field=e,this.dir=n}}function d4(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{}class gn extends bA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new h4(e,n,r):n==="array-contains"?new g4(e,r):n==="in"?new y4(e,r):n==="not-in"?new v4(e,r):n==="array-contains-any"?new _4(e,r):new gn(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new m4(e,r):new p4(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Jl(n,this.value)):n!==null&&ja(this.value)===ja(n)&&this.matchesComparison(Jl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ze(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends bA{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Ti(e,n)}matches(e){return EA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function EA(t){return t.op==="and"}function TA(t){return f4(t)&&EA(t)}function f4(t){for(const e of t.filters)if(e instanceof Ti)return!1;return!0}function Iy(t){if(t instanceof gn)return t.field.canonicalString()+t.op.toString()+eu(t.value);if(TA(t))return t.filters.map(e=>Iy(e)).join(",");{const e=t.filters.map(n=>Iy(n)).join(",");return`${t.op}(${e})`}}function wA(t,e){return t instanceof gn?function(r,s){return s instanceof gn&&r.op===s.op&&r.field.isEqual(s.field)&&es(r.value,s.value)}(t,e):t instanceof Ti?function(r,s){return s instanceof Ti&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((o,u,d)=>o&&wA(u,s.filters[d]),!0):!1}(t,e):void Ze(19439)}function SA(t){return t instanceof gn?function(n){return`${n.field.canonicalString()} ${n.op} ${eu(n.value)}`}(t):t instanceof Ti?function(n){return n.op.toString()+" {"+n.getFilters().map(SA).join(" ,")+"}"}(t):"Filter"}class h4 extends gn{constructor(e,n,r){super(e,n,r),this.key=qe.fromName(r.referenceValue)}matches(e){const n=qe.comparator(e.key,this.key);return this.matchesComparison(n)}}class m4 extends gn{constructor(e,n){super(e,"in",n),this.keys=AA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class p4 extends gn{constructor(e,n){super(e,"not-in",n),this.keys=AA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function AA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>qe.fromName(r.referenceValue))}class g4 extends gn{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return xv(n)&&nd(n.arrayValue,this.value)}}class y4 extends gn{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nd(this.value.arrayValue,n)}}class v4 extends gn{constructor(e,n){super(e,"not-in",n)}matches(e){if(nd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!nd(this.value.arrayValue,n)}}class _4 extends gn{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!xv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b4{constructor(e,n=null,r=[],s=[],o=null,u=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=u,this.endAt=d,this.Ie=null}}function aw(t,e=null,n=[],r=[],s=null,o=null,u=null){return new b4(t,e,n,r,s,o,u)}function Cv(t){const e=it(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Iy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),hm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>eu(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>eu(r)).join(",")),e.Ie=n}return e.Ie}function Rv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!d4(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!sw(t.startAt,e.startAt)&&sw(t.endAt,e.endAt)}function Ny(t){return qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n=null,r=[],s=[],o=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=d,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function E4(t,e,n,r,s,o,u,d){return new vu(t,e,n,r,s,o,u,d)}function Iv(t){return new vu(t)}function ow(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xA(t){return t.collectionGroup!==null}function Bc(t){const e=it(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Sn($n.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(m=>{m.isInequality()&&(d=d.add(m.field))})}),d})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new rd(o,r))}),n.has($n.keyField().canonicalString())||e.Ee.push(new rd($n.keyField(),r))}return e.Ee}function Wi(t){const e=it(t);return e.de||(e.de=T4(e,Bc(t))),e.de}function T4(t,e){if(t.limitType==="F")return aw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const o=s.dir==="desc"?"asc":"desc";return new rd(s.field,o)});const n=t.endAt?new Ph(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ph(t.startAt.position,t.startAt.inclusive):null;return aw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Oy(t,e){const n=t.filters.concat([e]);return new vu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Dy(t,e,n){return new vu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function pm(t,e){return Rv(Wi(t),Wi(e))&&t.limitType===e.limitType}function CA(t){return`${Cv(Wi(t))}|lt:${t.limitType}`}function zl(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>SA(s)).join(", ")}]`),hm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>eu(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>eu(s)).join(",")),`Target(${r})`}(Wi(t))}; limitType=${t.limitType})`}function gm(t,e){return e.isFoundDocument()&&function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):qe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,s){for(const o of Bc(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(u,d,f){const m=iw(u,d,f);return u.inclusive?m<=0:m<0}(r.startAt,Bc(r),s)||r.endAt&&!function(u,d,f){const m=iw(u,d,f);return u.inclusive?m>=0:m>0}(r.endAt,Bc(r),s))}(t,e)}function w4(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function RA(t){return(e,n)=>{let r=!1;for(const s of Bc(t)){const o=S4(s,e,n);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function S4(t,e,n){const r=t.field.isKeyField()?qe.comparator(e.key,n.key):function(o,u,d){const f=u.data.field(o),m=d.data.field(o);return f!==null&&m!==null?Jl(f,m):Ze(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ze(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ya(this.inner,(n,r)=>{for(const[s,o]of r)e(s,o)})}isEmpty(){return dA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A4=new Wt(qe.comparator);function Ps(){return A4}const IA=new Wt(qe.comparator);function Dc(...t){let e=IA;for(const n of t)e=e.insert(n.key,n);return e}function NA(t){let e=IA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ro(){return Fc()}function OA(){return Fc()}function Fc(){return new qo(t=>t.toString(),(t,e)=>t.isEqual(e))}const x4=new Wt(qe.comparator),C4=new Sn(qe.comparator);function _t(...t){let e=C4;for(const n of t)e=e.add(n);return e}const R4=new Sn(ut);function I4(){return R4}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Dh(e)?"-0":e}}function DA(t){return{integerValue:""+t}}function N4(t,e){return r4(e)?DA(e):Nv(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ym{constructor(){this._=void 0}}function O4(t,e,n){return t instanceof Lh?function(s,o){const u={fields:{[mA]:{stringValue:hA},[gA]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&Av(o)&&(o=mm(o)),o&&(u.fields[pA]=o),{mapValue:u}}(n,e):t instanceof id?MA(t,e):t instanceof sd?PA(t,e):function(s,o){const u=kA(s,o),d=lw(u)+lw(s.Re);return Ry(u)&&Ry(s.Re)?DA(d):Nv(s.serializer,d)}(t,e)}function D4(t,e,n){return t instanceof id?MA(t,e):t instanceof sd?PA(t,e):n}function kA(t,e){return t instanceof Vh?function(r){return Ry(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Lh extends ym{}class id extends ym{constructor(e){super(),this.elements=e}}function MA(t,e){const n=LA(e);for(const r of t.elements)n.some(s=>es(s,r))||n.push(r);return{arrayValue:{values:n}}}class sd extends ym{constructor(e){super(),this.elements=e}}function PA(t,e){let n=LA(e);for(const r of t.elements)n=n.filter(s=>!es(s,r));return{arrayValue:{values:n}}}class Vh extends ym{constructor(e,n){super(),this.serializer=e,this.Re=n}}function lw(t){return an(t.integerValue||t.doubleValue)}function LA(t){return xv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function k4(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof id&&s instanceof id||r instanceof sd&&s instanceof sd?Zl(r.elements,s.elements,es):r instanceof Vh&&s instanceof Vh?es(r.Re,s.Re):r instanceof Lh&&s instanceof Lh}(t.transform,e.transform)}class M4{constructor(e,n){this.version=e,this.transformResults=n}}class _i{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _i}static exists(e){return new _i(void 0,e)}static updateTime(e){return new _i(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class vm{}function VA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Ov(t.key,_i.none()):new _d(t.key,t.data,_i.none());{const n=t.data,r=br.empty();let s=new Sn($n.comparator);for(let o of e.fields)if(!s.has(o)){let u=n.field(o);u===null&&o.length>1&&(o=o.popLast(),u=n.field(o)),u===null?r.delete(o):r.set(o,u),s=s.add(o)}return new Qa(t.key,r,new jr(s.toArray()),_i.none())}}function P4(t,e,n){t instanceof _d?function(s,o,u){const d=s.value.clone(),f=cw(s.fieldTransforms,o,u.transformResults);d.setAll(f),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()}(t,e,n):t instanceof Qa?function(s,o,u){if(!fh(s.precondition,o))return void o.convertToUnknownDocument(u.version);const d=cw(s.fieldTransforms,o,u.transformResults),f=o.data;f.setAll(UA(s)),f.setAll(d),o.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function $c(t,e,n,r){return t instanceof _d?function(o,u,d,f){if(!fh(o.precondition,u))return d;const m=o.value.clone(),y=dw(o.fieldTransforms,f,u);return m.setAll(y),u.convertToFoundDocument(u.version,m).setHasLocalMutations(),null}(t,e,n,r):t instanceof Qa?function(o,u,d,f){if(!fh(o.precondition,u))return d;const m=dw(o.fieldTransforms,f,u),y=u.data;return y.setAll(UA(o)),y.setAll(m),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(b=>b.field))}(t,e,n,r):function(o,u,d){return fh(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d}(t,e,n)}function L4(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),o=kA(r.transform,s||null);o!=null&&(n===null&&(n=br.empty()),n.set(r.field,o))}return n||null}function uw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Zl(r,s,(o,u)=>k4(o,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _d extends vm{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Qa extends vm{constructor(e,n,r,s,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function UA(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function cw(t,e,n){const r=new Map;Mt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const o=t[s],u=o.transform,d=e.data.field(o.field);r.set(o.field,D4(u,d,n[s]))}return r}function dw(t,e,n){const r=new Map;for(const s of t){const o=s.transform,u=n.data.field(s.field);r.set(s.field,O4(o,u,e))}return r}class Ov extends vm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class V4 extends vm{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U4{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&P4(o,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=$c(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=$c(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=OA();return this.mutations.forEach(s=>{const o=e.get(s.key),u=o.overlayedDocument;let d=this.applyToLocalView(u,o.mutatedFields);d=n.has(s.key)?null:d;const f=VA(u,d);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(nt.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_t())}isEqual(e){return this.batchId===e.batchId&&Zl(this.mutations,e.mutations,(n,r)=>uw(n,r))&&Zl(this.baseMutations,e.baseMutations,(n,r)=>uw(n,r))}}class Dv{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Mt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return x4}();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,r[u].version);return new Dv(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j4{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z4{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hn,St;function B4(t){switch(t){case he.OK:return Ze(64938);case he.CANCELLED:case he.UNKNOWN:case he.DEADLINE_EXCEEDED:case he.RESOURCE_EXHAUSTED:case he.INTERNAL:case he.UNAVAILABLE:case he.UNAUTHENTICATED:return!1;case he.INVALID_ARGUMENT:case he.NOT_FOUND:case he.ALREADY_EXISTS:case he.PERMISSION_DENIED:case he.FAILED_PRECONDITION:case he.ABORTED:case he.OUT_OF_RANGE:case he.UNIMPLEMENTED:case he.DATA_LOSS:return!0;default:return Ze(15467,{code:t})}}function jA(t){if(t===void 0)return Ms("GRPC error has no .code"),he.UNKNOWN;switch(t){case hn.OK:return he.OK;case hn.CANCELLED:return he.CANCELLED;case hn.UNKNOWN:return he.UNKNOWN;case hn.DEADLINE_EXCEEDED:return he.DEADLINE_EXCEEDED;case hn.RESOURCE_EXHAUSTED:return he.RESOURCE_EXHAUSTED;case hn.INTERNAL:return he.INTERNAL;case hn.UNAVAILABLE:return he.UNAVAILABLE;case hn.UNAUTHENTICATED:return he.UNAUTHENTICATED;case hn.INVALID_ARGUMENT:return he.INVALID_ARGUMENT;case hn.NOT_FOUND:return he.NOT_FOUND;case hn.ALREADY_EXISTS:return he.ALREADY_EXISTS;case hn.PERMISSION_DENIED:return he.PERMISSION_DENIED;case hn.FAILED_PRECONDITION:return he.FAILED_PRECONDITION;case hn.ABORTED:return he.ABORTED;case hn.OUT_OF_RANGE:return he.OUT_OF_RANGE;case hn.UNIMPLEMENTED:return he.UNIMPLEMENTED;case hn.DATA_LOSS:return he.DATA_LOSS;default:return Ze(39323,{code:t})}}(St=hn||(hn={}))[St.OK=0]="OK",St[St.CANCELLED=1]="CANCELLED",St[St.UNKNOWN=2]="UNKNOWN",St[St.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",St[St.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",St[St.NOT_FOUND=5]="NOT_FOUND",St[St.ALREADY_EXISTS=6]="ALREADY_EXISTS",St[St.PERMISSION_DENIED=7]="PERMISSION_DENIED",St[St.UNAUTHENTICATED=16]="UNAUTHENTICATED",St[St.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",St[St.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",St[St.ABORTED=10]="ABORTED",St[St.OUT_OF_RANGE=11]="OUT_OF_RANGE",St[St.UNIMPLEMENTED=12]="UNIMPLEMENTED",St[St.INTERNAL=13]="INTERNAL",St[St.UNAVAILABLE=14]="UNAVAILABLE",St[St.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=new Oa([4294967295,4294967295],0);function fw(t){const e=lA().encode(t),n=new eA;return n.update(e),new Uint8Array(n.digest())}function hw(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Oa([n,r],0),new Oa([s,o],0)]}class kv{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new kc(`Invalid padding: ${n}`);if(r<0)throw new kc(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new kc(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new kc(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Oa.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(Oa.fromNumber(r)));return s.compare(F4)===1&&(s=new Oa([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=fw(e),[r,s]=hw(n);for(let o=0;o<this.hashCount;o++){const u=this.we(r,s,o);if(!this.be(u))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new kv(o,s,n);return r.forEach(d=>u.insert(d)),u}insert(e){if(this.pe===0)return;const n=fw(e),[r,s]=hw(n);for(let o=0;o<this.hashCount;o++){const u=this.we(r,s,o);this.Se(u)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class kc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{constructor(e,n,r,s,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,bd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _m(nt.min(),s,new Wt(ut),Ps(),_t())}}class bd{constructor(e,n,r,s,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bd(r,n,_t(),_t(),_t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hh{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class zA{constructor(e,n){this.targetId=e,this.Ce=n}}class BA{constructor(e,n,r=Hn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class mw{constructor(){this.Fe=0,this.Me=pw(),this.xe=Hn.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=_t(),n=_t(),r=_t();return this.Me.forEach((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:Ze(38017,{changeType:o})}}),new bd(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=pw()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Mt(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class $4{constructor(e){this.ze=e,this.je=new Map,this.He=Ps(),this.Je=Qf(),this.Ye=Qf(),this.Ze=new Wt(ut)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:Ze(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const o=s.target;if(Ny(o))if(r===0){const u=new qe(o.path);this.tt(n,u,Zn.newNoDocument(u,nt.min()))}else Mt(r===1,20013,{expectedCount:r});else{const u=this.ut(n);if(u!==r){const d=this.ct(e),f=d?this.lt(d,e,u):1;if(f!==0){this.st(n);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,m)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=n;let u,d;try{u=Ua(r).toUint8Array()}catch(f){if(f instanceof fA)return Wl("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new kv(u,s,o)}catch(f){return Wl(f instanceof kc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.pe===0?null:d}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(o=>{const u=this.ze.Pt(),d=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.tt(n,o,null),s++)}),s}It(e){const n=new Map;this.je.forEach((o,u)=>{const d=this._t(u);if(d){if(o.current&&Ny(d.target)){const f=new qe(d.target.path);this.Et(f).has(u)||this.dt(u,f)||this.tt(u,f,Zn.newNoDocument(f,e))}o.Le&&(n.set(u,o.qe()),o.Qe())}});let r=_t();this.Ye.forEach((o,u)=>{let d=!0;u.forEachWhile(f=>{const m=this._t(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(r=r.add(o))}),this.He.forEach((o,u)=>u.setReadTime(e));const s=new _m(e,n,this.Ze,this.He,r);return this.He=Ps(),this.Je=Qf(),this.Ye=Qf(),this.Ze=new Wt(ut),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new mw,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Sn(ut),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Sn(ut),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||De("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new mw),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Qf(){return new Wt(qe.comparator)}function pw(){return new Wt(qe.comparator)}const H4={asc:"ASCENDING",desc:"DESCENDING"},q4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},G4={and:"AND",or:"OR"};class K4{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function ky(t,e){return t.useProto3Json||hm(e)?e:{value:e}}function Uh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function FA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Y4(t,e){return Uh(t,e.toTimestamp())}function Zi(t){return Mt(!!t,49232),nt.fromTimestamp(function(n){const r=Va(n);return new wn(r.seconds,r.nanos)}(t))}function Mv(t,e){return My(t,e).canonicalString()}function My(t,e){const n=function(s){return new Gt(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function $A(t){const e=Gt.fromString(t);return Mt(YA(e),10190,{key:e.toString()}),e}function Py(t,e){return Mv(t.databaseId,e.path)}function Wg(t,e){const n=$A(e);if(n.get(1)!==t.databaseId.projectId)throw new ke(he.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ke(he.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new qe(qA(n))}function HA(t,e){return Mv(t.databaseId,e)}function Q4(t){const e=$A(t);return e.length===4?Gt.emptyPath():qA(e)}function Ly(t){return new Gt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qA(t){return Mt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function gw(t,e,n){return{name:Py(t,e),fields:n.value.mapValue.fields}}function X4(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:Ze(39313,{state:m})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=function(m,y){return m.useProto3Json?(Mt(y===void 0||typeof y=="string",58123),Hn.fromBase64String(y||"")):(Mt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),Hn.fromUint8Array(y||new Uint8Array))}(t,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&function(m){const y=m.code===void 0?he.UNKNOWN:jA(m.code);return new ke(y,m.message||"")}(u);n=new BA(r,s,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Wg(t,r.document.name),o=Zi(r.document.updateTime),u=r.document.createTime?Zi(r.document.createTime):nt.min(),d=new br({mapValue:{fields:r.document.fields}}),f=Zn.newFoundDocument(s,o,u,d),m=r.targetIds||[],y=r.removedTargetIds||[];n=new hh(m,y,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Wg(t,r.document),o=r.readTime?Zi(r.readTime):nt.min(),u=Zn.newNoDocument(s,o),d=r.removedTargetIds||[];n=new hh([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Wg(t,r.document),o=r.removedTargetIds||[];n=new hh([],o,s,null)}else{if(!("filter"in e))return Ze(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,u=new z4(s,o),d=r.targetId;n=new zA(d,u)}}return n}function W4(t,e){let n;if(e instanceof _d)n={update:gw(t,e.key,e.value)};else if(e instanceof Ov)n={delete:Py(t,e.key)};else if(e instanceof Qa)n={update:gw(t,e.key,e.data),updateMask:aP(e.fieldMask)};else{if(!(e instanceof V4))return Ze(16599,{ft:e.type});n={verify:Py(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,u){const d=u.transform;if(d instanceof Lh)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof id)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof sd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Vh)return{fieldPath:u.field.canonicalString(),increment:d.Re};throw Ze(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,o){return o.updateTime!==void 0?{updateTime:Y4(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ze(27497)}(t,e.precondition)),n}function Z4(t,e){return t&&t.length>0?(Mt(e!==void 0,14353),t.map(n=>function(s,o){let u=s.updateTime?Zi(s.updateTime):Zi(o);return u.isEqual(nt.min())&&(u=Zi(o)),new M4(u,s.transformResults||[])}(n,e))):[]}function J4(t,e){return{documents:[HA(t,e.path)]}}function eP(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=HA(t,s);const o=function(m){if(m.length!==0)return KA(Ti.create(m,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const u=function(m){if(m.length!==0)return m.map(y=>function(_){return{field:Bl(_.field),direction:rP(_.dir)}}(y))}(e.orderBy);u&&(n.structuredQuery.orderBy=u);const d=ky(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(e.endAt)),{gt:n,parent:s}}function tP(t){let e=Q4(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Mt(r===1,65062);const y=n.from[0];y.allDescendants?s=y.collectionId:e=e.child(y.collectionId)}let o=[];n.where&&(o=function(b){const _=GA(b);return _ instanceof Ti&&TA(_)?_.getFilters():[_]}(n.where));let u=[];n.orderBy&&(u=function(b){return b.map(_=>function(S){return new rd(Fl(S.field),function(C){switch(C){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(_))}(n.orderBy));let d=null;n.limit&&(d=function(b){let _;return _=typeof b=="object"?b.value:b,hm(_)?null:_}(n.limit));let f=null;n.startAt&&(f=function(b){const _=!!b.before,w=b.values||[];return new Ph(w,_)}(n.startAt));let m=null;return n.endAt&&(m=function(b){const _=!b.before,w=b.values||[];return new Ph(w,_)}(n.endAt)),E4(e,s,u,o,d,"F",f,m)}function nP(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ze(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function GA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Fl(n.unaryFilter.field);return gn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Fl(n.unaryFilter.field);return gn.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Fl(n.unaryFilter.field);return gn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Fl(n.unaryFilter.field);return gn.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ze(61313);default:return Ze(60726)}}(t):t.fieldFilter!==void 0?function(n){return gn.create(Fl(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ze(58110);default:return Ze(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ti.create(n.compositeFilter.filters.map(r=>GA(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ze(1026)}}(n.compositeFilter.op))}(t):Ze(30097,{filter:t})}function rP(t){return H4[t]}function iP(t){return q4[t]}function sP(t){return G4[t]}function Bl(t){return{fieldPath:t.canonicalString()}}function Fl(t){return $n.fromServerFormat(t.fieldPath)}function KA(t){return t instanceof gn?function(n){if(n.op==="=="){if(rw(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NAN"}};if(nw(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(rw(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NOT_NAN"}};if(nw(n.value))return{unaryFilter:{field:Bl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bl(n.field),op:iP(n.op),value:n.value}}}(t):t instanceof Ti?function(n){const r=n.getFilters().map(s=>KA(s));return r.length===1?r[0]:{compositeFilter:{op:sP(n.op),filters:r}}}(t):Ze(54877,{filter:t})}function aP(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function YA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n,r,s,o=nt.min(),u=nt.min(),d=Hn.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Aa(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e){this.wt=e}}function lP(t){const e=tP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Dy(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uP{constructor(){this.yn=new cP}addToCollectionParentIndex(e,n){return this.yn.add(n),me.resolve()}getCollectionParents(e,n){return me.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return me.resolve()}deleteFieldIndex(e,n){return me.resolve()}deleteAllFieldIndexes(e){return me.resolve()}createTargetIndexes(e,n){return me.resolve()}getDocumentsMatchingTarget(e,n){return me.resolve(null)}getIndexType(e,n){return me.resolve(0)}getFieldIndexes(e,n){return me.resolve([])}getNextCollectionGroupToUpdate(e){return me.resolve(null)}getMinOffset(e,n){return me.resolve(La.min())}getMinOffsetFromCollectionGroup(e,n){return me.resolve(La.min())}updateCollectionGroup(e,n,r){return me.resolve()}updateIndexEntries(e,n){return me.resolve()}}class cP{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Sn(Gt.comparator),o=!s.has(r);return this.index[n]=s.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Sn(Gt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},QA=41943040;class _r{static withCacheSize(e){return new _r(e,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */_r.DEFAULT_COLLECTION_PERCENTILE=10,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_r.DEFAULT=new _r(QA,_r.DEFAULT_COLLECTION_PERCENTILE,_r.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_r.DISABLED=new _r(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new tu(0)}static ir(){return new tu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="LruGarbageCollector",dP=1048576;function _w([t,e],[n,r]){const s=ut(t,n);return s===0?ut(e,r):s}class fP{constructor(e){this.cr=e,this.buffer=new Sn(_w),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();_w(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class hP{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){De(vw,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){yu(n)?De(vw,"Ignoring IndexedDB error during garbage collection: ",n):await gu(n)}await this.Ir(3e5)})}}class mP{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return me.resolve(fm.le);const r=new fP(n);return this.Er.forEachTarget(e,s=>r.Pr(s.sequenceNumber)).next(()=>this.Er.Ar(e,s=>r.Pr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(De("LruGarbageCollector","Garbage collection skipped; disabled"),me.resolve(yw)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(De("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),yw):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,s,o,u,d,f,m;const y=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(De("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),s=this.params.maximumSequenceNumbersToCollect):s=b,u=Date.now(),this.nthSequenceNumber(e,s))).next(b=>(r=b,d=Date.now(),this.removeTargets(e,r,n))).next(b=>(o=b,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(b=>(m=Date.now(),jl()<=yt.DEBUG&&De("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-y}ms
	Determined least recently used ${s} in `+(d-u)+`ms
	Removed ${o} targets in `+(f-d)+`ms
	Removed ${b} documents in `+(m-f)+`ms
Total Duration: ${m-y}ms`),me.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:b})))}}function pP(t,e){return new mP(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(){this.changes=new qo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?me.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&$c(r.mutation,s,jr.empty(),wn.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_t()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_t()){const s=Ro();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(o=>{let u=Dc();return o.forEach((d,f)=>{u=u.insert(d,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=Ro();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_t()))}populateOverlays(e,n,r){const s=[];return r.forEach(o=>{n.has(o)||s.push(o)}),this.documentOverlayCache.getOverlays(e,s).next(o=>{o.forEach((u,d)=>{n.set(u,d)})})}computeViews(e,n,r,s){let o=Ps();const u=Fc(),d=function(){return Fc()}();return n.forEach((f,m)=>{const y=r.get(m.key);s.has(m.key)&&(y===void 0||y.mutation instanceof Qa)?o=o.insert(m.key,m):y!==void 0?(u.set(m.key,y.mutation.getFieldMask()),$c(y.mutation,m,y.mutation.getFieldMask(),wn.now())):u.set(m.key,jr.empty())}),this.recalculateAndSaveOverlays(e,o).next(f=>(f.forEach((m,y)=>u.set(m,y)),n.forEach((m,y)=>{var b;return d.set(m,new yP(y,(b=u.get(m))!==null&&b!==void 0?b:null))}),d))}recalculateAndSaveOverlays(e,n){const r=Fc();let s=new Wt((u,d)=>u-d),o=_t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const d of u)d.keys().forEach(f=>{const m=n.get(f);if(m===null)return;let y=r.get(f)||jr.empty();y=d.applyToLocalView(m,y),r.set(f,y);const b=(s.get(d.batchId)||_t()).add(f);s=s.insert(d.batchId,b)})}).next(()=>{const u=[],d=s.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),m=f.key,y=f.value,b=OA();y.forEach(_=>{if(!o.has(_)){const w=VA(n.get(_),r.get(_));w!==null&&b.set(_,w),o=o.add(_)}}),u.push(this.documentOverlayCache.saveOverlays(e,m,b))}return me.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(u){return qe.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-o.size):me.resolve(Ro());let d=Jc,f=o;return u.next(m=>me.forEach(m,(y,b)=>(d<b.largestBatchId&&(d=b.largestBatchId),o.get(y)?me.resolve():this.remoteDocumentCache.getEntry(e,y).next(_=>{f=f.insert(y,_)}))).next(()=>this.populateOverlays(e,m,o)).next(()=>this.computeViews(e,f,m,_t())).next(y=>({batchId:d,changes:NA(y)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new qe(n)).next(r=>{let s=Dc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const o=n.collectionGroup;let u=Dc();return this.indexManager.getCollectionParents(e,o).next(d=>me.forEach(d,f=>{const m=function(b,_){return new vu(_,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,f.child(o));return this.getDocumentsMatchingCollectionQuery(e,m,r,s).next(y=>{y.forEach((b,_)=>{u=u.insert(b,_)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,s))).next(u=>{o.forEach((f,m)=>{const y=m.getKey();u.get(y)===null&&(u=u.insert(y,Zn.newInvalidDocument(y)))});let d=Dc();return u.forEach((f,m)=>{const y=o.get(f);y!==void 0&&$c(y.mutation,m,jr.empty(),wn.now()),gm(n,m)&&(d=d.insert(f,m))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return me.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Zi(s.createTime)}}(n)),me.resolve()}getNamedQuery(e,n){return me.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(s){return{name:s.name,query:lP(s.bundledQuery),readTime:Zi(s.readTime)}}(n)),me.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(){this.overlays=new Wt(qe.comparator),this.Or=new Map}getOverlay(e,n){return me.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ro();return me.forEach(n,s=>this.getOverlay(e,s).next(o=>{o!==null&&r.set(s,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,o)=>{this.St(e,n,o)}),me.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Or.get(r);return s!==void 0&&(s.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),me.resolve()}getOverlaysForCollection(e,n,r){const s=Ro(),o=n.length+1,u=new qe(n.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,m=f.getKey();if(!n.isPrefixOf(m.path))break;m.path.length===o&&f.largestBatchId>r&&s.set(f.getKey(),f)}return me.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let o=new Wt((m,y)=>m-y);const u=this.overlays.getIterator();for(;u.hasNext();){const m=u.getNext().value;if(m.getKey().getCollectionGroup()===n&&m.largestBatchId>r){let y=o.get(m.largestBatchId);y===null&&(y=Ro(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const d=Ro(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((m,y)=>d.set(m,y)),!(d.size()>=s)););return me.resolve(d)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.Or.get(s.largestBatchId).delete(r.key);this.Or.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new j4(n,r));let o=this.Or.get(n);o===void 0&&(o=_t(),this.Or.set(n,o)),this.Or.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(){this.sessionToken=Hn.EMPTY_BYTE_STRING}getSessionToken(e){return me.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,me.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(){this.Nr=new Sn(Dn.Br),this.Lr=new Sn(Dn.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new Dn(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new Dn(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new qe(new Gt([])),r=new Dn(n,e),s=new Dn(n,e+1),o=[];return this.Lr.forEachInRange([r,s],u=>{this.Qr(u),o.push(u.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new qe(new Gt([])),r=new Dn(n,e),s=new Dn(n,e+1);let o=_t();return this.Lr.forEachInRange([r,s],u=>{o=o.add(u.key)}),o}containsKey(e){const n=new Dn(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Dn{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return qe.comparator(e.key,n.key)||ut(e.Gr,n.Gr)}static kr(e,n){return ut(e.Gr,n.Gr)||qe.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new Sn(Dn.Br)}checkEmpty(e){return me.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new U4(o,n,r,s);this.mutationQueue.push(u);for(const d of s)this.zr=this.zr.add(new Dn(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return me.resolve(u)}lookupMutationBatch(e,n){return me.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Hr(r),o=s<0?0:s;return me.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return me.resolve(this.mutationQueue.length===0?Sv:this.Jn-1)}getAllMutationBatches(e){return me.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Dn(n,0),s=new Dn(n,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,s],u=>{const d=this.jr(u.Gr);o.push(d)}),me.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Sn(ut);return n.forEach(s=>{const o=new Dn(s,0),u=new Dn(s,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,u],d=>{r=r.add(d.Gr)})}),me.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let o=r;qe.isDocumentKey(o)||(o=o.child(""));const u=new Dn(new qe(o),0);let d=new Sn(ut);return this.zr.forEachWhile(f=>{const m=f.key.path;return!!r.isPrefixOf(m)&&(m.length===s&&(d=d.add(f.Gr)),!0)},u),me.resolve(this.Jr(d))}Jr(e){const n=[];return e.forEach(r=>{const s=this.jr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Mt(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return me.forEach(n.mutations,s=>{const o=new Dn(s.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new Dn(n,0),s=this.zr.firstAfterOrEqual(r);return me.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,me.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP{constructor(e){this.Zr=e,this.docs=function(){return new Wt(qe.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),o=s?s.size:0,u=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return me.resolve(r?r.document.mutableCopy():Zn.newInvalidDocument(n))}getEntries(e,n){let r=Ps();return n.forEach(s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():Zn.newInvalidDocument(s))}),me.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let o=Ps();const u=n.path,d=new qe(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:m,value:{document:y}}=f.getNext();if(!u.isPrefixOf(m.path))break;m.path.length>u.length+1||JM(ZM(y),r)<=0||(s.has(y.key)||gm(n,y))&&(o=o.insert(y.key,y.mutableCopy()))}return me.resolve(o)}getAllFromCollectionGroup(e,n,r,s){Ze(9500)}Xr(e,n){return me.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new SP(this)}getSize(e){return me.resolve(this.size)}}class SP extends gP{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.vr.addEntry(e,s)):this.vr.removeEntry(r)}),me.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(e){this.persistence=e,this.ei=new qo(n=>Cv(n),Rv),this.lastRemoteSnapshotVersion=nt.min(),this.highestTargetId=0,this.ti=0,this.ni=new Pv,this.targetCount=0,this.ri=tu.rr()}forEachTarget(e,n){return this.ei.forEach((r,s)=>n(s)),me.resolve()}getLastRemoteSnapshotVersion(e){return me.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return me.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),me.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),me.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new tu(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,me.resolve()}updateTargetData(e,n){return this.ar(n),me.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,me.resolve()}removeTargets(e,n,r){let s=0;const o=[];return this.ei.forEach((u,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.ei.delete(u),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)}),me.waitFor(o).next(()=>s)}getTargetCount(e){return me.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return me.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),me.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const s=this.persistence.referenceDelegate,o=[];return s&&n.forEach(u=>{o.push(s.markPotentiallyOrphaned(e,u))}),me.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),me.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return me.resolve(r)}containsKey(e,n){return me.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XA{constructor(e,n){this.ii={},this.overlays={},this.si=new fm(0),this.oi=!1,this.oi=!0,this._i=new EP,this.referenceDelegate=e(this),this.ai=new AP(this),this.indexManager=new uP,this.remoteDocumentCache=function(s){return new wP(s)}(r=>this.referenceDelegate.ui(r)),this.serializer=new oP(n),this.ci=new _P(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new bP,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new TP(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){De("MemoryPersistence","Starting transaction:",e);const s=new xP(this.si.next());return this.referenceDelegate.li(),r(s).next(o=>this.referenceDelegate.hi(s).next(()=>o)).toPromise().then(o=>(s.raiseOnCommittedEvent(),o))}Pi(e,n){return me.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class xP extends t4{constructor(e){super(),this.currentSequenceNumber=e}}class Lv{constructor(e){this.persistence=e,this.Ti=new Pv,this.Ii=null}static Ei(e){return new Lv(e)}get di(){if(this.Ii)return this.Ii;throw Ze(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),me.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),me.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),me.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return me.forEach(this.di,r=>{const s=qe.fromPath(r);return this.Ai(e,s).next(o=>{o||n.removeEntry(s,nt.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return me.or([()=>me.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class jh{constructor(e,n){this.persistence=e,this.Ri=new qo(r=>i4(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=pP(this,n)}static Ei(e,n){return new jh(e,n)}li(){}hi(e){return me.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return me.forEach(this.Ri,(r,s)=>this.gr(e,r,s).next(o=>o?me.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.Xr(e,u=>this.gr(e,u,n).next(d=>{d||(r++,o.removeEntry(u,nt.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),me.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),me.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),me.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),me.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=ch(e.data.value)),n}gr(e,n,r){return me.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.Ri.get(n);return me.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=s}static Ps(e,n){let r=_t(),s=_t();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Vv(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return rO()?8:n4(Jn())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,s){const o={result:null};return this.Rs(e,n).next(u=>{o.result=u}).next(()=>{if(!o.result)return this.Vs(e,n,s,r).next(u=>{o.result=u})}).next(()=>{if(o.result)return;const u=new CP;return this.fs(e,n,u).next(d=>{if(o.result=d,this.Is)return this.gs(e,n,u,d.size)})}).next(()=>o.result)}gs(e,n,r,s){return r.documentReadCount<this.Es?(jl()<=yt.DEBUG&&De("QueryEngine","SDK will not create cache indexes for query:",zl(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),me.resolve()):(jl()<=yt.DEBUG&&De("QueryEngine","Query:",zl(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(jl()<=yt.DEBUG&&De("QueryEngine","The SDK decides to create cache indexes for query:",zl(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wi(n))):me.resolve())}Rs(e,n){if(ow(n))return me.resolve(null);let r=Wi(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Dy(n,null,"F"),r=Wi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const u=_t(...o);return this.As.getDocuments(e,u).next(d=>this.indexManager.getMinOffset(e,r).next(f=>{const m=this.ps(n,d);return this.ys(n,m,u,f.readTime)?this.Rs(e,Dy(n,null,"F")):this.ws(e,m,n,f)}))})))}Vs(e,n,r,s){return ow(n)||s.isEqual(nt.min())?me.resolve(null):this.As.getDocuments(e,r).next(o=>{const u=this.ps(n,o);return this.ys(n,u,r,s)?me.resolve(null):(jl()<=yt.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),zl(n)),this.ws(e,u,n,WM(s,Jc)).next(d=>d))})}ps(e,n){let r=new Sn(RA(e));return n.forEach((s,o)=>{gm(e,o)&&(r=r.add(o))}),r}ys(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}fs(e,n,r){return jl()<=yt.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",zl(n)),this.As.getDocumentsMatchingQuery(e,n,La.min(),r)}ws(e,n,r,s){return this.As.getDocumentsMatchingQuery(e,r,s).next(o=>(n.forEach(u=>{o=o.insert(u.key,u)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="LocalStore",IP=3e8;class NP{constructor(e,n,r,s){this.persistence=e,this.bs=n,this.serializer=s,this.Ss=new Wt(ut),this.Ds=new qo(o=>Cv(o),Rv),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vP(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function OP(t,e,n,r){return new NP(t,e,n,r)}async function WA(t,e){const n=it(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(o=>(s=o,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const u=[],d=[];let f=_t();for(const m of s){u.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}for(const m of o){d.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}return n.localDocuments.getDocuments(r,f).next(m=>({Ms:m,removedBatchIds:u,addedBatchIds:d}))})})}function DP(t,e){const n=it(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),o=n.Cs.newChangeBuffer({trackRemovals:!0});return function(d,f,m,y){const b=m.batch,_=b.keys();let w=me.resolve();return _.forEach(S=>{w=w.next(()=>y.getEntry(f,S)).next(x=>{const C=m.docVersions.get(S);Mt(C!==null,48541),x.version.compareTo(C)<0&&(b.applyToRemoteDocument(x,m),x.isValidDocument()&&(x.setReadTime(m.commitVersion),y.addEntry(x)))})}),w.next(()=>d.mutationQueue.removeMutationBatch(f,b))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(d){let f=_t();for(let m=0;m<d.mutationResults.length;++m)d.mutationResults[m].transformResults.length>0&&(f=f.add(d.batch.mutations[m].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function ZA(t){const e=it(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function kP(t,e){const n=it(t),r=e.snapshotVersion;let s=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=n.Cs.newChangeBuffer({trackRemovals:!0});s=n.Ss;const d=[];e.targetChanges.forEach((y,b)=>{const _=s.get(b);if(!_)return;d.push(n.ai.removeMatchingKeys(o,y.removedDocuments,b).next(()=>n.ai.addMatchingKeys(o,y.addedDocuments,b)));let w=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(b)!==null?w=w.withResumeToken(Hn.EMPTY_BYTE_STRING,nt.min()).withLastLimboFreeSnapshotVersion(nt.min()):y.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(y.resumeToken,r)),s=s.insert(b,w),function(x,C,V){return x.resumeToken.approximateByteSize()===0||C.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=IP?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(_,w,y)&&d.push(n.ai.updateTargetData(o,w))});let f=Ps(),m=_t();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(o,y))}),d.push(MP(o,u,e.documentUpdates).next(y=>{f=y.xs,m=y.Os})),!r.isEqual(nt.min())){const y=n.ai.getLastRemoteSnapshotVersion(o).next(b=>n.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));d.push(y)}return me.waitFor(d).next(()=>u.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,f,m)).next(()=>f)}).then(o=>(n.Ss=s,o))}function MP(t,e,n){let r=_t(),s=_t();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let u=Ps();return n.forEach((d,f)=>{const m=o.get(d);f.isFoundDocument()!==m.isFoundDocument()&&(s=s.add(d)),f.isNoDocument()&&f.version.isEqual(nt.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):De(Uv,"Ignoring outdated watch update for ",d,". Current version:",m.version," Watch version:",f.version)}),{xs:u,Os:s}})}function PP(t,e){const n=it(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Sv),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function LP(t,e){const n=it(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.ai.getTargetData(r,e).next(o=>o?(s=o,me.resolve(s)):n.ai.allocateTargetId(r).next(u=>(s=new Aa(e,u,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ss.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}async function Vy(t,e,n){const r=it(t),s=r.Ss.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,u=>r.persistence.referenceDelegate.removeTarget(u,s))}catch(u){if(!yu(u))throw u;De(Uv,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(s.target)}function bw(t,e,n){const r=it(t);let s=nt.min(),o=_t();return r.persistence.runTransaction("Execute query","readwrite",u=>function(f,m,y){const b=it(f),_=b.Ds.get(y);return _!==void 0?me.resolve(b.Ss.get(_)):b.ai.getTargetData(m,y)}(r,u,Wi(e)).next(d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(u,d.targetId).next(f=>{o=f})}).next(()=>r.bs.getDocumentsMatchingQuery(u,e,n?s:nt.min(),n?o:_t())).next(d=>(VP(r,w4(e),d),{documents:d,Ns:o})))}function VP(t,e,n){let r=t.vs.get(e)||nt.min();n.forEach((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.vs.set(e,r)}class Ew{constructor(){this.activeTargetIds=I4()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UP{constructor(){this.So=new Ew,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Ew,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="ConnectivityMonitor";class ww{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){De(Tw,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){De(Tw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xf=null;function Uy(){return Xf===null?Xf=function(){return 268435456+Math.round(2147483648*Math.random())}():Xf++,"0x"+Xf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zg="RestConnection",zP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BP{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${s}`,this.qo=this.databaseId.database===kh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Qo(e,n,r,s,o){const u=Uy(),d=this.$o(e,n.toUriEncodedString());De(Zg,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(f,s,o);const{host:m}=new URL(d),y=$o(m);return this.Ko(e,d,f,r,y).then(b=>(De(Zg,`Received RPC '${e}' ${u}: `,b),b),b=>{throw Wl(Zg,`RPC '${e}' ${u} failed with error: `,b,"url: ",d,"request:",r),b})}Wo(e,n,r,s,o,u){return this.Qo(e,n,r,s,o)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+pu}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}$o(e,n){const r=zP[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FP{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qn="WebChannelConnection";class $P extends BP{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,s,o){const u=Uy();return new Promise((d,f)=>{const m=new tA;m.setWithCredentials(!0),m.listenOnce(nA.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case uh.NO_ERROR:const b=m.getResponseJson();De(Qn,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(b)),d(b);break;case uh.TIMEOUT:De(Qn,`RPC '${e}' ${u} timed out`),f(new ke(he.DEADLINE_EXCEEDED,"Request time out"));break;case uh.HTTP_ERROR:const _=m.getStatus();if(De(Qn,`RPC '${e}' ${u} failed with status:`,_,"response text:",m.getResponseText()),_>0){let w=m.getResponseJson();Array.isArray(w)&&(w=w[0]);const S=w==null?void 0:w.error;if(S&&S.status&&S.message){const x=function(V){const L=V.toLowerCase().replace(/_/g,"-");return Object.values(he).indexOf(L)>=0?L:he.UNKNOWN}(S.status);f(new ke(x,S.message))}else f(new ke(he.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new ke(he.UNAVAILABLE,"Connection failed."));break;default:Ze(9055,{s_:e,streamId:u,o_:m.getLastErrorCode(),__:m.getLastError()})}}finally{De(Qn,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(s);De(Qn,`RPC '${e}' ${u} sending request:`,s),m.send(n,"POST",y,r,15)})}a_(e,n,r){const s=Uy(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=sA(),d=iA(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Uo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const y=o.join("");De(Qn,`Creating RPC '${e}' stream ${s}: ${y}`,f);const b=u.createWebChannel(y,f);let _=!1,w=!1;const S=new FP({Go:C=>{w?De(Qn,`Not sending because RPC '${e}' stream ${s} is closed:`,C):(_||(De(Qn,`Opening RPC '${e}' stream ${s} transport.`),b.open(),_=!0),De(Qn,`RPC '${e}' stream ${s} sending:`,C),b.send(C))},zo:()=>b.close()}),x=(C,V,L)=>{C.listen(V,$=>{try{L($)}catch(Y){setTimeout(()=>{throw Y},0)}})};return x(b,Oc.EventType.OPEN,()=>{w||(De(Qn,`RPC '${e}' stream ${s} transport opened.`),S.t_())}),x(b,Oc.EventType.CLOSE,()=>{w||(w=!0,De(Qn,`RPC '${e}' stream ${s} transport closed`),S.r_())}),x(b,Oc.EventType.ERROR,C=>{w||(w=!0,Wl(Qn,`RPC '${e}' stream ${s} transport errored. Name:`,C.name,"Message:",C.message),S.r_(new ke(he.UNAVAILABLE,"The operation could not be completed")))}),x(b,Oc.EventType.MESSAGE,C=>{var V;if(!w){const L=C.data[0];Mt(!!L,16349);const $=L,Y=($==null?void 0:$.error)||((V=$[0])===null||V===void 0?void 0:V.error);if(Y){De(Qn,`RPC '${e}' stream ${s} received error:`,Y);const G=Y.status;let F=function(k){const P=hn[k];if(P!==void 0)return jA(P)}(G),U=Y.message;F===void 0&&(F=he.INTERNAL,U="Unknown error status: "+G+" with message "+Y.message),w=!0,S.r_(new ke(F,U)),b.close()}else De(Qn,`RPC '${e}' stream ${s} received:`,L),S.i_(L)}}),x(d,rA.STAT_EVENT,C=>{C.stat===Ay.PROXY?De(Qn,`RPC '${e}' stream ${s} detected buffering proxy`):C.stat===Ay.NOPROXY&&De(Qn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{S.n_()},0),S}}function Jg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(t){return new K4(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,n,r=1e3,s=1.5,o=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=s,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),s=Math.max(0,n-r);s>0&&De("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="PersistentStream";class ex{constructor(e,n,r,s,o,u,d,f){this.bi=e,this.R_=r,this.V_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new JA(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===he.RESOURCE_EXHAUSTED?(Ms(n.toString()),Ms("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===he.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.m_===n&&this.B_(r,s)},r=>{e(()=>{const s=new ke(he.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(s)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(s=>{r(()=>this.L_(s))}),this.stream.onMessage(s=>{r(()=>++this.p_==1?this.q_(s):this.onNext(s))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return De(Sw,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(De(Sw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class HP extends ex{constructor(e,n,r,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,u),this.serializer=o}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=X4(this.serializer,e),r=function(o){if(!("targetChange"in o))return nt.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?nt.min():u.readTime?Zi(u.readTime):nt.min()}(e);return this.listener.Q_(n,r)}U_(e){const n={};n.database=Ly(this.serializer),n.addTarget=function(o,u){let d;const f=u.target;if(d=Ny(f)?{documents:J4(o,f)}:{query:eP(o,f).gt},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=FA(o,u.resumeToken);const m=ky(o,u.expectedCount);m!==null&&(d.expectedCount=m)}else if(u.snapshotVersion.compareTo(nt.min())>0){d.readTime=Uh(o,u.snapshotVersion.toTimestamp());const m=ky(o,u.expectedCount);m!==null&&(d.expectedCount=m)}return d}(this.serializer,e);const r=nP(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){const n={};n.database=Ly(this.serializer),n.removeTarget=e,this.F_(n)}}class qP extends ex{constructor(e,n,r,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,u),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return Mt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Mt(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Mt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=Z4(e.writeResults,e.commitTime),r=Zi(e.commitTime);return this.listener.j_(r,n)}H_(){const e={};e.database=Ly(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>W4(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{}class KP extends GP{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new ke(he.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.connection.Qo(e,My(n,r),s,o,u)).catch(o=>{throw o.name==="FirebaseError"?(o.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ke(he.UNKNOWN,o.toString())})}Wo(e,n,r,s,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.Wo(e,My(n,r),s,u,d,o)).catch(u=>{throw u.name==="FirebaseError"?(u.code===he.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ke(he.UNKNOWN,u.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class YP{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Ms(n),this.ea=!1):De("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo="RemoteStore";class QP{constructor(e,n,r,s,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(u=>{r.enqueueAndForget(async()=>{Go(this)&&(De(Vo,"Restarting streams for network reachability change."),await async function(f){const m=it(f);m.aa.add(4),await Ed(m),m.la.set("Unknown"),m.aa.delete(4),await Em(m)}(this))})}),this.la=new YP(r,s)}}async function Em(t){if(Go(t))for(const e of t.ua)await e(!0)}async function Ed(t){for(const e of t.ua)await e(!1)}function tx(t,e){const n=it(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),Fv(n)?Bv(n):_u(n).b_()&&zv(n,e))}function jv(t,e){const n=it(t),r=_u(n);n._a.delete(e),r.b_()&&nx(n,e),n._a.size===0&&(r.b_()?r.v_():Go(n)&&n.la.set("Unknown"))}function zv(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(nt.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}_u(t).U_(e)}function nx(t,e){t.ha.Ke(e),_u(t).K_(e)}function Bv(t){t.ha=new $4({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),_u(t).start(),t.la.ta()}function Fv(t){return Go(t)&&!_u(t).w_()&&t._a.size>0}function Go(t){return it(t).aa.size===0}function rx(t){t.ha=void 0}async function XP(t){t.la.set("Online")}async function WP(t){t._a.forEach((e,n)=>{zv(t,e)})}async function ZP(t,e){rx(t),Fv(t)?(t.la.ia(e),Bv(t)):t.la.set("Unknown")}async function JP(t,e,n){if(t.la.set("Online"),e instanceof BA&&e.state===2&&e.cause)try{await async function(s,o){const u=o.cause;for(const d of o.targetIds)s._a.has(d)&&(await s.remoteSyncer.rejectListen(d,u),s._a.delete(d),s.ha.removeTarget(d))}(t,e)}catch(r){De(Vo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await zh(t,r)}else if(e instanceof hh?t.ha.Xe(e):e instanceof zA?t.ha.ot(e):t.ha.nt(e),!n.isEqual(nt.min()))try{const r=await ZA(t.localStore);n.compareTo(r)>=0&&await function(o,u){const d=o.ha.It(u);return d.targetChanges.forEach((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const y=o._a.get(m);y&&o._a.set(m,y.withResumeToken(f.resumeToken,u))}}),d.targetMismatches.forEach((f,m)=>{const y=o._a.get(f);if(!y)return;o._a.set(f,y.withResumeToken(Hn.EMPTY_BYTE_STRING,y.snapshotVersion)),nx(o,f);const b=new Aa(y.target,f,m,y.sequenceNumber);zv(o,b)}),o.remoteSyncer.applyRemoteEvent(d)}(t,n)}catch(r){De(Vo,"Failed to raise snapshot:",r),await zh(t,r)}}async function zh(t,e,n){if(!yu(e))throw e;t.aa.add(1),await Ed(t),t.la.set("Offline"),n||(n=()=>ZA(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{De(Vo,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await Em(t)})}function ix(t,e){return e().catch(n=>zh(t,n,e))}async function Tm(t){const e=it(t),n=za(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:Sv;for(;eL(e);)try{const s=await PP(e.localStore,r);if(s===null){e.oa.length===0&&n.v_();break}r=s.batchId,tL(e,s)}catch(s){await zh(e,s)}sx(e)&&ax(e)}function eL(t){return Go(t)&&t.oa.length<10}function tL(t,e){t.oa.push(e);const n=za(t);n.b_()&&n.W_&&n.G_(e.mutations)}function sx(t){return Go(t)&&!za(t).w_()&&t.oa.length>0}function ax(t){za(t).start()}async function nL(t){za(t).H_()}async function rL(t){const e=za(t);for(const n of t.oa)e.G_(n.mutations)}async function iL(t,e,n){const r=t.oa.shift(),s=Dv.from(r,e,n);await ix(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Tm(t)}async function sL(t,e){e&&za(t).W_&&await async function(r,s){if(function(u){return B4(u)&&u!==he.ABORTED}(s.code)){const o=r.oa.shift();za(r).D_(),await ix(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s)),await Tm(r)}}(t,e),sx(t)&&ax(t)}async function Aw(t,e){const n=it(t);n.asyncQueue.verifyOperationInProgress(),De(Vo,"RemoteStore received new credentials");const r=Go(n);n.aa.add(3),await Ed(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await Em(n)}async function aL(t,e){const n=it(t);e?(n.aa.delete(2),await Em(n)):e||(n.aa.add(2),await Ed(n),n.la.set("Unknown"))}function _u(t){return t.Pa||(t.Pa=function(n,r,s){const o=it(n);return o.Y_(),new HP(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{jo:XP.bind(null,t),Jo:WP.bind(null,t),Zo:ZP.bind(null,t),Q_:JP.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),Fv(t)?Bv(t):t.la.set("Unknown")):(await t.Pa.stop(),rx(t))})),t.Pa}function za(t){return t.Ta||(t.Ta=function(n,r,s){const o=it(n);return o.Y_(),new qP(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:nL.bind(null,t),Zo:sL.bind(null,t),z_:rL.bind(null,t),j_:iL.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await Tm(t)):(await t.Ta.stop(),t.oa.length>0&&(De(Vo,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $v{constructor(e,n,r,s,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new Os,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,o){const u=Date.now()+r,d=new $v(e,n,u,s,o);return d.start(r),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ke(he.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hv(t,e){if(Ms("AsyncQueue",`${e}: ${t}`),yu(t))return new ke(he.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{static emptySet(e){return new Ql(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||qe.comparator(n.key,r.key):(n,r)=>qe.comparator(n.key,r.key),this.keyedMap=Dc(),this.sortedSet=new Wt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ql)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ql;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw{constructor(){this.Ia=new Wt(qe.comparator)}track(e){const n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):Ze(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}}class nu{constructor(e,n,r,s,o,u,d,f,m){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(e,n,r,s,o){const u=[];return n.forEach(d=>{u.push({type:0,doc:d})}),new nu(e,n,Ql.emptySet(n),u,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&pm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oL{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class lL{constructor(){this.queries=Cw(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const s=it(n),o=s.queries;s.queries=Cw(),o.forEach((u,d)=>{for(const f of d.Ra)f.onError(r)})})(this,new ke(he.ABORTED,"Firestore shutting down"))}}function Cw(){return new qo(t=>CA(t),pm)}async function ox(t,e){const n=it(t);let r=3;const s=e.query;let o=n.queries.get(s);o?!o.Va()&&e.ma()&&(r=2):(o=new oL,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=await n.onListen(s,!0);break;case 1:o.Aa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(u){const d=Hv(u,`Initialization of query '${zl(e.query)}' failed`);return void e.onError(d)}n.queries.set(s,o),o.Ra.push(e),e.ga(n.onlineState),o.Aa&&e.pa(o.Aa)&&qv(n)}async function lx(t,e){const n=it(t),r=e.query;let s=3;const o=n.queries.get(r);if(o){const u=o.Ra.indexOf(e);u>=0&&(o.Ra.splice(u,1),o.Ra.length===0?s=e.ma()?0:1:!o.Va()&&e.ma()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function uL(t,e){const n=it(t);let r=!1;for(const s of e){const o=s.query,u=n.queries.get(o);if(u){for(const d of u.Ra)d.pa(s)&&(r=!0);u.Aa=s}}r&&qv(n)}function cL(t,e,n){const r=it(t),s=r.queries.get(e);if(s)for(const o of s.Ra)o.onError(n);r.queries.delete(e)}function qv(t){t.fa.forEach(e=>{e.next()})}var jy,Rw;(Rw=jy||(jy={})).ya="default",Rw.Cache="cache";class ux{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new nu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=nu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==jy.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e){this.key=e}}class dx{constructor(e){this.key=e}}class dL{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=_t(),this.mutatedKeys=_t(),this.Ua=RA(e),this.Ka=new Ql(this.Ua)}get Wa(){return this.qa}Ga(e,n){const r=n?n.za:new xw,s=n?n.Ka:this.Ka;let o=n?n.mutatedKeys:this.mutatedKeys,u=s,d=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,m=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((y,b)=>{const _=s.get(y),w=gm(this.query,b)?b:null,S=!!_&&this.mutatedKeys.has(_.key),x=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let C=!1;_&&w?_.data.isEqual(w.data)?S!==x&&(r.track({type:3,doc:w}),C=!0):this.ja(_,w)||(r.track({type:2,doc:w}),C=!0,(f&&this.Ua(w,f)>0||m&&this.Ua(w,m)<0)&&(d=!0)):!_&&w?(r.track({type:0,doc:w}),C=!0):_&&!w&&(r.track({type:1,doc:_}),C=!0,(f||m)&&(d=!0)),C&&(w?(u=u.add(w),o=x?o.add(y):o.delete(y)):(u=u.delete(y),o=o.delete(y)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const y=this.query.limitType==="F"?u.last():u.first();u=u.delete(y.key),o=o.delete(y.key),r.track({type:1,doc:y})}return{Ka:u,za:r,ys:d,mutatedKeys:o}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const u=e.za.da();u.sort((y,b)=>function(w,S){const x=C=>{switch(C){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ze(20277,{Vt:C})}};return x(w)-x(S)}(y.type,b.type)||this.Ua(y.doc,b.doc)),this.Ha(r),s=s!=null&&s;const d=n&&!s?this.Ja():[],f=this.$a.size===0&&this.current&&!s?1:0,m=f!==this.Qa;return this.Qa=f,u.length!==0||m?{snapshot:new nu(this.query,e.Ka,o,u,e.mutatedKeys,f===0,m,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:d}:{Ya:d}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new xw,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=_t(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new dx(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new cx(r))}),n}Xa(e){this.qa=e.Ns,this.$a=_t();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return nu.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Gv="SyncEngine";class fL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class hL{constructor(e){this.key=e,this.tu=!1}}class mL{constructor(e,n,r,s,o,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.nu={},this.ru=new qo(d=>CA(d),pm),this.iu=new Map,this.su=new Set,this.ou=new Wt(qe.comparator),this._u=new Map,this.au=new Pv,this.uu={},this.cu=new Map,this.lu=tu.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function pL(t,e,n=!0){const r=yx(t);let s;const o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.eu()):s=await fx(r,e,n,!0),s}async function gL(t,e){const n=yx(t);await fx(n,e,!0,!1)}async function fx(t,e,n,r){const s=await LP(t.localStore,Wi(e)),o=s.targetId,u=t.sharedClientState.addLocalQueryTarget(o,n);let d;return r&&(d=await yL(t,e,o,u==="current",s.resumeToken)),t.isPrimaryClient&&n&&tx(t.remoteStore,s),d}async function yL(t,e,n,r,s){t.Pu=(b,_,w)=>async function(x,C,V,L){let $=C.view.Ga(V);$.ys&&($=await bw(x.localStore,C.query,!1).then(({documents:U})=>C.view.Ga(U,$)));const Y=L&&L.targetChanges.get(C.targetId),G=L&&L.targetMismatches.get(C.targetId)!=null,F=C.view.applyChanges($,x.isPrimaryClient,Y,G);return Nw(x,C.targetId,F.Ya),F.snapshot}(t,b,_,w);const o=await bw(t.localStore,e,!0),u=new dL(e,o.Ns),d=u.Ga(o.documents),f=bd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),m=u.applyChanges(d,t.isPrimaryClient,f);Nw(t,n,m.Ya);const y=new fL(e,n,u);return t.ru.set(e,y),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),m.snapshot}async function vL(t,e,n){const r=it(t),s=r.ru.get(e),o=r.iu.get(s.targetId);if(o.length>1)return r.iu.set(s.targetId,o.filter(u=>!pm(u,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Vy(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&jv(r.remoteStore,s.targetId),zy(r,s.targetId)}).catch(gu)):(zy(r,s.targetId),await Vy(r.localStore,s.targetId,!0))}async function _L(t,e){const n=it(t),r=n.ru.get(e),s=n.iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),jv(n.remoteStore,r.targetId))}async function bL(t,e,n){const r=CL(t);try{const s=await function(u,d){const f=it(u),m=wn.now(),y=d.reduce((w,S)=>w.add(S.key),_t());let b,_;return f.persistence.runTransaction("Locally write mutations","readwrite",w=>{let S=Ps(),x=_t();return f.Cs.getEntries(w,y).next(C=>{S=C,S.forEach((V,L)=>{L.isValidDocument()||(x=x.add(V))})}).next(()=>f.localDocuments.getOverlayedDocuments(w,S)).next(C=>{b=C;const V=[];for(const L of d){const $=L4(L,b.get(L.key).overlayedDocument);$!=null&&V.push(new Qa(L.key,$,_A($.value.mapValue),_i.exists(!0)))}return f.mutationQueue.addMutationBatch(w,m,V,d)}).next(C=>{_=C;const V=C.applyToLocalDocumentSet(b,x);return f.documentOverlayCache.saveOverlays(w,C.batchId,V)})}).then(()=>({batchId:_.batchId,changes:NA(b)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,d,f){let m=u.uu[u.currentUser.toKey()];m||(m=new Wt(ut)),m=m.insert(d,f),u.uu[u.currentUser.toKey()]=m}(r,s.batchId,n),await Td(r,s.changes),await Tm(r.remoteStore)}catch(s){const o=Hv(s,"Failed to persist write");n.reject(o)}}async function hx(t,e){const n=it(t);try{const r=await kP(n.localStore,e);e.targetChanges.forEach((s,o)=>{const u=n._u.get(o);u&&(Mt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.tu=!0:s.modifiedDocuments.size>0?Mt(u.tu,14607):s.removedDocuments.size>0&&(Mt(u.tu,42227),u.tu=!1))}),await Td(n,r,e)}catch(r){await gu(r)}}function Iw(t,e,n){const r=it(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ru.forEach((o,u)=>{const d=u.view.ga(e);d.snapshot&&s.push(d.snapshot)}),function(u,d){const f=it(u);f.onlineState=d;let m=!1;f.queries.forEach((y,b)=>{for(const _ of b.Ra)_.ga(d)&&(m=!0)}),m&&qv(f)}(r.eventManager,e),s.length&&r.nu.Q_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function EL(t,e,n){const r=it(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r._u.get(e),o=s&&s.key;if(o){let u=new Wt(qe.comparator);u=u.insert(o,Zn.newNoDocument(o,nt.min()));const d=_t().add(o),f=new _m(nt.min(),new Map,new Wt(ut),u,d);await hx(r,f),r.ou=r.ou.remove(o),r._u.delete(e),Kv(r)}else await Vy(r.localStore,e,!1).then(()=>zy(r,e,n)).catch(gu)}async function TL(t,e){const n=it(t),r=e.batch.batchId;try{const s=await DP(n.localStore,e);px(n,r,null),mx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Td(n,s)}catch(s){await gu(s)}}async function wL(t,e,n){const r=it(t);try{const s=await function(u,d){const f=it(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return f.mutationQueue.lookupMutationBatch(m,d).next(b=>(Mt(b!==null,37113),y=b.keys(),f.mutationQueue.removeMutationBatch(m,b))).next(()=>f.mutationQueue.performConsistencyCheck(m)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(m,y,d)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y)).next(()=>f.localDocuments.getDocuments(m,y))})}(r.localStore,e);px(r,e,n),mx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Td(r,s)}catch(s){await gu(s)}}function mx(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function px(t,e,n){const r=it(t);let s=r.uu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(n?o.reject(n):o.resolve(),s=s.remove(e)),r.uu[r.currentUser.toKey()]=s}}function zy(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||gx(t,r)})}function gx(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(jv(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),Kv(t))}function Nw(t,e,n){for(const r of n)r instanceof cx?(t.au.addReference(r.key,e),SL(t,r)):r instanceof dx?(De(Gv,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||gx(t,r.key)):Ze(19791,{Iu:r})}function SL(t,e){const n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(De(Gv,"New document in limbo: "+n),t.su.add(r),Kv(t))}function Kv(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new qe(Gt.fromString(e)),r=t.lu.next();t._u.set(r,new hL(n)),t.ou=t.ou.insert(n,r),tx(t.remoteStore,new Aa(Wi(Iv(n.path)),r,"TargetPurposeLimboResolution",fm.le))}}async function Td(t,e,n){const r=it(t),s=[],o=[],u=[];r.ru.isEmpty()||(r.ru.forEach((d,f)=>{u.push(r.Pu(f,e,n).then(m=>{var y;if((m||n)&&r.isPrimaryClient){const b=m?!m.fromCache:(y=n==null?void 0:n.targetChanges.get(f.targetId))===null||y===void 0?void 0:y.current;r.sharedClientState.updateQueryState(f.targetId,b?"current":"not-current")}if(m){s.push(m);const b=Vv.Ps(f.targetId,m);o.push(b)}}))}),await Promise.all(u),r.nu.Q_(s),await async function(f,m){const y=it(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>me.forEach(m,_=>me.forEach(_.ls,w=>y.persistence.referenceDelegate.addReference(b,_.targetId,w)).next(()=>me.forEach(_.hs,w=>y.persistence.referenceDelegate.removeReference(b,_.targetId,w)))))}catch(b){if(!yu(b))throw b;De(Uv,"Failed to update sequence numbers: "+b)}for(const b of m){const _=b.targetId;if(!b.fromCache){const w=y.Ss.get(_),S=w.snapshotVersion,x=w.withLastLimboFreeSnapshotVersion(S);y.Ss=y.Ss.insert(_,x)}}}(r.localStore,o))}async function AL(t,e){const n=it(t);if(!n.currentUser.isEqual(e)){De(Gv,"User change. New user:",e.toKey());const r=await WA(n.localStore,e);n.currentUser=e,function(o,u){o.cu.forEach(d=>{d.forEach(f=>{f.reject(new ke(he.CANCELLED,u))})}),o.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Td(n,r.Ms)}}function xL(t,e){const n=it(t),r=n._u.get(e);if(r&&r.tu)return _t().add(r.key);{let s=_t();const o=n.iu.get(e);if(!o)return s;for(const u of o){const d=n.ru.get(u);s=s.unionWith(d.view.Wa)}return s}}function yx(t){const e=it(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=hx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=EL.bind(null,e),e.nu.Q_=uL.bind(null,e.eventManager),e.nu.Tu=cL.bind(null,e.eventManager),e}function CL(t){const e=it(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wL.bind(null,e),e}class Bh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=bm(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return OP(this.persistence,new RP,e.initialUser,this.serializer)}Ru(e){return new XA(Lv.Ei,this.serializer)}Au(e){return new UP}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bh.provider={build:()=>new Bh};class RL extends Bh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){Mt(this.persistence.referenceDelegate instanceof jh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new hP(r,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?_r.withCacheSize(this.cacheSizeBytes):_r.DEFAULT;return new XA(r=>jh.Ei(r,n),this.serializer)}}class By{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Iw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=AL.bind(null,this.syncEngine),await aL(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lL}()}createDatastore(e){const n=bm(e.databaseInfo.databaseId),r=function(o){return new $P(o)}(e.databaseInfo);return function(o,u,d,f){return new KP(o,u,d,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,u,d){return new QP(r,s,o,u,d)}(this.localStore,this.datastore,e.asyncQueue,n=>Iw(this.syncEngine,n,0),function(){return ww.C()?new ww:new jP}())}createSyncEngine(e,n){return function(s,o,u,d,f,m,y){const b=new mL(s,o,u,d,f,m);return y&&(b.hu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const o=it(s);De(Vo,"RemoteStore shutting down."),o.aa.add(5),await Ed(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}By.provider={build:()=>new By};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Ms("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba="FirestoreClient";class IL{constructor(e,n,r,s,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Wn.UNAUTHENTICATED,this.clientId=uA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async u=>{De(Ba,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(De(Ba,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Os;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Hv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ey(t,e){t.asyncQueue.verifyOperationInProgress(),De(Ba,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await WA(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Ow(t,e){t.asyncQueue.verifyOperationInProgress();const n=await NL(t);De(Ba,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Aw(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>Aw(e.remoteStore,s)),t._onlineComponents=e}async function NL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){De(Ba,"Using user provided OfflineComponentProvider");try{await ey(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===he.FAILED_PRECONDITION||s.code===he.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;Wl("Error using user provided cache. Falling back to memory cache: "+n),await ey(t,new Bh)}}else De(Ba,"Using default OfflineComponentProvider"),await ey(t,new RL(void 0));return t._offlineComponents}async function _x(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(De(Ba,"Using user provided OnlineComponentProvider"),await Ow(t,t._uninitializedComponentsProvider._online)):(De(Ba,"Using default OnlineComponentProvider"),await Ow(t,new By))),t._onlineComponents}function OL(t){return _x(t).then(e=>e.syncEngine)}async function bx(t){const e=await _x(t),n=e.eventManager;return n.onListen=pL.bind(null,e.syncEngine),n.onUnlisten=vL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_L.bind(null,e.syncEngine),n}function DL(t,e,n={}){const r=new Os;return t.asyncQueue.enqueueAndForget(async()=>function(o,u,d,f,m){const y=new vx({next:_=>{y.yu(),u.enqueueAndForget(()=>lx(o,b));const w=_.docs.has(d);!w&&_.fromCache?m.reject(new ke(he.UNAVAILABLE,"Failed to get document because the client is offline.")):w&&_.fromCache&&f&&f.source==="server"?m.reject(new ke(he.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):m.resolve(_)},error:_=>m.reject(_)}),b=new ux(Iv(d.path),y,{includeMetadataChanges:!0,Fa:!0});return ox(o,b)}(await bx(t),t.asyncQueue,e,n,r)),r.promise}function kL(t,e,n={}){const r=new Os;return t.asyncQueue.enqueueAndForget(async()=>function(o,u,d,f,m){const y=new vx({next:_=>{y.yu(),u.enqueueAndForget(()=>lx(o,b)),_.fromCache&&f.source==="server"?m.reject(new ke(he.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(_)},error:_=>m.reject(_)}),b=new ux(d,y,{includeMetadataChanges:!0,Fa:!0});return ox(o,b)}(await bx(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t,e,n){if(!n)throw new ke(he.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function ML(t,e,n,r){if(e===!0&&r===!0)throw new ke(he.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function kw(t){if(!qe.isDocumentKey(t))throw new ke(he.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Mw(t){if(qe.isDocumentKey(t))throw new ke(he.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function wm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ze(12329,{type:typeof t})}function Ls(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ke(he.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wm(t);throw new ke(he.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wx="firestore.googleapis.com",Pw=!0;class Lw{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ke(he.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=wx,this.ssl=Pw}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Pw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=QA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dP)throw new ke(he.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}ML("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ex((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ke(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ke(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ke(he.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sm{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ke(he.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ke(he.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new FM;switch(r.type){case"firstParty":return new GM(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ke(he.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,hu("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Dw.get(n);r&&(De("ComponentProvider","Removing Datastore"),Dw.delete(n),r.terminate())}(this),Promise.resolve()}}function PL(t,e,n,r={}){var s;t=Ls(t,Sm);const o=$o(e),u=t._getSettings(),d=Object.assign(Object.assign({},u),{emulatorOptions:t._getEmulatorOptions()}),f=`${e}:${n}`;u.host!==wx&&u.host!==f&&Wl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m=Object.assign(Object.assign({},u),{host:f,ssl:o,emulatorOptions:r});if(!Do(m,d)&&(t._setSettings(m),o&&(uv(`https://${f}`),hu("Firestore",!0)),r.mockUserToken)){let y,b;if(typeof r.mockUserToken=="string")y=r.mockUserToken,b=Wn.MOCK_USER;else{y=m1(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new ke(he.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Wn(_)}t._authCredentials=new $M(new oA(y,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ko(this.firestore,e,this._query)}}class Tr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Da(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tr(this.firestore,e,this._key)}}class Da extends Ko{constructor(e,n,r){super(e,n,Iv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tr(this.firestore,null,new qe(e))}withConverter(e){return new Da(this.firestore,e,this._path)}}function Fa(t,e,...n){if(t=Qt(t),Tx("collection","path",e),t instanceof Sm){const r=Gt.fromString(e,...n);return Mw(r),new Da(t,null,r)}{if(!(t instanceof Tr||t instanceof Da))throw new ke(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Gt.fromString(e,...n));return Mw(r),new Da(t.firestore,null,r)}}function Am(t,e,...n){if(t=Qt(t),arguments.length===1&&(e=uA.newId()),Tx("doc","path",e),t instanceof Sm){const r=Gt.fromString(e,...n);return kw(r),new Tr(t,null,new qe(r))}{if(!(t instanceof Tr||t instanceof Da))throw new ke(he.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Gt.fromString(e,...n));return kw(r),new Tr(t.firestore,t instanceof Da?t.converter:null,new qe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="AsyncQueue";class Uw{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new JA(this,"async_queue_retry"),this.ju=()=>{const r=Jg();r&&De(Vw,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=Jg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=Jg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Os;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!yu(e))throw e;De(Vw,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Ms("INTERNAL UNHANDLED ERROR: ",jw(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const s=$v.createAndSchedule(this,e,n,r,o=>this.Xu(o));return this.Uu.push(s),s}Ju(){this.Ku&&Ze(47125,{ec:jw(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function jw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class bu extends Sm{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new Uw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Uw(e),this._firestoreClient=void 0,await e}}}function LL(t,e){const n=typeof t=="object"?t:fv(),r=typeof t=="string"?t:kh,s=lm(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=d1("firestore");o&&PL(s,...o)}return s}function Yv(t){if(t._terminated)throw new ke(he.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||VL(t),t._firestoreClient}function VL(t){var e,n,r;const s=t._freezeSettings(),o=function(d,f,m,y){return new o4(d,f,m,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,Ex(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new IL(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ru(Hn.fromBase64String(e))}catch(n){throw new ke(he.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ru(Hn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ke(he.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $n(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ke(he.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ke(he.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ut(this._lat,e._lat)||ut(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wv{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL=/^__.*__$/;class jL{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Qa(e,this.data,this.fieldMask,n,this.fieldTransforms):new _d(e,this.data,n,this.fieldTransforms)}}class Sx{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Qa(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ax(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ze(40011,{oc:t})}}class Zv{constructor(e,n,r,s,o,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Zv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ac({path:r,cc:!1});return s.lc(e),s}hc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.ac({path:r,cc:!1});return s._c(),s}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Fh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(Ax(this.oc)&&UL.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class zL{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||bm(e)}dc(e,n,r,s=!1){return new Zv({oc:e,methodName:n,Ec:r,path:$n.emptyPath(),cc:!1,Ic:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jv(t){const e=t._freezeSettings(),n=bm(t._databaseId);return new zL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function BL(t,e,n,r,s,o={}){const u=t.dc(o.merge||o.mergeFields?2:0,e,n,s);e_("Data must be an object, but it was:",u,r);const d=xx(r,u);let f,m;if(o.merge)f=new jr(u.fieldMask),m=u.fieldTransforms;else if(o.mergeFields){const y=[];for(const b of o.mergeFields){const _=Fy(e,b,n);if(!u.contains(_))throw new ke(he.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);Rx(y,_)||y.push(_)}f=new jr(y),m=u.fieldTransforms.filter(b=>f.covers(b.field))}else f=null,m=u.fieldTransforms;return new jL(new br(d),f,m)}class Cm extends Qv{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Cm}}function FL(t,e,n,r){const s=t.dc(1,e,n);e_("Data must be an object, but it was:",s,r);const o=[],u=br.empty();Ya(r,(f,m)=>{const y=t_(e,f,n);m=Qt(m);const b=s.hc(y);if(m instanceof Cm)o.push(y);else{const _=wd(m,b);_!=null&&(o.push(y),u.set(y,_))}});const d=new jr(o);return new Sx(u,d,s.fieldTransforms)}function $L(t,e,n,r,s,o){const u=t.dc(1,e,n),d=[Fy(e,r,n)],f=[s];if(o.length%2!=0)throw new ke(he.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)d.push(Fy(e,o[_])),f.push(o[_+1]);const m=[],y=br.empty();for(let _=d.length-1;_>=0;--_)if(!Rx(m,d[_])){const w=d[_];let S=f[_];S=Qt(S);const x=u.hc(w);if(S instanceof Cm)m.push(w);else{const C=wd(S,x);C!=null&&(m.push(w),y.set(w,C))}}const b=new jr(m);return new Sx(y,b,u.fieldTransforms)}function HL(t,e,n,r=!1){return wd(n,t.dc(r?4:3,e))}function wd(t,e){if(Cx(t=Qt(t)))return e_("Unsupported field value:",e,t),xx(t,e);if(t instanceof Qv)return function(r,s){if(!Ax(s.oc))throw s.Tc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Tc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,s){const o=[];let u=0;for(const d of r){let f=wd(d,s.Pc(u));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),u++}return{arrayValue:{values:o}}}(t,e)}return function(r,s){if((r=Qt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return N4(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=wn.fromDate(r);return{timestampValue:Uh(s.serializer,o)}}if(r instanceof wn){const o=new wn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Uh(s.serializer,o)}}if(r instanceof Xv)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ru)return{bytesValue:FA(s.serializer,r._byteString)};if(r instanceof Tr){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.Tc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Mv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Wv)return function(u,d){return{mapValue:{fields:{[yA]:{stringValue:vA},[Mh]:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw d.Tc("VectorValues must only contain numeric values.");return Nv(d.serializer,m)})}}}}}}(r,s);throw s.Tc(`Unsupported field value: ${wm(r)}`)}(t,e)}function xx(t,e){const n={};return dA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ya(t,(r,s)=>{const o=wd(s,e.uc(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function Cx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wn||t instanceof Xv||t instanceof ru||t instanceof Tr||t instanceof Qv||t instanceof Wv)}function e_(t,e,n){if(!Cx(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const r=wm(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function Fy(t,e,n){if((e=Qt(e))instanceof xm)return e._internalPath;if(typeof e=="string")return t_(t,e);throw Fh("Field path arguments must be of type string or ",t,!1,void 0,n)}const qL=new RegExp("[~\\*/\\[\\]]");function t_(t,e,n){if(e.search(qL)>=0)throw Fh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new xm(...e.split("."))._internalPath}catch{throw Fh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fh(t,e,n,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(o||u)&&(f+=" (found",o&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new ke(he.INVALID_ARGUMENT,d+t+f)}function Rx(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{constructor(e,n,r,s,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Tr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new GL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Rm("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class GL extends Ix{data(){return super.data()}}function Rm(t,e){return typeof e=="string"?t_(t,e):e instanceof xm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ke(he.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class n_{}class Nx extends n_{}function iu(t,e,...n){let r=[];e instanceof n_&&r.push(e),r=r.concat(n),function(o){const u=o.filter(f=>f instanceof r_).length,d=o.filter(f=>f instanceof Im).length;if(u>1||u>0&&d>0)throw new ke(he.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Im extends Nx{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Im(e,n,r)}_apply(e){const n=this._parse(e);return Ox(e._query,n),new Ko(e.firestore,e.converter,Oy(e._query,n))}_parse(e){const n=Jv(e.firestore);return function(o,u,d,f,m,y,b){let _;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new ke(he.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Fw(b,y);const S=[];for(const x of b)S.push(Bw(f,o,x));_={arrayValue:{values:S}}}else _=Bw(f,o,b)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Fw(b,y),_=HL(d,u,b,y==="in"||y==="not-in");return gn.create(m,y,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Nm(t,e,n){const r=e,s=Rm("where",t);return Im._create(s,r,n)}class r_ extends n_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new r_(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ti.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,o){let u=s;const d=o.getFlattenedFilters();for(const f of d)Ox(u,f),u=Oy(u,f)}(e._query,n),new Ko(e.firestore,e.converter,Oy(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class i_ extends Nx{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new i_(e,n)}_apply(e){const n=function(s,o,u){if(s.startAt!==null)throw new ke(he.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ke(he.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rd(o,u)}(e._query,this._field,this._direction);return new Ko(e.firestore,e.converter,function(s,o){const u=s.explicitOrderBy.concat([o]);return new vu(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function zw(t,e="asc"){const n=e,r=Rm("orderBy",t);return i_._create(r,n)}function Bw(t,e,n){if(typeof(n=Qt(n))=="string"){if(n==="")throw new ke(he.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xA(e)&&n.indexOf("/")!==-1)throw new ke(he.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Gt.fromString(n));if(!qe.isDocumentKey(r))throw new ke(he.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return tw(t,new qe(r))}if(n instanceof Tr)return tw(t,n._key);throw new ke(he.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wm(n)}.`)}function Fw(t,e){if(!Array.isArray(t)||t.length===0)throw new ke(he.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ox(t,e){const n=function(s,o){for(const u of s)for(const d of u.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ke(he.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ke(he.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class YL{convertValue(e,n="none"){switch(ja(e)){case 0:return null;case 1:return e.booleanValue;case 2:return an(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ua(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ze(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ya(e,(s,o)=>{r[s]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,s;const o=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[Mh].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(u=>an(u.doubleValue));return new Wv(o)}convertGeoPoint(e){return new Xv(an(e.latitude),an(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=mm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ed(e));default:return null}}convertTimestamp(e){const n=Va(e);return new wn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Gt.fromString(e);Mt(YA(r),9688,{name:e});const s=new td(r.get(1),r.get(3)),o=new qe(r.popFirst(5));return s.isEqual(n)||Ms(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QL(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dx extends Ix{constructor(e,n,r,s,o,u){super(e,n,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new mh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Rm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class mh extends Dx{data(e={}){return super.data(e)}}class XL{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Mc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new mh(this._firestore,this._userDataWriter,r.key,r,new Mc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ke(he.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map(d=>{const f=new mh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Mc(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}})}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(d=>o||d.type!==3).map(d=>{const f=new mh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Mc(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let m=-1,y=-1;return d.type!==0&&(m=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),y=u.indexOf(d.doc.key)),{type:WL(d.type),doc:f,oldIndex:m,newIndex:y}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function WL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ze(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZL(t){t=Ls(t,Tr);const e=Ls(t.firestore,bu);return DL(Yv(e),t._key).then(n=>tV(e,t,n))}class kx extends YL{constructor(e){super(),this.firestore=e}convertBytes(e){return new ru(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tr(this.firestore,null,n)}}function su(t){t=Ls(t,Ko);const e=Ls(t.firestore,bu),n=Yv(e),r=new kx(e);return KL(t._query),kL(n,t._query).then(s=>new XL(e,r,t,s))}function JL(t,e,n,...r){t=Ls(t,Tr);const s=Ls(t.firestore,bu),o=Jv(s);let u;return u=typeof(e=Qt(e))=="string"||e instanceof xm?$L(o,"updateDoc",t._key,e,n,r):FL(o,"updateDoc",t._key,e),s_(s,[u.toMutation(t._key,_i.exists(!0))])}function eV(t){return s_(Ls(t.firestore,bu),[new Ov(t._key,_i.none())])}function Mx(t,e){const n=Ls(t.firestore,bu),r=Am(t),s=QL(t.converter,e);return s_(n,[BL(Jv(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,_i.exists(!1))]).then(()=>r)}function s_(t,e){return function(r,s){const o=new Os;return r.asyncQueue.enqueueAndForget(async()=>bL(await OL(r),s,o)),o.promise}(Yv(t),e)}function tV(t,e,n){const r=n.docs.get(e._key),s=new kx(t);return new Dx(t,s,e._key,r,new Mc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){pu=s})(Ho),ko(new Pa("firestore",(r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),d=new bu(new HM(r.getProvider("auth-internal")),new KM(u,r.getProvider("app-check-internal")),function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new ke(he.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new td(m.options.projectId,y)}(u,s),u);return o=Object.assign({useFetchStreams:n},o),d._setSettings(o),d},"PUBLIC").setMultipleInstances(!0)),Yi($T,HT,e),Yi($T,HT,"esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Px="firebasestorage.googleapis.com",Lx="storageBucket",nV=2*60*1e3,rV=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn extends ts{constructor(e,n,r=0){super(ty(e),`Firebase Storage: ${n} (${ty(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,tn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ty(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var en;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(en||(en={}));function ty(t){return"storage/"+t}function a_(){const t="An unknown error occurred, please check the error payload for server response.";return new tn(en.UNKNOWN,t)}function iV(t){return new tn(en.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function sV(t){return new tn(en.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function aV(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new tn(en.UNAUTHENTICATED,t)}function oV(){return new tn(en.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function lV(t){return new tn(en.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function uV(){return new tn(en.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function cV(){return new tn(en.CANCELED,"User canceled the upload/download.")}function dV(t){return new tn(en.INVALID_URL,"Invalid URL '"+t+"'.")}function fV(t){return new tn(en.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function hV(){return new tn(en.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Lx+"' property when initializing the app?")}function mV(){return new tn(en.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function pV(){return new tn(en.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function gV(t){return new tn(en.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function $y(t){return new tn(en.INVALID_ARGUMENT,t)}function Vx(){return new tn(en.APP_DELETED,"The Firebase app was deleted.")}function yV(t){return new tn(en.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Hc(t,e){return new tn(en.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Sc(t){throw new tn(en.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=zr.makeFromUrl(e,n)}catch{return new zr(e,"")}if(r.path==="")return r;throw fV(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(Y){Y.path.charAt(Y.path.length-1)==="/"&&(Y.path_=Y.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+s+u,"i"),f={bucket:1,path:3};function m(Y){Y.path_=decodeURIComponent(Y.path)}const y="v[A-Za-z0-9_]+",b=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",w=new RegExp(`^https?://${b}/${y}/b/${s}/o${_}`,"i"),S={bucket:1,path:3},x=n===Px?"(?:storage.googleapis.com|storage.cloud.google.com)":n,C="([^?#]*)",V=new RegExp(`^https?://${x}/${s}/${C}`,"i"),$=[{regex:d,indices:f,postModify:o},{regex:w,indices:S,postModify:m},{regex:V,indices:{bucket:1,path:2},postModify:m}];for(let Y=0;Y<$.length;Y++){const G=$[Y],F=G.regex.exec(e);if(F){const U=F[G.indices.bucket];let R=F[G.indices.path];R||(R=""),r=new zr(U,R),G.postModify(r);break}}if(r==null)throw dV(e);return r}}class vV{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _V(t,e,n){let r=1,s=null,o=null,u=!1,d=0;function f(){return d===2}let m=!1;function y(...C){m||(m=!0,e.apply(null,C))}function b(C){s=setTimeout(()=>{s=null,t(w,f())},C)}function _(){o&&clearTimeout(o)}function w(C,...V){if(m){_();return}if(C){_(),y.call(null,C,...V);return}if(f()||u){_(),y.call(null,C,...V);return}r<64&&(r*=2);let $;d===1?(d=2,$=0):$=(r+Math.random())*1e3,b($)}let S=!1;function x(C){S||(S=!0,_(),!m&&(s!==null?(C||(d=2),clearTimeout(s),b(0)):C||(d=1)))}return b(0),o=setTimeout(()=>{u=!0,x(!0)},n),x}function bV(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EV(t){return t!==void 0}function TV(t){return typeof t=="object"&&!Array.isArray(t)}function o_(t){return typeof t=="string"||t instanceof String}function $w(t){return l_()&&t instanceof Blob}function l_(){return typeof Blob<"u"}function Hw(t,e,n,r){if(r<e)throw $y(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw $y(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Ux(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}var Oo;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Oo||(Oo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wV(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(e,n,r,s,o,u,d,f,m,y,b,_=!0,w=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=f,this.timeout_=m,this.progressCallback_=y,this.connectionFactory_=b,this.retry=_,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,x)=>{this.resolve_=S,this.reject_=x,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Wf(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=d=>{const f=d.loaded,m=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,m)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const d=o.getErrorCode()===Oo.NO_ERROR,f=o.getStatus();if(!d||wV(f,this.additionalRetryCodes_)&&this.retry){const y=o.getErrorCode()===Oo.ABORT;r(!1,new Wf(!1,null,y));return}const m=this.successCodes_.indexOf(f)!==-1;r(!0,new Wf(m,o))})},n=(r,s)=>{const o=this.resolve_,u=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());EV(f)?o(f):o()}catch(f){u(f)}else if(d!==null){const f=a_();f.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,f)):u(f)}else if(s.canceled){const f=this.appDelete_?Vx():cV();u(f)}else{const f=uV();u(f)}};this.canceled_?n(!1,new Wf(!1,null,!0)):this.backoffId_=_V(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&bV(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function AV(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function xV(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function CV(t,e){e&&(t["X-Firebase-GMPID"]=e)}function RV(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function IV(t,e,n,r,s,o,u=!0,d=!1){const f=Ux(t.urlParams),m=t.url+f,y=Object.assign({},t.headers);return CV(y,e),AV(y,n),xV(y,o),RV(y,r),new SV(m,t.method,y,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,u,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NV(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function OV(...t){const e=NV();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(l_())return new Blob(t);throw new tn(en.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function DV(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kV(t){if(typeof atob>"u")throw gV("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ny{constructor(e,n){this.data=e,this.contentType=n||null}}function MV(t,e){switch(t){case qi.RAW:return new ny(jx(e));case qi.BASE64:case qi.BASE64URL:return new ny(zx(t,e));case qi.DATA_URL:return new ny(LV(e),VV(e))}throw a_()}function jx(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,u=t.charCodeAt(++n);r=65536|(o&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function PV(t){let e;try{e=decodeURIComponent(t)}catch{throw Hc(qi.DATA_URL,"Malformed data URL.")}return jx(e)}function zx(t,e){switch(t){case qi.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw Hc(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case qi.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw Hc(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=kV(e)}catch(s){throw s.message.includes("polyfill")?s:Hc(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class Bx{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Hc(qi.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=UV(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function LV(t){const e=new Bx(t);return e.base64?zx(qi.BASE64,e.rest):PV(e.rest)}function VV(t){return new Bx(t).contentType}function UV(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ta{constructor(e,n){let r=0,s="";$w(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if($w(this.data_)){const r=this.data_,s=DV(r,e,n);return s===null?null:new Ta(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ta(r,!0)}}static getBlob(...e){if(l_()){const n=e.map(r=>r instanceof Ta?r.data_:r);return new Ta(OV.apply(null,n))}else{const n=e.map(u=>o_(u)?MV(qi.RAW,u).data:u.data_);let r=0;n.forEach(u=>{r+=u.byteLength});const s=new Uint8Array(r);let o=0;return n.forEach(u=>{for(let d=0;d<u.length;d++)s[o++]=u[d]}),new Ta(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fx(t){let e;try{e=JSON.parse(t)}catch{return null}return TV(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jV(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function zV(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function $x(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BV(t,e){return e}class ar{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||BV}}let Zf=null;function FV(t){return!o_(t)||t.length<2?t:$x(t)}function Hx(){if(Zf)return Zf;const t=[];t.push(new ar("bucket")),t.push(new ar("generation")),t.push(new ar("metageneration")),t.push(new ar("name","fullPath",!0));function e(o,u){return FV(u)}const n=new ar("name");n.xform=e,t.push(n);function r(o,u){return u!==void 0?Number(u):u}const s=new ar("size");return s.xform=r,t.push(s),t.push(new ar("timeCreated")),t.push(new ar("updated")),t.push(new ar("md5Hash",null,!0)),t.push(new ar("cacheControl",null,!0)),t.push(new ar("contentDisposition",null,!0)),t.push(new ar("contentEncoding",null,!0)),t.push(new ar("contentLanguage",null,!0)),t.push(new ar("contentType",null,!0)),t.push(new ar("metadata","customMetadata",!0)),Zf=t,Zf}function $V(t,e){function n(){const r=t.bucket,s=t.fullPath,o=new zr(r,s);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function HV(t,e,n){const r={};r.type="file";const s=n.length;for(let o=0;o<s;o++){const u=n[o];r[u.local]=u.xform(r,e[u.server])}return $V(r,t),r}function qx(t,e,n){const r=Fx(e);return r===null?null:HV(t,r,n)}function qV(t,e,n,r){const s=Fx(e);if(s===null||!o_(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const u=encodeURIComponent;return o.split(",").map(m=>{const y=t.bucket,b=t.fullPath,_="/b/"+u(y)+"/o/"+u(b),w=Om(_,n,r),S=Ux({alt:"media",token:m});return w+S})[0]}function GV(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const o=e[s];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class u_{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gx(t){if(!t)throw a_()}function KV(t,e){function n(r,s){const o=qx(t,s,e);return Gx(o!==null),o}return n}function YV(t,e){function n(r,s){const o=qx(t,s,e);return Gx(o!==null),qV(o,s,t.host,t._protocol)}return n}function Kx(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=oV():s=aV():n.getStatus()===402?s=sV(t.bucket):n.getStatus()===403?s=lV(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function Yx(t){const e=Kx(t);function n(r,s){let o=e(r,s);return r.getStatus()===404&&(o=iV(t.path)),o.serverResponse=s.serverResponse,o}return n}function QV(t,e,n){const r=e.fullServerUrl(),s=Om(r,t.host,t._protocol),o="GET",u=t.maxOperationRetryTime,d=new u_(s,o,YV(t,n),u);return d.errorHandler=Yx(e),d}function XV(t,e){const n=e.fullServerUrl(),r=Om(n,t.host,t._protocol),s="DELETE",o=t.maxOperationRetryTime;function u(f,m){}const d=new u_(r,s,u,o);return d.successCodes=[200,204],d.errorHandler=Yx(e),d}function WV(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function ZV(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=WV(null,e)),r}function JV(t,e,n,r,s){const o=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function d(){let $="";for(let Y=0;Y<2;Y++)$=$+Math.random().toString().slice(2);return $}const f=d();u["Content-Type"]="multipart/related; boundary="+f;const m=ZV(e,r,s),y=GV(m,n),b="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+y+`\r
--`+f+`\r
Content-Type: `+m.contentType+`\r
\r
`,_=`\r
--`+f+"--",w=Ta.getBlob(b,r,_);if(w===null)throw mV();const S={name:m.fullPath},x=Om(o,t.host,t._protocol),C="POST",V=t.maxUploadRetryTime,L=new u_(x,C,KV(t,n),V);return L.urlParams=S,L.headers=u,L.body=w.uploadData(),L.errorHandler=Kx(e),L}class e3{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Oo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Oo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Oo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s,o){if(this.sent_)throw Sc("cannot .send() more than once");if($o(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Sc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Sc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Sc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Sc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class t3 extends e3{initXhr(){this.xhr_.responseType="text"}}function c_(){return new t3}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e,n){this._service=e,n instanceof zr?this._location=n:this._location=zr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Uo(e,n)}get root(){const e=new zr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $x(this._location.path)}get storage(){return this._service}get parent(){const e=jV(this._location.path);if(e===null)return null;const n=new zr(this._location.bucket,e);return new Uo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw yV(e)}}function n3(t,e,n){t._throwIfRoot("uploadBytes");const r=JV(t.storage,t._location,Hx(),new Ta(e,!0),n);return t.storage.makeRequestWithTokens(r,c_).then(s=>({metadata:s,ref:t}))}function r3(t){t._throwIfRoot("getDownloadURL");const e=QV(t.storage,t._location,Hx());return t.storage.makeRequestWithTokens(e,c_).then(n=>{if(n===null)throw pV();return n})}function i3(t){t._throwIfRoot("deleteObject");const e=XV(t.storage,t._location);return t.storage.makeRequestWithTokens(e,c_)}function s3(t,e){const n=zV(t._location.path,e),r=new zr(t._location.bucket,n);return new Uo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(t){return/^[A-Za-z]+:\/\//.test(t)}function o3(t,e){return new Uo(t,e)}function Qx(t,e){if(t instanceof d_){const n=t;if(n._bucket==null)throw hV();const r=new Uo(n,n._bucket);return e!=null?Qx(r,e):r}else return e!==void 0?s3(t,e):t}function l3(t,e){if(e&&a3(e)){if(t instanceof d_)return o3(t,e);throw $y("To use ref(service, url), the first argument must be a Storage instance.")}else return Qx(t,e)}function qw(t,e){const n=e==null?void 0:e[Lx];return n==null?null:zr.makeFromBucketSpec(n,t)}function u3(t,e,n,r={}){t.host=`${e}:${n}`;const s=$o(e);s&&(uv(`https://${t.host}`),hu("Storage",!0)),t._isUsingEmulator=!0,t._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(t._overrideAuthToken=typeof o=="string"?o:m1(o,t.app.options.projectId))}class d_{constructor(e,n,r,s,o,u=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=u,this._bucket=null,this._host=Px,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=nV,this._maxUploadRetryTime=rV,this._requests=new Set,s!=null?this._bucket=zr.makeFromBucketSpec(s,this._host):this._bucket=qw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=zr.makeFromBucketSpec(this._url,e):this._bucket=qw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Hw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Hw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Vr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Uo(this,e)}_makeRequest(e,n,r,s,o=!0){if(this._deleted)return new vV(Vx());{const u=IV(e,this._appId,r,s,n,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const Gw="@firebase/storage",Kw="0.13.10";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx="storage";function Wx(t,e,n){return t=Qt(t),n3(t,e,n)}function Zx(t){return t=Qt(t),r3(t)}function Jx(t){return t=Qt(t),i3(t)}function $h(t,e){return t=Qt(t),l3(t,e)}function c3(t=fv(),e){t=Qt(t),hu("Storage",!1);const r=lm(t,Xx).getImmediate({identifier:e}),s=d1("storage");return s&&d3(r,...s),r}function d3(t,e,n,r={}){u3(t,e,n,r)}function f3(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new d_(n,r,s,e,Ho)}function h3(){ko(new Pa(Xx,f3,"PUBLIC").setMultipleInstances(!0)),Yi(Gw,Kw,""),Yi(Gw,Kw,"esm2017")}h3();const m3={apiKey:"AIzaSyBzQF--Aykx-dxaTqRBEA4slZfXXq-tUmI",authDomain:"webcarros-88455.firebaseapp.com",projectId:"webcarros-88455",storageBucket:"webcarros-88455.firebasestorage.app",messagingSenderId:"973432866211",appId:"1:973432866211:web:b064f1eb6f7e2e48638616"},f_=y1(m3),bi=LL(f_),jo=UM(f_),Hh=c3(f_),Yo=B.createContext({});function p3({children:t}){const[e,n]=B.useState(null),[r,s]=B.useState(!0);B.useEffect(()=>{const u=Ck(jo,d=>{d?(n({uid:d.uid,name:d==null?void 0:d.displayName,email:d==null?void 0:d.email,phone:d==null?void 0:d.phoneNumber}),s(!1)):(n(null),s(!1))});return()=>{u()}},[]);function o({name:u,email:d,phone:f,uid:m}){n({name:u,email:d,uid:m,phone:f})}return D.jsx(Yo.Provider,{value:{signed:!!e,loadingAuth:r,handleInfoUser:o,user:e},children:t})}function g3(){const{signed:t,loadingAuth:e,user:n}=B.useContext(Yo),[r,s]=B.useState(null);return B.useEffect(()=>{async function o(){var u;if(n!=null&&n.uid){const d=Fa(bi,"profiles"),f=iu(d,Nm("uid","==",n.uid)),y=(u=(await su(f)).docs[0])==null?void 0:u.data();y!=null&&y.avatarUrl&&s(y.avatarUrl)}}o()},[n]),D.jsx("div",{className:"w-full flex items-center justify-center h-16 bg-white drop-shadow mb-4",children:D.jsxs("header",{className:"flex w-full max-w-7xl items-center justify-between px-4 mx-auto",children:[D.jsx(Ur,{to:"/",children:D.jsx("div",{className:" max-w-sm w-full hover:scale-105",children:D.jsxs("span",{className:"text-3xl font-bold",children:["ALN",D.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-blue-600 bg-clip-text text-transparent",children:"Motors"})]})})}),!e&&t&&D.jsx(Ur,{to:"/dashboard",children:D.jsx("div",{className:"border-2 rounded-full p-1 border-gray-900 hover:rotate-18",children:r?D.jsx("img",{src:r,alt:"Foto de perfil",className:"w-10 h-10 rounded-full object-cover"}):D.jsx(jN,{size:24,color:"#000"})})}),!e&&!t&&D.jsxs("div",{className:"flex gap-2",children:[D.jsx(Ur,{to:"/login",children:D.jsx("div",{className:"border-2 rounded-full p-1 border-blue-400 text-blue-400 hover:bg-blue-400 hover:text-white",children:"Login"})}),D.jsx(Ur,{to:"/register",children:D.jsx("div",{className:"border-2 rounded-full p-1 border-blue-400 text-blue-400 hover:bg-blue-400 hover:text-white",children:"Cadastre-se"})})]})]})})}function y3(){return D.jsxs(D.Fragment,{children:[D.jsx(g3,{}),D.jsx(z2,{}),D.jsx(LN,{})]})}function Qo({children:t}){return D.jsx("div",{className:"w-full max-w-7xl mx-auto px-4",children:t})}function v3(){const[t,e]=B.useState([]),[n,r]=B.useState([]),[s,o]=B.useState(""),[u,d]=B.useState(""),[f,m]=B.useState([]),[y,b]=B.useState(!1);B.useEffect(()=>{_()},[]);function _(){b(!0);const x=Fa(bi,"cars"),C=iu(x,zw("created","desc"));su(C).then(V=>{let L=[];const $=new Set;V.forEach(Y=>{L.push({id:Y.id,name:Y.data().name,brand:Y.data().brand,year:Y.data().year,uid:Y.data().uid,price:Number(Y.data().price),city:Y.data().city,km:Y.data().km,images:Y.data().images}),Y.data().brand&&$.add(Y.data().brand)}),e(L),m(Array.from($)),b(!1)})}function w(x){r(C=>[...C,x])}async function S(){if(s===""&&u===""){_();return}e([]),r([]),b(!0);const x=Fa(bi,"cars"),C=iu(x,zw("created","desc")),V=await su(C),L=s.toLowerCase(),$=[];V.forEach(Y=>{var P,O;const G=Y.data(),F=((P=G.name)==null?void 0:P.toLowerCase())||"",U=((O=G.brand)==null?void 0:O.toLowerCase())||"",R=F.includes(L)||U.includes(L),k=u?U===u.toLowerCase():!0;R&&k&&$.push({id:Y.id,name:G.name,brand:G.brand,year:G.year,uid:G.uid,price:G.price,city:G.city,km:G.km,images:G.images})}),e($),b(!1)}return D.jsxs(Qo,{children:[D.jsxs("section",{className:"bg-white p-4 rounded-lg w-full max-w-3xl mx-auto flex justify-center items-center gap-2",children:[D.jsxs("select",{value:u,onChange:x=>d(x.target.value),className:"border-2 rounded-lg h-9 flex-1 mr-2",children:[D.jsx("option",{value:"",children:"Todas as marcas"}),f.map(x=>D.jsx("option",{value:x,children:x},x))]}),D.jsx("input",{className:"w-full border-2 rounded-lg h-9 px-3 outline-none",placeholder:"Digite o nome do carro",value:s,onChange:x=>o(x.target.value)}),D.jsx("button",{onClick:S,className:"bg-blue-300 hover:bg-blue-400 cursor-pointer h-9 px-8 rounded-lg text-white font-medium text-lg",children:"Buscar"})]}),D.jsx("h1",{className:"font-semibold text-center mt-6 text-2xl mb-4",children:"Carros novos e usados em todo Brasil"}),y?D.jsx("div",{className:"flex justify-center items-center h-32",children:D.jsx(am,{className:"animate-spin text-4xl"})}):D.jsx("main",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3 mb-10",children:t.map(x=>D.jsx(Ur,{to:`/car/${x.id}`,children:D.jsxs("section",{className:"w-full bg-white rounded-lg",children:[D.jsx("div",{className:"w-full h-72 ounded-lg bg-slate-200",style:{display:n.includes(x.id)?"none":"block"}}),D.jsx("img",{className:"w-full rounded-lg mb-2 max-h-56 hover:scale-105 transition-all",src:x.images[0].url,alt:x.name,onLoad:()=>w(x.id),style:{display:n.includes(x.id)?"block":"none"}}),D.jsxs("div",{className:"flex gap-2 ml-2",children:[D.jsx("h1",{className:"font-bold text-2xl text-black",children:x==null?void 0:x.brand}),D.jsx("h1",{className:"font-bold text-2xl text-black",children:x==null?void 0:x.name})]}),D.jsxs("div",{className:"flex flex-col px-2",children:[D.jsxs("span",{className:"text-zinc-700 mb-6",children:["Ano ",x.year," | ",x.km," km"]}),D.jsx("strong",{className:"text-black font-medium text-xl",children:x.price.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),D.jsx("div",{className:"w-full h-px bg-slate-200 my-2"}),D.jsx("div",{className:"px-2 pb-2",children:D.jsx("span",{className:"text-zinc-700",children:x.city})})]})},x.id))})]})}function Yw(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function h_(t={},e={}){Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:Yw(e[n])&&Yw(t[n])&&Object.keys(e[n]).length>0&&h_(t[n],e[n])})}const eC={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function dr(){const t=typeof document<"u"?document:{};return h_(t,eC),t}const _3={document:eC,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function kn(){const t=typeof window<"u"?window:{};return h_(t,_3),t}function b3(t){const e=t.__proto__;Object.defineProperty(t,"__proto__",{get(){return e},set(n){e.__proto__=n}})}class xa extends Array{constructor(e){typeof e=="number"?super(e):(super(...e||[]),b3(this))}}function Sd(t=[]){const e=[];return t.forEach(n=>{Array.isArray(n)?e.push(...Sd(n)):e.push(n)}),e}function tC(t,e){return Array.prototype.filter.call(t,e)}function E3(t){const e=[];for(let n=0;n<t.length;n+=1)e.indexOf(t[n])===-1&&e.push(t[n]);return e}function T3(t,e){if(typeof t!="string")return[t];const n=[],r=e.querySelectorAll(t);for(let s=0;s<r.length;s+=1)n.push(r[s]);return n}function Re(t,e){const n=kn(),r=dr();let s=[];if(!e&&t instanceof xa)return t;if(!t)return new xa(s);if(typeof t=="string"){const o=t.trim();if(o.indexOf("<")>=0&&o.indexOf(">")>=0){let u="div";o.indexOf("<li")===0&&(u="ul"),o.indexOf("<tr")===0&&(u="tbody"),(o.indexOf("<td")===0||o.indexOf("<th")===0)&&(u="tr"),o.indexOf("<tbody")===0&&(u="table"),o.indexOf("<option")===0&&(u="select");const d=r.createElement(u);d.innerHTML=o;for(let f=0;f<d.childNodes.length;f+=1)s.push(d.childNodes[f])}else s=T3(t.trim(),e||r)}else if(t.nodeType||t===n||t===r)s.push(t);else if(Array.isArray(t)){if(t instanceof xa)return t;s=t}return new xa(E3(s))}Re.fn=xa.prototype;function w3(...t){const e=Sd(t.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.add(...e)}),this}function S3(...t){const e=Sd(t.map(n=>n.split(" ")));return this.forEach(n=>{n.classList.remove(...e)}),this}function A3(...t){const e=Sd(t.map(n=>n.split(" ")));this.forEach(n=>{e.forEach(r=>{n.classList.toggle(r)})})}function x3(...t){const e=Sd(t.map(n=>n.split(" ")));return tC(this,n=>e.filter(r=>n.classList.contains(r)).length>0).length>0}function C3(t,e){if(arguments.length===1&&typeof t=="string")return this[0]?this[0].getAttribute(t):void 0;for(let n=0;n<this.length;n+=1)if(arguments.length===2)this[n].setAttribute(t,e);else for(const r in t)this[n][r]=t[r],this[n].setAttribute(r,t[r]);return this}function R3(t){for(let e=0;e<this.length;e+=1)this[e].removeAttribute(t);return this}function I3(t){for(let e=0;e<this.length;e+=1)this[e].style.transform=t;return this}function N3(t){for(let e=0;e<this.length;e+=1)this[e].style.transitionDuration=typeof t!="string"?`${t}ms`:t;return this}function O3(...t){let[e,n,r,s]=t;typeof t[1]=="function"&&([e,r,s]=t,n=void 0),s||(s=!1);function o(m){const y=m.target;if(!y)return;const b=m.target.dom7EventData||[];if(b.indexOf(m)<0&&b.unshift(m),Re(y).is(n))r.apply(y,b);else{const _=Re(y).parents();for(let w=0;w<_.length;w+=1)Re(_[w]).is(n)&&r.apply(_[w],b)}}function u(m){const y=m&&m.target?m.target.dom7EventData||[]:[];y.indexOf(m)<0&&y.unshift(m),r.apply(this,y)}const d=e.split(" ");let f;for(let m=0;m<this.length;m+=1){const y=this[m];if(n)for(f=0;f<d.length;f+=1){const b=d[f];y.dom7LiveListeners||(y.dom7LiveListeners={}),y.dom7LiveListeners[b]||(y.dom7LiveListeners[b]=[]),y.dom7LiveListeners[b].push({listener:r,proxyListener:o}),y.addEventListener(b,o,s)}else for(f=0;f<d.length;f+=1){const b=d[f];y.dom7Listeners||(y.dom7Listeners={}),y.dom7Listeners[b]||(y.dom7Listeners[b]=[]),y.dom7Listeners[b].push({listener:r,proxyListener:u}),y.addEventListener(b,u,s)}}return this}function D3(...t){let[e,n,r,s]=t;typeof t[1]=="function"&&([e,r,s]=t,n=void 0),s||(s=!1);const o=e.split(" ");for(let u=0;u<o.length;u+=1){const d=o[u];for(let f=0;f<this.length;f+=1){const m=this[f];let y;if(!n&&m.dom7Listeners?y=m.dom7Listeners[d]:n&&m.dom7LiveListeners&&(y=m.dom7LiveListeners[d]),y&&y.length)for(let b=y.length-1;b>=0;b-=1){const _=y[b];r&&_.listener===r||r&&_.listener&&_.listener.dom7proxy&&_.listener.dom7proxy===r?(m.removeEventListener(d,_.proxyListener,s),y.splice(b,1)):r||(m.removeEventListener(d,_.proxyListener,s),y.splice(b,1))}}}return this}function k3(...t){const e=kn(),n=t[0].split(" "),r=t[1];for(let s=0;s<n.length;s+=1){const o=n[s];for(let u=0;u<this.length;u+=1){const d=this[u];if(e.CustomEvent){const f=new e.CustomEvent(o,{detail:r,bubbles:!0,cancelable:!0});d.dom7EventData=t.filter((m,y)=>y>0),d.dispatchEvent(f),d.dom7EventData=[],delete d.dom7EventData}}}return this}function M3(t){const e=this;function n(r){r.target===this&&(t.call(this,r),e.off("transitionend",n))}return t&&e.on("transitionend",n),this}function P3(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetWidth+parseFloat(e.getPropertyValue("margin-right"))+parseFloat(e.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null}function L3(t){if(this.length>0){if(t){const e=this.styles();return this[0].offsetHeight+parseFloat(e.getPropertyValue("margin-top"))+parseFloat(e.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null}function V3(){if(this.length>0){const t=kn(),e=dr(),n=this[0],r=n.getBoundingClientRect(),s=e.body,o=n.clientTop||s.clientTop||0,u=n.clientLeft||s.clientLeft||0,d=n===t?t.scrollY:n.scrollTop,f=n===t?t.scrollX:n.scrollLeft;return{top:r.top+d-o,left:r.left+f-u}}return null}function U3(){const t=kn();return this[0]?t.getComputedStyle(this[0],null):{}}function j3(t,e){const n=kn();let r;if(arguments.length===1)if(typeof t=="string"){if(this[0])return n.getComputedStyle(this[0],null).getPropertyValue(t)}else{for(r=0;r<this.length;r+=1)for(const s in t)this[r].style[s]=t[s];return this}if(arguments.length===2&&typeof t=="string"){for(r=0;r<this.length;r+=1)this[r].style[t]=e;return this}return this}function z3(t){return t?(this.forEach((e,n)=>{t.apply(e,[e,n])}),this):this}function B3(t){const e=tC(this,t);return Re(e)}function F3(t){if(typeof t>"u")return this[0]?this[0].innerHTML:null;for(let e=0;e<this.length;e+=1)this[e].innerHTML=t;return this}function $3(t){if(typeof t>"u")return this[0]?this[0].textContent.trim():null;for(let e=0;e<this.length;e+=1)this[e].textContent=t;return this}function H3(t){const e=kn(),n=dr(),r=this[0];let s,o;if(!r||typeof t>"u")return!1;if(typeof t=="string"){if(r.matches)return r.matches(t);if(r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(r.msMatchesSelector)return r.msMatchesSelector(t);for(s=Re(t),o=0;o<s.length;o+=1)if(s[o]===r)return!0;return!1}if(t===n)return r===n;if(t===e)return r===e;if(t.nodeType||t instanceof xa){for(s=t.nodeType?[t]:t,o=0;o<s.length;o+=1)if(s[o]===r)return!0;return!1}return!1}function q3(){let t=this[0],e;if(t){for(e=0;(t=t.previousSibling)!==null;)t.nodeType===1&&(e+=1);return e}}function G3(t){if(typeof t>"u")return this;const e=this.length;if(t>e-1)return Re([]);if(t<0){const n=e+t;return n<0?Re([]):Re([this[n]])}return Re([this[t]])}function K3(...t){let e;const n=dr();for(let r=0;r<t.length;r+=1){e=t[r];for(let s=0;s<this.length;s+=1)if(typeof e=="string"){const o=n.createElement("div");for(o.innerHTML=e;o.firstChild;)this[s].appendChild(o.firstChild)}else if(e instanceof xa)for(let o=0;o<e.length;o+=1)this[s].appendChild(e[o]);else this[s].appendChild(e)}return this}function Y3(t){const e=dr();let n,r;for(n=0;n<this.length;n+=1)if(typeof t=="string"){const s=e.createElement("div");for(s.innerHTML=t,r=s.childNodes.length-1;r>=0;r-=1)this[n].insertBefore(s.childNodes[r],this[n].childNodes[0])}else if(t instanceof xa)for(r=0;r<t.length;r+=1)this[n].insertBefore(t[r],this[n].childNodes[0]);else this[n].insertBefore(t,this[n].childNodes[0]);return this}function Q3(t){return this.length>0?t?this[0].nextElementSibling&&Re(this[0].nextElementSibling).is(t)?Re([this[0].nextElementSibling]):Re([]):this[0].nextElementSibling?Re([this[0].nextElementSibling]):Re([]):Re([])}function X3(t){const e=[];let n=this[0];if(!n)return Re([]);for(;n.nextElementSibling;){const r=n.nextElementSibling;t?Re(r).is(t)&&e.push(r):e.push(r),n=r}return Re(e)}function W3(t){if(this.length>0){const e=this[0];return t?e.previousElementSibling&&Re(e.previousElementSibling).is(t)?Re([e.previousElementSibling]):Re([]):e.previousElementSibling?Re([e.previousElementSibling]):Re([])}return Re([])}function Z3(t){const e=[];let n=this[0];if(!n)return Re([]);for(;n.previousElementSibling;){const r=n.previousElementSibling;t?Re(r).is(t)&&e.push(r):e.push(r),n=r}return Re(e)}function J3(t){const e=[];for(let n=0;n<this.length;n+=1)this[n].parentNode!==null&&(t?Re(this[n].parentNode).is(t)&&e.push(this[n].parentNode):e.push(this[n].parentNode));return Re(e)}function e6(t){const e=[];for(let n=0;n<this.length;n+=1){let r=this[n].parentNode;for(;r;)t?Re(r).is(t)&&e.push(r):e.push(r),r=r.parentNode}return Re(e)}function t6(t){let e=this;return typeof t>"u"?Re([]):(e.is(t)||(e=e.parents(t).eq(0)),e)}function n6(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].querySelectorAll(t);for(let s=0;s<r.length;s+=1)e.push(r[s])}return Re(e)}function r6(t){const e=[];for(let n=0;n<this.length;n+=1){const r=this[n].children;for(let s=0;s<r.length;s+=1)(!t||Re(r[s]).is(t))&&e.push(r[s])}return Re(e)}function i6(){for(let t=0;t<this.length;t+=1)this[t].parentNode&&this[t].parentNode.removeChild(this[t]);return this}const Qw={addClass:w3,removeClass:S3,hasClass:x3,toggleClass:A3,attr:C3,removeAttr:R3,transform:I3,transition:N3,on:O3,off:D3,trigger:k3,transitionEnd:M3,outerWidth:P3,outerHeight:L3,styles:U3,offset:V3,css:j3,each:z3,html:F3,text:$3,is:H3,index:q3,eq:G3,append:K3,prepend:Y3,next:Q3,nextAll:X3,prev:W3,prevAll:Z3,parent:J3,parents:e6,closest:t6,find:n6,children:r6,filter:B3,remove:i6};Object.keys(Qw).forEach(t=>{Object.defineProperty(Re.fn,t,{value:Qw[t],writable:!0})});function s6(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function qh(t,e=0){return setTimeout(t,e)}function ad(){return Date.now()}function a6(t){const e=kn();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function o6(t,e="x"){const n=kn();let r,s,o;const u=a6(t);return n.WebKitCSSMatrix?(s=u.transform||u.webkitTransform,s.split(",").length>6&&(s=s.split(", ").map(d=>d.replace(",",".")).join(", ")),o=new n.WebKitCSSMatrix(s==="none"?"":s)):(o=u.MozTransform||u.OTransform||u.MsTransform||u.msTransform||u.transform||u.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=o.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?s=o.m41:r.length===16?s=parseFloat(r[12]):s=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?s=o.m42:r.length===16?s=parseFloat(r[13]):s=parseFloat(r[5])),s||0}function Jf(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function l6(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Lr(...t){const e=Object(t[0]),n=["__proto__","constructor","prototype"];for(let r=1;r<t.length;r+=1){const s=t[r];if(s!=null&&!l6(s)){const o=Object.keys(Object(s)).filter(u=>n.indexOf(u)<0);for(let u=0,d=o.length;u<d;u+=1){const f=o[u],m=Object.getOwnPropertyDescriptor(s,f);m!==void 0&&m.enumerable&&(Jf(e[f])&&Jf(s[f])?s[f].__swiper__?e[f]=s[f]:Lr(e[f],s[f]):!Jf(e[f])&&Jf(s[f])?(e[f]={},s[f].__swiper__?e[f]=s[f]:Lr(e[f],s[f])):e[f]=s[f])}}}return e}function eh(t,e,n){t.style.setProperty(e,n)}function nC({swiper:t,targetPosition:e,side:n}){const r=kn(),s=-t.translate;let o=null,u;const d=t.params.speed;t.wrapperEl.style.scrollSnapType="none",r.cancelAnimationFrame(t.cssModeFrameID);const f=e>s?"next":"prev",m=(b,_)=>f==="next"&&b>=_||f==="prev"&&b<=_,y=()=>{u=new Date().getTime(),o===null&&(o=u);const b=Math.max(Math.min((u-o)/d,1),0),_=.5-Math.cos(b*Math.PI)/2;let w=s+_*(e-s);if(m(w,e)&&(w=e),t.wrapperEl.scrollTo({[n]:w}),m(w,e)){t.wrapperEl.style.overflow="hidden",t.wrapperEl.style.scrollSnapType="",setTimeout(()=>{t.wrapperEl.style.overflow="",t.wrapperEl.scrollTo({[n]:w})}),r.cancelAnimationFrame(t.cssModeFrameID);return}t.cssModeFrameID=r.requestAnimationFrame(y)};y()}let ry;function u6(){const t=kn(),e=dr();return{smoothScroll:e.documentElement&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch),passiveListener:function(){let r=!1;try{const s=Object.defineProperty({},"passive",{get(){r=!0}});t.addEventListener("testPassiveListener",null,s)}catch{}return r}(),gestures:function(){return"ongesturestart"in t}()}}function rC(){return ry||(ry=u6()),ry}let iy;function c6({userAgent:t}={}){const e=rC(),n=kn(),r=n.navigator.platform,s=t||n.navigator.userAgent,o={ios:!1,android:!1},u=n.screen.width,d=n.screen.height,f=s.match(/(Android);?[\s\/]+([\d.]+)?/);let m=s.match(/(iPad).*OS\s([\d_]+)/);const y=s.match(/(iPod)(.*OS\s([\d_]+))?/),b=!m&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),_=r==="Win32";let w=r==="MacIntel";const S=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!m&&w&&e.touch&&S.indexOf(`${u}x${d}`)>=0&&(m=s.match(/(Version)\/([\d.]+)/),m||(m=[0,1,"13_0_0"]),w=!1),f&&!_&&(o.os="android",o.android=!0),(m||b||y)&&(o.os="ios",o.ios=!0),o}function d6(t={}){return iy||(iy=c6(t)),iy}let sy;function f6(){const t=kn();function e(){const n=t.navigator.userAgent.toLowerCase();return n.indexOf("safari")>=0&&n.indexOf("chrome")<0&&n.indexOf("android")<0}return{isSafari:e(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent)}}function h6(){return sy||(sy=f6()),sy}function m6({swiper:t,on:e,emit:n}){const r=kn();let s=null,o=null;const u=()=>{!t||t.destroyed||!t.initialized||(n("beforeResize"),n("resize"))},d=()=>{!t||t.destroyed||!t.initialized||(s=new ResizeObserver(y=>{o=r.requestAnimationFrame(()=>{const{width:b,height:_}=t;let w=b,S=_;y.forEach(({contentBoxSize:x,contentRect:C,target:V})=>{V&&V!==t.el||(w=C?C.width:(x[0]||x).inlineSize,S=C?C.height:(x[0]||x).blockSize)}),(w!==b||S!==_)&&u()})}),s.observe(t.el))},f=()=>{o&&r.cancelAnimationFrame(o),s&&s.unobserve&&t.el&&(s.unobserve(t.el),s=null)},m=()=>{!t||t.destroyed||!t.initialized||n("orientationchange")};e("init",()=>{if(t.params.resizeObserver&&typeof r.ResizeObserver<"u"){d();return}r.addEventListener("resize",u),r.addEventListener("orientationchange",m)}),e("destroy",()=>{f(),r.removeEventListener("resize",u),r.removeEventListener("orientationchange",m)})}function p6({swiper:t,extendParams:e,on:n,emit:r}){const s=[],o=kn(),u=(m,y={})=>{const b=o.MutationObserver||o.WebkitMutationObserver,_=new b(w=>{if(w.length===1){r("observerUpdate",w[0]);return}const S=function(){r("observerUpdate",w[0])};o.requestAnimationFrame?o.requestAnimationFrame(S):o.setTimeout(S,0)});_.observe(m,{attributes:typeof y.attributes>"u"?!0:y.attributes,childList:typeof y.childList>"u"?!0:y.childList,characterData:typeof y.characterData>"u"?!0:y.characterData}),s.push(_)},d=()=>{if(t.params.observer){if(t.params.observeParents){const m=t.$el.parents();for(let y=0;y<m.length;y+=1)u(m[y])}u(t.$el[0],{childList:t.params.observeSlideChildren}),u(t.$wrapperEl[0],{attributes:!1})}},f=()=>{s.forEach(m=>{m.disconnect()}),s.splice(0,s.length)};e({observer:!1,observeParents:!1,observeSlideChildren:!1}),n("init",d),n("destroy",f)}const g6={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const s=n?"unshift":"push";return t.split(" ").forEach(o=>{r.eventsListeners[o]||(r.eventsListeners[o]=[]),r.eventsListeners[o][s](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function s(...o){r.off(t,s),s.__emitterProxy&&delete s.__emitterProxy,e.apply(r,o)}return s.__emitterProxy=e,r.on(t,s,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((s,o)=>{(s===e||s.__emitterProxy&&s.__emitterProxy===e)&&n.eventsListeners[r].splice(o,1)})}),n},emit(...t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsListeners)return e;let n,r,s;return typeof t[0]=="string"||Array.isArray(t[0])?(n=t[0],r=t.slice(1,t.length),s=e):(n=t[0].events,r=t[0].data,s=t[0].context||e),r.unshift(s),(Array.isArray(n)?n:n.split(" ")).forEach(u=>{e.eventsAnyListeners&&e.eventsAnyListeners.length&&e.eventsAnyListeners.forEach(d=>{d.apply(s,[u,...r])}),e.eventsListeners&&e.eventsListeners[u]&&e.eventsListeners[u].forEach(d=>{d.apply(s,r)})}),e}};function y6(){const t=this;let e,n;const r=t.$el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r[0].clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r[0].clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(r.css("padding-left")||0,10)-parseInt(r.css("padding-right")||0,10),n=n-parseInt(r.css("padding-top")||0,10)-parseInt(r.css("padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function v6(){const t=this;function e(P){return t.isHorizontal()?P:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[P]}function n(P,O){return parseFloat(P.getPropertyValue(e(O))||0)}const r=t.params,{$wrapperEl:s,size:o,rtlTranslate:u,wrongRTL:d}=t,f=t.virtual&&r.virtual.enabled,m=f?t.virtual.slides.length:t.slides.length,y=s.children(`.${t.params.slideClass}`),b=f?t.virtual.slides.length:y.length;let _=[];const w=[],S=[];let x=r.slidesOffsetBefore;typeof x=="function"&&(x=r.slidesOffsetBefore.call(t));let C=r.slidesOffsetAfter;typeof C=="function"&&(C=r.slidesOffsetAfter.call(t));const V=t.snapGrid.length,L=t.slidesGrid.length;let $=r.spaceBetween,Y=-x,G=0,F=0;if(typeof o>"u")return;typeof $=="string"&&$.indexOf("%")>=0&&($=parseFloat($.replace("%",""))/100*o),t.virtualSize=-$,u?y.css({marginLeft:"",marginBottom:"",marginTop:""}):y.css({marginRight:"",marginBottom:"",marginTop:""}),r.centeredSlides&&r.cssMode&&(eh(t.wrapperEl,"--swiper-centered-offset-before",""),eh(t.wrapperEl,"--swiper-centered-offset-after",""));const U=r.grid&&r.grid.rows>1&&t.grid;U&&t.grid.initSlides(b);let R;const k=r.slidesPerView==="auto"&&r.breakpoints&&Object.keys(r.breakpoints).filter(P=>typeof r.breakpoints[P].slidesPerView<"u").length>0;for(let P=0;P<b;P+=1){R=0;const O=y.eq(P);if(U&&t.grid.updateSlide(P,O,b,e),O.css("display")!=="none"){if(r.slidesPerView==="auto"){k&&(y[P].style[e("width")]="");const M=getComputedStyle(O[0]),I=O[0].style.transform,ye=O[0].style.webkitTransform;if(I&&(O[0].style.transform="none"),ye&&(O[0].style.webkitTransform="none"),r.roundLengths)R=t.isHorizontal()?O.outerWidth(!0):O.outerHeight(!0);else{const Ee=n(M,"width"),Q=n(M,"padding-left"),ce=n(M,"padding-right"),ge=n(M,"margin-left"),Ce=n(M,"margin-right"),j=M.getPropertyValue("box-sizing");if(j&&j==="border-box")R=Ee+ge+Ce;else{const{clientWidth:oe,offsetWidth:Te}=O[0];R=Ee+Q+ce+ge+Ce+(Te-oe)}}I&&(O[0].style.transform=I),ye&&(O[0].style.webkitTransform=ye),r.roundLengths&&(R=Math.floor(R))}else R=(o-(r.slidesPerView-1)*$)/r.slidesPerView,r.roundLengths&&(R=Math.floor(R)),y[P]&&(y[P].style[e("width")]=`${R}px`);y[P]&&(y[P].swiperSlideSize=R),S.push(R),r.centeredSlides?(Y=Y+R/2+G/2+$,G===0&&P!==0&&(Y=Y-o/2-$),P===0&&(Y=Y-o/2-$),Math.abs(Y)<1/1e3&&(Y=0),r.roundLengths&&(Y=Math.floor(Y)),F%r.slidesPerGroup===0&&_.push(Y),w.push(Y)):(r.roundLengths&&(Y=Math.floor(Y)),(F-Math.min(t.params.slidesPerGroupSkip,F))%t.params.slidesPerGroup===0&&_.push(Y),w.push(Y),Y=Y+R+$),t.virtualSize+=R+$,G=R,F+=1}}if(t.virtualSize=Math.max(t.virtualSize,o)+C,u&&d&&(r.effect==="slide"||r.effect==="coverflow")&&s.css({width:`${t.virtualSize+r.spaceBetween}px`}),r.setWrapperSize&&s.css({[e("width")]:`${t.virtualSize+r.spaceBetween}px`}),U&&t.grid.updateWrapperSize(R,_,e),!r.centeredSlides){const P=[];for(let O=0;O<_.length;O+=1){let M=_[O];r.roundLengths&&(M=Math.floor(M)),_[O]<=t.virtualSize-o&&P.push(M)}_=P,Math.floor(t.virtualSize-o)-Math.floor(_[_.length-1])>1&&_.push(t.virtualSize-o)}if(_.length===0&&(_=[0]),r.spaceBetween!==0){const P=t.isHorizontal()&&u?"marginLeft":e("marginRight");y.filter((O,M)=>r.cssMode?M!==y.length-1:!0).css({[P]:`${$}px`})}if(r.centeredSlides&&r.centeredSlidesBounds){let P=0;S.forEach(M=>{P+=M+(r.spaceBetween?r.spaceBetween:0)}),P-=r.spaceBetween;const O=P-o;_=_.map(M=>M<0?-x:M>O?O+C:M)}if(r.centerInsufficientSlides){let P=0;if(S.forEach(O=>{P+=O+(r.spaceBetween?r.spaceBetween:0)}),P-=r.spaceBetween,P<o){const O=(o-P)/2;_.forEach((M,I)=>{_[I]=M-O}),w.forEach((M,I)=>{w[I]=M+O})}}if(Object.assign(t,{slides:y,snapGrid:_,slidesGrid:w,slidesSizesGrid:S}),r.centeredSlides&&r.cssMode&&!r.centeredSlidesBounds){eh(t.wrapperEl,"--swiper-centered-offset-before",`${-_[0]}px`),eh(t.wrapperEl,"--swiper-centered-offset-after",`${t.size/2-S[S.length-1]/2}px`);const P=-t.snapGrid[0],O=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(M=>M+P),t.slidesGrid=t.slidesGrid.map(M=>M+O)}if(b!==m&&t.emit("slidesLengthChange"),_.length!==V&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),w.length!==L&&t.emit("slidesGridLengthChange"),r.watchSlidesProgress&&t.updateSlidesOffset(),!f&&!r.cssMode&&(r.effect==="slide"||r.effect==="fade")){const P=`${r.containerModifierClass}backface-hidden`,O=t.$el.hasClass(P);b<=r.maxBackfaceHiddenSlides?O||t.$el.addClass(P):O&&t.$el.removeClass(P)}}function _6(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let s=0,o;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const u=d=>r?e.slides.filter(f=>parseInt(f.getAttribute("data-swiper-slide-index"),10)===d)[0]:e.slides.eq(d)[0];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||Re([])).each(d=>{n.push(d)});else for(o=0;o<Math.ceil(e.params.slidesPerView);o+=1){const d=e.activeIndex+o;if(d>e.slides.length&&!r)break;n.push(u(d))}else n.push(u(e.activeIndex));for(o=0;o<n.length;o+=1)if(typeof n[o]<"u"){const d=n[o].offsetHeight;s=d>s?d:s}(s||s===0)&&e.$wrapperEl.css("height",`${s}px`)}function b6(){const t=this,e=t.slides;for(let n=0;n<e.length;n+=1)e[n].swiperSlideOffset=t.isHorizontal()?e[n].offsetLeft:e[n].offsetTop}function E6(t=this&&this.translate||0){const e=this,n=e.params,{slides:r,rtlTranslate:s,snapGrid:o}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let u=-t;s&&(u=t),r.removeClass(n.slideVisibleClass),e.visibleSlidesIndexes=[],e.visibleSlides=[];for(let d=0;d<r.length;d+=1){const f=r[d];let m=f.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(m-=r[0].swiperSlideOffset);const y=(u+(n.centeredSlides?e.minTranslate():0)-m)/(f.swiperSlideSize+n.spaceBetween),b=(u-o[0]+(n.centeredSlides?e.minTranslate():0)-m)/(f.swiperSlideSize+n.spaceBetween),_=-(u-m),w=_+e.slidesSizesGrid[d];(_>=0&&_<e.size-1||w>1&&w<=e.size||_<=0&&w>=e.size)&&(e.visibleSlides.push(f),e.visibleSlidesIndexes.push(d),r.eq(d).addClass(n.slideVisibleClass)),f.progress=s?-y:y,f.originalProgress=s?-b:b}e.visibleSlides=Re(e.visibleSlides)}function T6(t){const e=this;if(typeof t>"u"){const m=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*m||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:s,isBeginning:o,isEnd:u}=e;const d=o,f=u;r===0?(s=0,o=!0,u=!0):(s=(t-e.minTranslate())/r,o=s<=0,u=s>=1),Object.assign(e,{progress:s,isBeginning:o,isEnd:u}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),o&&!d&&e.emit("reachBeginning toEdge"),u&&!f&&e.emit("reachEnd toEdge"),(d&&!o||f&&!u)&&e.emit("fromEdge"),e.emit("progress",s)}function w6(){const t=this,{slides:e,params:n,$wrapperEl:r,activeIndex:s,realIndex:o}=t,u=t.virtual&&n.virtual.enabled;e.removeClass(`${n.slideActiveClass} ${n.slideNextClass} ${n.slidePrevClass} ${n.slideDuplicateActiveClass} ${n.slideDuplicateNextClass} ${n.slideDuplicatePrevClass}`);let d;u?d=t.$wrapperEl.find(`.${n.slideClass}[data-swiper-slide-index="${s}"]`):d=e.eq(s),d.addClass(n.slideActiveClass),n.loop&&(d.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${o}"]`).addClass(n.slideDuplicateActiveClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${o}"]`).addClass(n.slideDuplicateActiveClass));let f=d.nextAll(`.${n.slideClass}`).eq(0).addClass(n.slideNextClass);n.loop&&f.length===0&&(f=e.eq(0),f.addClass(n.slideNextClass));let m=d.prevAll(`.${n.slideClass}`).eq(0).addClass(n.slidePrevClass);n.loop&&m.length===0&&(m=e.eq(-1),m.addClass(n.slidePrevClass)),n.loop&&(f.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${f.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${f.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicateNextClass),m.hasClass(n.slideDuplicateClass)?r.children(`.${n.slideClass}:not(.${n.slideDuplicateClass})[data-swiper-slide-index="${m.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass):r.children(`.${n.slideClass}.${n.slideDuplicateClass}[data-swiper-slide-index="${m.attr("data-swiper-slide-index")}"]`).addClass(n.slideDuplicatePrevClass)),t.emitSlidesClasses()}function S6(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{slidesGrid:r,snapGrid:s,params:o,activeIndex:u,realIndex:d,snapIndex:f}=e;let m=t,y;if(typeof m>"u"){for(let _=0;_<r.length;_+=1)typeof r[_+1]<"u"?n>=r[_]&&n<r[_+1]-(r[_+1]-r[_])/2?m=_:n>=r[_]&&n<r[_+1]&&(m=_+1):n>=r[_]&&(m=_);o.normalizeSlideIndex&&(m<0||typeof m>"u")&&(m=0)}if(s.indexOf(n)>=0)y=s.indexOf(n);else{const _=Math.min(o.slidesPerGroupSkip,m);y=_+Math.floor((m-_)/o.slidesPerGroup)}if(y>=s.length&&(y=s.length-1),m===u){y!==f&&(e.snapIndex=y,e.emit("snapIndexChange"));return}const b=parseInt(e.slides.eq(m).attr("data-swiper-slide-index")||m,10);Object.assign(e,{snapIndex:y,realIndex:b,previousIndex:u,activeIndex:m}),e.emit("activeIndexChange"),e.emit("snapIndexChange"),d!==b&&e.emit("realIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&e.emit("slideChange")}function A6(t){const e=this,n=e.params,r=Re(t).closest(`.${n.slideClass}`)[0];let s=!1,o;if(r){for(let u=0;u<e.slides.length;u+=1)if(e.slides[u]===r){s=!0,o=u;break}}if(r&&s)e.clickedSlide=r,e.virtual&&e.params.virtual.enabled?e.clickedIndex=parseInt(Re(r).attr("data-swiper-slide-index"),10):e.clickedIndex=o;else{e.clickedSlide=void 0,e.clickedIndex=void 0;return}n.slideToClickedSlide&&e.clickedIndex!==void 0&&e.clickedIndex!==e.activeIndex&&e.slideToClickedSlide()}const x6={updateSize:y6,updateSlides:v6,updateAutoHeight:_6,updateSlidesOffset:b6,updateSlidesProgress:E6,updateProgress:T6,updateSlidesClasses:w6,updateActiveIndex:S6,updateClickedSlide:A6};function C6(t=this.isHorizontal()?"x":"y"){const e=this,{params:n,rtlTranslate:r,translate:s,$wrapperEl:o}=e;if(n.virtualTranslate)return r?-s:s;if(n.cssMode)return s;let u=o6(o[0],t);return r&&(u=-u),u||0}function R6(t,e){const n=this,{rtlTranslate:r,params:s,$wrapperEl:o,wrapperEl:u,progress:d}=n;let f=0,m=0;const y=0;n.isHorizontal()?f=r?-t:t:m=t,s.roundLengths&&(f=Math.floor(f),m=Math.floor(m)),s.cssMode?u[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-f:-m:s.virtualTranslate||o.transform(`translate3d(${f}px, ${m}px, ${y}px)`),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?f:m;let b;const _=n.maxTranslate()-n.minTranslate();_===0?b=0:b=(t-n.minTranslate())/_,b!==d&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function I6(){return-this.snapGrid[0]}function N6(){return-this.snapGrid[this.snapGrid.length-1]}function O6(t=0,e=this.params.speed,n=!0,r=!0,s){const o=this,{params:u,wrapperEl:d}=o;if(o.animating&&u.preventInteractionOnTransition)return!1;const f=o.minTranslate(),m=o.maxTranslate();let y;if(r&&t>f?y=f:r&&t<m?y=m:y=t,o.updateProgress(y),u.cssMode){const b=o.isHorizontal();if(e===0)d[b?"scrollLeft":"scrollTop"]=-y;else{if(!o.support.smoothScroll)return nC({swiper:o,targetPosition:-y,side:b?"left":"top"}),!0;d.scrollTo({[b?"left":"top"]:-y,behavior:"smooth"})}return!0}return e===0?(o.setTransition(0),o.setTranslate(y),n&&(o.emit("beforeTransitionStart",e,s),o.emit("transitionEnd"))):(o.setTransition(e),o.setTranslate(y),n&&(o.emit("beforeTransitionStart",e,s),o.emit("transitionStart")),o.animating||(o.animating=!0,o.onTranslateToWrapperTransitionEnd||(o.onTranslateToWrapperTransitionEnd=function(_){!o||o.destroyed||_.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd),o.onTranslateToWrapperTransitionEnd=null,delete o.onTranslateToWrapperTransitionEnd,n&&o.emit("transitionEnd"))}),o.$wrapperEl[0].addEventListener("transitionend",o.onTranslateToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onTranslateToWrapperTransitionEnd))),!0}const D6={getTranslate:C6,setTranslate:R6,minTranslate:I6,maxTranslate:N6,translateTo:O6};function k6(t,e){const n=this;n.params.cssMode||n.$wrapperEl.transition(t),n.emit("setTransition",t,e)}function iC({swiper:t,runCallbacks:e,direction:n,step:r}){const{activeIndex:s,previousIndex:o}=t;let u=n;if(u||(s>o?u="next":s<o?u="prev":u="reset"),t.emit(`transition${r}`),e&&s!==o){if(u==="reset"){t.emit(`slideResetTransition${r}`);return}t.emit(`slideChangeTransition${r}`),u==="next"?t.emit(`slideNextTransition${r}`):t.emit(`slidePrevTransition${r}`)}}function M6(t=!0,e){const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),iC({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function P6(t=!0,e){const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),iC({swiper:n,runCallbacks:t,direction:e,step:"End"}))}const L6={setTransition:k6,transitionStart:M6,transitionEnd:P6};function V6(t=0,e=this.params.speed,n=!0,r,s){if(typeof t!="number"&&typeof t!="string")throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof t}] given.`);if(typeof t=="string"){const $=parseInt(t,10);if(!isFinite($))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=$}const o=this;let u=t;u<0&&(u=0);const{params:d,snapGrid:f,slidesGrid:m,previousIndex:y,activeIndex:b,rtlTranslate:_,wrapperEl:w,enabled:S}=o;if(o.animating&&d.preventInteractionOnTransition||!S&&!r&&!s)return!1;const x=Math.min(o.params.slidesPerGroupSkip,u);let C=x+Math.floor((u-x)/o.params.slidesPerGroup);C>=f.length&&(C=f.length-1);const V=-f[C];if(d.normalizeSlideIndex)for(let $=0;$<m.length;$+=1){const Y=-Math.floor(V*100),G=Math.floor(m[$]*100),F=Math.floor(m[$+1]*100);typeof m[$+1]<"u"?Y>=G&&Y<F-(F-G)/2?u=$:Y>=G&&Y<F&&(u=$+1):Y>=G&&(u=$)}if(o.initialized&&u!==b&&(!o.allowSlideNext&&V<o.translate&&V<o.minTranslate()||!o.allowSlidePrev&&V>o.translate&&V>o.maxTranslate()&&(b||0)!==u))return!1;u!==(y||0)&&n&&o.emit("beforeSlideChangeStart"),o.updateProgress(V);let L;if(u>b?L="next":u<b?L="prev":L="reset",_&&-V===o.translate||!_&&V===o.translate)return o.updateActiveIndex(u),d.autoHeight&&o.updateAutoHeight(),o.updateSlidesClasses(),d.effect!=="slide"&&o.setTranslate(V),L!=="reset"&&(o.transitionStart(n,L),o.transitionEnd(n,L)),!1;if(d.cssMode){const $=o.isHorizontal(),Y=_?V:-V;if(e===0){const G=o.virtual&&o.params.virtual.enabled;G&&(o.wrapperEl.style.scrollSnapType="none",o._immediateVirtual=!0),w[$?"scrollLeft":"scrollTop"]=Y,G&&requestAnimationFrame(()=>{o.wrapperEl.style.scrollSnapType="",o._swiperImmediateVirtual=!1})}else{if(!o.support.smoothScroll)return nC({swiper:o,targetPosition:Y,side:$?"left":"top"}),!0;w.scrollTo({[$?"left":"top"]:Y,behavior:"smooth"})}return!0}return o.setTransition(e),o.setTranslate(V),o.updateActiveIndex(u),o.updateSlidesClasses(),o.emit("beforeTransitionStart",e,r),o.transitionStart(n,L),e===0?o.transitionEnd(n,L):o.animating||(o.animating=!0,o.onSlideToWrapperTransitionEnd||(o.onSlideToWrapperTransitionEnd=function(Y){!o||o.destroyed||Y.target===this&&(o.$wrapperEl[0].removeEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].removeEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd),o.onSlideToWrapperTransitionEnd=null,delete o.onSlideToWrapperTransitionEnd,o.transitionEnd(n,L))}),o.$wrapperEl[0].addEventListener("transitionend",o.onSlideToWrapperTransitionEnd),o.$wrapperEl[0].addEventListener("webkitTransitionEnd",o.onSlideToWrapperTransitionEnd)),!0}function U6(t=0,e=this.params.speed,n=!0,r){if(typeof t=="string"){const u=parseInt(t,10);if(!isFinite(u))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${t}] given.`);t=u}const s=this;let o=t;return s.params.loop&&(o+=s.loopedSlides),s.slideTo(o,e,n,r)}function j6(t=this.params.speed,e=!0,n){const r=this,{animating:s,enabled:o,params:u}=r;if(!o)return r;let d=u.slidesPerGroup;u.slidesPerView==="auto"&&u.slidesPerGroup===1&&u.slidesPerGroupAuto&&(d=Math.max(r.slidesPerViewDynamic("current",!0),1));const f=r.activeIndex<u.slidesPerGroupSkip?1:d;if(u.loop){if(s&&u.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}return u.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+f,t,e,n)}function z6(t=this.params.speed,e=!0,n){const r=this,{params:s,animating:o,snapGrid:u,slidesGrid:d,rtlTranslate:f,enabled:m}=r;if(!m)return r;if(s.loop){if(o&&s.loopPreventsSlide)return!1;r.loopFix(),r._clientLeft=r.$wrapperEl[0].clientLeft}const y=f?r.translate:-r.translate;function b(C){return C<0?-Math.floor(Math.abs(C)):Math.floor(C)}const _=b(y),w=u.map(C=>b(C));let S=u[w.indexOf(_)-1];if(typeof S>"u"&&s.cssMode){let C;u.forEach((V,L)=>{_>=V&&(C=L)}),typeof C<"u"&&(S=u[C>0?C-1:C])}let x=0;if(typeof S<"u"&&(x=d.indexOf(S),x<0&&(x=r.activeIndex-1),s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(x=x-r.slidesPerViewDynamic("previous",!0)+1,x=Math.max(x,0))),s.rewind&&r.isBeginning){const C=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(C,t,e,n)}return r.slideTo(x,t,e,n)}function B6(t=this.params.speed,e=!0,n){const r=this;return r.slideTo(r.activeIndex,t,e,n)}function F6(t=this.params.speed,e=!0,n,r=.5){const s=this;let o=s.activeIndex;const u=Math.min(s.params.slidesPerGroupSkip,o),d=u+Math.floor((o-u)/s.params.slidesPerGroup),f=s.rtlTranslate?s.translate:-s.translate;if(f>=s.snapGrid[d]){const m=s.snapGrid[d],y=s.snapGrid[d+1];f-m>(y-m)*r&&(o+=s.params.slidesPerGroup)}else{const m=s.snapGrid[d-1],y=s.snapGrid[d];f-m<=(y-m)*r&&(o-=s.params.slidesPerGroup)}return o=Math.max(o,0),o=Math.min(o,s.slidesGrid.length-1),s.slideTo(o,t,e,n)}function $6(){const t=this,{params:e,$wrapperEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let s=t.clickedIndex,o;if(e.loop){if(t.animating)return;o=parseInt(Re(t.clickedSlide).attr("data-swiper-slide-index"),10),e.centeredSlides?s<t.loopedSlides-r/2||s>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),s=n.children(`.${e.slideClass}[data-swiper-slide-index="${o}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),qh(()=>{t.slideTo(s)})):t.slideTo(s):s>t.slides.length-r?(t.loopFix(),s=n.children(`.${e.slideClass}[data-swiper-slide-index="${o}"]:not(.${e.slideDuplicateClass})`).eq(0).index(),qh(()=>{t.slideTo(s)})):t.slideTo(s)}else t.slideTo(s)}const H6={slideTo:V6,slideToLoop:U6,slideNext:j6,slidePrev:z6,slideReset:B6,slideToClosest:F6,slideToClickedSlide:$6};function q6(){const t=this,e=dr(),{params:n,$wrapperEl:r}=t,s=r.children().length>0?Re(r.children()[0].parentNode):r;s.children(`.${n.slideClass}.${n.slideDuplicateClass}`).remove();let o=s.children(`.${n.slideClass}`);if(n.loopFillGroupWithBlank){const f=n.slidesPerGroup-o.length%n.slidesPerGroup;if(f!==n.slidesPerGroup){for(let m=0;m<f;m+=1){const y=Re(e.createElement("div")).addClass(`${n.slideClass} ${n.slideBlankClass}`);s.append(y)}o=s.children(`.${n.slideClass}`)}}n.slidesPerView==="auto"&&!n.loopedSlides&&(n.loopedSlides=o.length),t.loopedSlides=Math.ceil(parseFloat(n.loopedSlides||n.slidesPerView,10)),t.loopedSlides+=n.loopAdditionalSlides,t.loopedSlides>o.length&&t.params.loopedSlidesLimit&&(t.loopedSlides=o.length);const u=[],d=[];o.each((f,m)=>{Re(f).attr("data-swiper-slide-index",m)});for(let f=0;f<t.loopedSlides;f+=1){const m=f-Math.floor(f/o.length)*o.length;d.push(o.eq(m)[0]),u.unshift(o.eq(o.length-m-1)[0])}for(let f=0;f<d.length;f+=1)s.append(Re(d[f].cloneNode(!0)).addClass(n.slideDuplicateClass));for(let f=u.length-1;f>=0;f-=1)s.prepend(Re(u[f].cloneNode(!0)).addClass(n.slideDuplicateClass))}function G6(){const t=this;t.emit("beforeLoopFix");const{activeIndex:e,slides:n,loopedSlides:r,allowSlidePrev:s,allowSlideNext:o,snapGrid:u,rtlTranslate:d}=t;let f;t.allowSlidePrev=!0,t.allowSlideNext=!0;const y=-u[e]-t.getTranslate();e<r?(f=n.length-r*3+e,f+=r,t.slideTo(f,0,!1,!0)&&y!==0&&t.setTranslate((d?-t.translate:t.translate)-y)):e>=n.length-r&&(f=-n.length+e+r,f+=r,t.slideTo(f,0,!1,!0)&&y!==0&&t.setTranslate((d?-t.translate:t.translate)-y)),t.allowSlidePrev=s,t.allowSlideNext=o,t.emit("loopFix")}function K6(){const t=this,{$wrapperEl:e,params:n,slides:r}=t;e.children(`.${n.slideClass}.${n.slideDuplicateClass},.${n.slideClass}.${n.slideBlankClass}`).remove(),r.removeAttr("data-swiper-slide-index")}const Y6={loopCreate:q6,loopFix:G6,loopDestroy:K6};function Q6(t){const e=this;if(e.support.touch||!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;n.style.cursor="move",n.style.cursor=t?"grabbing":"grab"}function X6(){const t=this;t.support.touch||t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="")}const W6={setGrabCursor:Q6,unsetGrabCursor:X6};function Z6(t,e=this){function n(r){if(!r||r===dr()||r===kn())return null;r.assignedSlot&&(r=r.assignedSlot);const s=r.closest(t);return!s&&!r.getRootNode?null:s||n(r.getRootNode().host)}return n(e)}function J6(t){const e=this,n=dr(),r=kn(),s=e.touchEventsData,{params:o,touches:u,enabled:d}=e;if(!d||e.animating&&o.preventInteractionOnTransition)return;!e.animating&&o.cssMode&&o.loop&&e.loopFix();let f=t;f.originalEvent&&(f=f.originalEvent);let m=Re(f.target);if(o.touchEventsTarget==="wrapper"&&!m.closest(e.wrapperEl).length||(s.isTouchEvent=f.type==="touchstart",!s.isTouchEvent&&"which"in f&&f.which===3)||!s.isTouchEvent&&"button"in f&&f.button>0||s.isTouched&&s.isMoved)return;const y=!!o.noSwipingClass&&o.noSwipingClass!=="",b=t.composedPath?t.composedPath():t.path;y&&f.target&&f.target.shadowRoot&&b&&(m=Re(b[0]));const _=o.noSwipingSelector?o.noSwipingSelector:`.${o.noSwipingClass}`,w=!!(f.target&&f.target.shadowRoot);if(o.noSwiping&&(w?Z6(_,m[0]):m.closest(_)[0])){e.allowClick=!0;return}if(o.swipeHandler&&!m.closest(o.swipeHandler)[0])return;u.currentX=f.type==="touchstart"?f.targetTouches[0].pageX:f.pageX,u.currentY=f.type==="touchstart"?f.targetTouches[0].pageY:f.pageY;const S=u.currentX,x=u.currentY,C=o.edgeSwipeDetection||o.iOSEdgeSwipeDetection,V=o.edgeSwipeThreshold||o.iOSEdgeSwipeThreshold;if(C&&(S<=V||S>=r.innerWidth-V))if(C==="prevent")t.preventDefault();else return;if(Object.assign(s,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),u.startX=S,u.startY=x,s.touchStartTime=ad(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,o.threshold>0&&(s.allowThresholdMove=!1),f.type!=="touchstart"){let L=!0;m.is(s.focusableElements)&&(L=!1,m[0].nodeName==="SELECT"&&(s.isTouched=!1)),n.activeElement&&Re(n.activeElement).is(s.focusableElements)&&n.activeElement!==m[0]&&n.activeElement.blur();const $=L&&e.allowTouchMove&&o.touchStartPreventDefault;(o.touchStartForcePreventDefault||$)&&!m[0].isContentEditable&&f.preventDefault()}e.params.freeMode&&e.params.freeMode.enabled&&e.freeMode&&e.animating&&!o.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",f)}function eU(t){const e=dr(),n=this,r=n.touchEventsData,{params:s,touches:o,rtlTranslate:u,enabled:d}=n;if(!d)return;let f=t;if(f.originalEvent&&(f=f.originalEvent),!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",f);return}if(r.isTouchEvent&&f.type!=="touchmove")return;const m=f.type==="touchmove"&&f.targetTouches&&(f.targetTouches[0]||f.changedTouches[0]),y=f.type==="touchmove"?m.pageX:f.pageX,b=f.type==="touchmove"?m.pageY:f.pageY;if(f.preventedByNestedSwiper){o.startX=y,o.startY=b;return}if(!n.allowTouchMove){Re(f.target).is(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(o,{startX:y,startY:b,currentX:y,currentY:b}),r.touchStartTime=ad());return}if(r.isTouchEvent&&s.touchReleaseOnEdges&&!s.loop){if(n.isVertical()){if(b<o.startY&&n.translate<=n.maxTranslate()||b>o.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else if(y<o.startX&&n.translate<=n.maxTranslate()||y>o.startX&&n.translate>=n.minTranslate())return}if(r.isTouchEvent&&e.activeElement&&f.target===e.activeElement&&Re(f.target).is(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}if(r.allowTouchCallbacks&&n.emit("touchMove",f),f.targetTouches&&f.targetTouches.length>1)return;o.currentX=y,o.currentY=b;const _=o.currentX-o.startX,w=o.currentY-o.startY;if(n.params.threshold&&Math.sqrt(_**2+w**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let V;n.isHorizontal()&&o.currentY===o.startY||n.isVertical()&&o.currentX===o.startX?r.isScrolling=!1:_*_+w*w>=25&&(V=Math.atan2(Math.abs(w),Math.abs(_))*180/Math.PI,r.isScrolling=n.isHorizontal()?V>s.touchAngle:90-V>s.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",f),typeof r.startMoving>"u"&&(o.currentX!==o.startX||o.currentY!==o.startY)&&(r.startMoving=!0),r.isScrolling){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!s.cssMode&&f.cancelable&&f.preventDefault(),s.touchMoveStopPropagation&&!s.nested&&f.stopPropagation(),r.isMoved||(s.loop&&!s.cssMode&&n.loopFix(),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating&&n.$wrapperEl.trigger("webkitTransitionEnd transitionend"),r.allowMomentumBounce=!1,s.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",f)),n.emit("sliderMove",f),r.isMoved=!0;let S=n.isHorizontal()?_:w;o.diff=S,S*=s.touchRatio,u&&(S=-S),n.swipeDirection=S>0?"prev":"next",r.currentTranslate=S+r.startTranslate;let x=!0,C=s.resistanceRatio;if(s.touchReleaseOnEdges&&(C=0),S>0&&r.currentTranslate>n.minTranslate()?(x=!1,s.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+S)**C)):S<0&&r.currentTranslate<n.maxTranslate()&&(x=!1,s.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-S)**C)),x&&(f.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),s.threshold>0)if(Math.abs(S)>s.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,o.startX=o.currentX,o.startY=o.currentY,r.currentTranslate=r.startTranslate,o.diff=n.isHorizontal()?o.currentX-o.startX:o.currentY-o.startY;return}}else{r.currentTranslate=r.startTranslate;return}!s.followFinger||s.cssMode||((s.freeMode&&s.freeMode.enabled&&n.freeMode||s.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),n.params.freeMode&&s.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function tU(t){const e=this,n=e.touchEventsData,{params:r,touches:s,rtlTranslate:o,slidesGrid:u,enabled:d}=e;if(!d)return;let f=t;if(f.originalEvent&&(f=f.originalEvent),n.allowTouchCallbacks&&e.emit("touchEnd",f),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&r.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}r.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const m=ad(),y=m-n.touchStartTime;if(e.allowClick){const L=f.path||f.composedPath&&f.composedPath();e.updateClickedSlide(L&&L[0]||f.target),e.emit("tap click",f),y<300&&m-n.lastClickTime<300&&e.emit("doubleTap doubleClick",f)}if(n.lastClickTime=ad(),qh(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||s.diff===0||n.currentTranslate===n.startTranslate){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let b;if(r.followFinger?b=o?e.translate:-e.translate:b=-n.currentTranslate,r.cssMode)return;if(e.params.freeMode&&r.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:b});return}let _=0,w=e.slidesSizesGrid[0];for(let L=0;L<u.length;L+=L<r.slidesPerGroupSkip?1:r.slidesPerGroup){const $=L<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;typeof u[L+$]<"u"?b>=u[L]&&b<u[L+$]&&(_=L,w=u[L+$]-u[L]):b>=u[L]&&(_=L,w=u[u.length-1]-u[u.length-2])}let S=null,x=null;r.rewind&&(e.isBeginning?x=e.params.virtual&&e.params.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(S=0));const C=(b-u[_])/w,V=_<r.slidesPerGroupSkip-1?1:r.slidesPerGroup;if(y>r.longSwipesMs){if(!r.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(C>=r.longSwipesRatio?e.slideTo(r.rewind&&e.isEnd?S:_+V):e.slideTo(_)),e.swipeDirection==="prev"&&(C>1-r.longSwipesRatio?e.slideTo(_+V):x!==null&&C<0&&Math.abs(C)>r.longSwipesRatio?e.slideTo(x):e.slideTo(_))}else{if(!r.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(f.target===e.navigation.nextEl||f.target===e.navigation.prevEl)?f.target===e.navigation.nextEl?e.slideTo(_+V):e.slideTo(_):(e.swipeDirection==="next"&&e.slideTo(S!==null?S:_+V),e.swipeDirection==="prev"&&e.slideTo(x!==null?x:_))}}function Xw(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:s,snapGrid:o}=t;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses(),(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides?t.slideTo(t.slides.length-1,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.run(),t.allowSlidePrev=s,t.allowSlideNext=r,t.params.watchOverflow&&o!==t.snapGrid&&t.checkOverflow()}function nU(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function rU(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let s;const o=t.maxTranslate()-t.minTranslate();o===0?s=0:s=(t.translate-t.minTranslate())/o,s!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}let Ww=!1;function iU(){}const sC=(t,e)=>{const n=dr(),{params:r,touchEvents:s,el:o,wrapperEl:u,device:d,support:f}=t,m=!!r.nested,y=e==="on"?"addEventListener":"removeEventListener",b=e;if(!f.touch)o[y](s.start,t.onTouchStart,!1),n[y](s.move,t.onTouchMove,m),n[y](s.end,t.onTouchEnd,!1);else{const _=s.start==="touchstart"&&f.passiveListener&&r.passiveListeners?{passive:!0,capture:!1}:!1;o[y](s.start,t.onTouchStart,_),o[y](s.move,t.onTouchMove,f.passiveListener?{passive:!1,capture:m}:m),o[y](s.end,t.onTouchEnd,_),s.cancel&&o[y](s.cancel,t.onTouchEnd,_)}(r.preventClicks||r.preventClicksPropagation)&&o[y]("click",t.onClick,!0),r.cssMode&&u[y]("scroll",t.onScroll),r.updateOnWindowResize?t[b](d.ios||d.android?"resize orientationchange observerUpdate":"resize observerUpdate",Xw,!0):t[b]("observerUpdate",Xw,!0)};function sU(){const t=this,e=dr(),{params:n,support:r}=t;t.onTouchStart=J6.bind(t),t.onTouchMove=eU.bind(t),t.onTouchEnd=tU.bind(t),n.cssMode&&(t.onScroll=rU.bind(t)),t.onClick=nU.bind(t),r.touch&&!Ww&&(e.addEventListener("touchstart",iU),Ww=!0),sC(t,"on")}function aU(){sC(this,"off")}const oU={attachEvents:sU,detachEvents:aU},Zw=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function lU(){const t=this,{activeIndex:e,initialized:n,loopedSlides:r=0,params:s,$el:o}=t,u=s.breakpoints;if(!u||u&&Object.keys(u).length===0)return;const d=t.getBreakpoint(u,t.params.breakpointsBase,t.el);if(!d||t.currentBreakpoint===d)return;const m=(d in u?u[d]:void 0)||t.originalParams,y=Zw(t,s),b=Zw(t,m),_=s.enabled;y&&!b?(o.removeClass(`${s.containerModifierClass}grid ${s.containerModifierClass}grid-column`),t.emitContainerClasses()):!y&&b&&(o.addClass(`${s.containerModifierClass}grid`),(m.grid.fill&&m.grid.fill==="column"||!m.grid.fill&&s.grid.fill==="column")&&o.addClass(`${s.containerModifierClass}grid-column`),t.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(C=>{const V=s[C]&&s[C].enabled,L=m[C]&&m[C].enabled;V&&!L&&t[C].disable(),!V&&L&&t[C].enable()});const w=m.direction&&m.direction!==s.direction,S=s.loop&&(m.slidesPerView!==s.slidesPerView||w);w&&n&&t.changeDirection(),Lr(t.params,m);const x=t.params.enabled;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),_&&!x?t.disable():!_&&x&&t.enable(),t.currentBreakpoint=d,t.emit("_beforeBreakpoint",m),S&&n&&(t.loopDestroy(),t.loopCreate(),t.updateSlides(),t.slideTo(e-r+t.loopedSlides,0,!1)),t.emit("breakpoint",m)}function uU(t,e="window",n){if(!t||e==="container"&&!n)return;let r=!1;const s=kn(),o=e==="window"?s.innerHeight:n.clientHeight,u=Object.keys(t).map(d=>{if(typeof d=="string"&&d.indexOf("@")===0){const f=parseFloat(d.substr(1));return{value:o*f,point:d}}return{value:d,point:d}});u.sort((d,f)=>parseInt(d.value,10)-parseInt(f.value,10));for(let d=0;d<u.length;d+=1){const{point:f,value:m}=u[d];e==="window"?s.matchMedia(`(min-width: ${m}px)`).matches&&(r=f):m<=n.clientWidth&&(r=f)}return r||"max"}const cU={setBreakpoint:lU,getBreakpoint:uU};function dU(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(s=>{r[s]&&n.push(e+s)}):typeof r=="string"&&n.push(e+r)}),n}function fU(){const t=this,{classNames:e,params:n,rtl:r,$el:s,device:o,support:u}=t,d=dU(["initialized",n.direction,{"pointer-events":!u.touch},{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:o.android},{ios:o.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...d),s.addClass([...e].join(" ")),t.emitContainerClasses()}function hU(){const t=this,{$el:e,classNames:n}=t;e.removeClass(n.join(" ")),t.emitContainerClasses()}const mU={addClasses:fU,removeClasses:hU};function pU(t,e,n,r,s,o){const u=kn();let d;function f(){o&&o()}!Re(t).parent("picture")[0]&&(!t.complete||!s)&&e?(d=new u.Image,d.onload=f,d.onerror=f,r&&(d.sizes=r),n&&(d.srcset=n),e&&(d.src=e)):f()}function gU(){const t=this;t.imagesToLoad=t.$el.find("img");function e(){typeof t>"u"||t===null||!t||t.destroyed||(t.imagesLoaded!==void 0&&(t.imagesLoaded+=1),t.imagesLoaded===t.imagesToLoad.length&&(t.params.updateOnImagesReady&&t.update(),t.emit("imagesReady")))}for(let n=0;n<t.imagesToLoad.length;n+=1){const r=t.imagesToLoad[n];t.loadImage(r,r.currentSrc||r.getAttribute("src"),r.srcset||r.getAttribute("srcset"),r.sizes||r.getAttribute("sizes"),!0,e)}}const yU={loadImage:pU,preloadImages:gU};function vU(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const s=t.slides.length-1,o=t.slidesGrid[s]+t.slidesSizesGrid[s]+r*2;t.isLocked=t.size>o}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}const _U={checkOverflow:vU},Jw={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function bU(t,e){return function(r={}){const s=Object.keys(r)[0],o=r[s];if(typeof o!="object"||o===null){Lr(e,r);return}if(["navigation","pagination","scrollbar"].indexOf(s)>=0&&t[s]===!0&&(t[s]={auto:!0}),!(s in t&&"enabled"in o)){Lr(e,r);return}t[s]===!0&&(t[s]={enabled:!0}),typeof t[s]=="object"&&!("enabled"in t[s])&&(t[s].enabled=!0),t[s]||(t[s]={enabled:!1}),Lr(e,r)}}const ay={eventsEmitter:g6,update:x6,translate:D6,transition:L6,slide:H6,loop:Y6,grabCursor:W6,events:oU,breakpoints:cU,checkOverflow:_U,classes:mU,images:yU},oy={};let au=class Cs{constructor(...e){let n,r;if(e.length===1&&e[0].constructor&&Object.prototype.toString.call(e[0]).slice(8,-1)==="Object"?r=e[0]:[n,r]=e,r||(r={}),r=Lr({},r),n&&!r.el&&(r.el=n),r.el&&Re(r.el).length>1){const d=[];return Re(r.el).each(f=>{const m=Lr({},r,{el:f});d.push(new Cs(m))}),d}const s=this;s.__swiper__=!0,s.support=rC(),s.device=d6({userAgent:r.userAgent}),s.browser=h6(),s.eventsListeners={},s.eventsAnyListeners=[],s.modules=[...s.__modules__],r.modules&&Array.isArray(r.modules)&&s.modules.push(...r.modules);const o={};s.modules.forEach(d=>{d({swiper:s,extendParams:bU(r,o),on:s.on.bind(s),once:s.once.bind(s),off:s.off.bind(s),emit:s.emit.bind(s)})});const u=Lr({},Jw,o);return s.params=Lr({},u,oy,r),s.originalParams=Lr({},s.params),s.passedParams=Lr({},r),s.params&&s.params.on&&Object.keys(s.params.on).forEach(d=>{s.on(d,s.params.on[d])}),s.params&&s.params.onAny&&s.onAny(s.params.onAny),s.$=Re,Object.assign(s,{enabled:s.params.enabled,el:n,classNames:[],slides:Re(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return s.params.direction==="horizontal"},isVertical(){return s.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:s.params.allowSlideNext,allowSlidePrev:s.params.allowSlidePrev,touchEvents:function(){const f=["touchstart","touchmove","touchend","touchcancel"],m=["pointerdown","pointermove","pointerup"];return s.touchEventsTouch={start:f[0],move:f[1],end:f[2],cancel:f[3]},s.touchEventsDesktop={start:m[0],move:m[1],end:m[2]},s.support.touch||!s.params.simulateTouch?s.touchEventsTouch:s.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:s.params.focusableElements,lastClickTime:ad(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:s.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),s.emit("_swiper"),s.params.init&&s.init(),s}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const s=r.minTranslate(),u=(r.maxTranslate()-s)*e+s;r.translateTo(u,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.each(r=>{const s=e.getSlideClasses(r);n.push({slideEl:r,classNames:s}),e.emit("_slideClass",r,s)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e="current",n=!1){const r=this,{params:s,slides:o,slidesGrid:u,slidesSizesGrid:d,size:f,activeIndex:m}=r;let y=1;if(s.centeredSlides){let b=o[m].swiperSlideSize,_;for(let w=m+1;w<o.length;w+=1)o[w]&&!_&&(b+=o[w].swiperSlideSize,y+=1,b>f&&(_=!0));for(let w=m-1;w>=0;w-=1)o[w]&&!_&&(b+=o[w].swiperSlideSize,y+=1,b>f&&(_=!0))}else if(e==="current")for(let b=m+1;b<o.length;b+=1)(n?u[b]+d[b]-u[m]<f:u[b]-u[m]<f)&&(y+=1);else for(let b=m-1;b>=0;b-=1)u[m]-u[b]<f&&(y+=1);return y}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function s(){const u=e.rtlTranslate?e.translate*-1:e.translate,d=Math.min(Math.max(u,e.maxTranslate()),e.minTranslate());e.setTranslate(d),e.updateActiveIndex(),e.updateSlidesClasses()}let o;e.params.freeMode&&e.params.freeMode.enabled?(s(),e.params.autoHeight&&e.updateAutoHeight()):((e.params.slidesPerView==="auto"||e.params.slidesPerView>1)&&e.isEnd&&!e.params.centeredSlides?o=e.slideTo(e.slides.length-1,0,!1,!0):o=e.slideTo(e.activeIndex,0,!1,!0),o||s()),r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n=!0){const r=this,s=r.params.direction;return e||(e=s==="horizontal"?"vertical":"horizontal"),e===s||e!=="horizontal"&&e!=="vertical"||(r.$el.removeClass(`${r.params.containerModifierClass}${s}`).addClass(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.each(o=>{e==="vertical"?o.style.width="":o.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.$el.addClass(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.$el.removeClass(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;const r=Re(e||n.params.el);if(e=r[0],!e)return!1;e.swiper=n;const s=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let u=(()=>{if(e&&e.shadowRoot&&e.shadowRoot.querySelector){const d=Re(e.shadowRoot.querySelector(s()));return d.children=f=>r.children(f),d}return r.children?r.children(s()):Re(r).children(s())})();if(u.length===0&&n.params.createElements){const f=dr().createElement("div");u=Re(f),f.className=n.params.wrapperClass,r.append(f),r.children(`.${n.params.slideClass}`).each(m=>{u.append(m)})}return Object.assign(n,{$el:r,el:e,$wrapperEl:u,wrapperEl:u[0],mounted:!0,rtl:e.dir.toLowerCase()==="rtl"||r.css("direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(e.dir.toLowerCase()==="rtl"||r.css("direction")==="rtl"),wrongRTL:u.css("display")==="-webkit-box"}),!0}init(e){const n=this;return n.initialized||n.mount(e)===!1||(n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.params.loop&&n.loopCreate(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.preloadImages&&n.preloadImages(),n.params.loop?n.slideTo(n.params.initialSlide+n.loopedSlides,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.attachEvents(),n.initialized=!0,n.emit("init"),n.emit("afterInit")),n}destroy(e=!0,n=!0){const r=this,{params:s,$el:o,$wrapperEl:u,slides:d}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),s.loop&&r.loopDestroy(),n&&(r.removeClasses(),o.removeAttr("style"),u.removeAttr("style"),d&&d.length&&d.removeClass([s.slideVisibleClass,s.slideActiveClass,s.slideNextClass,s.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(f=>{r.off(f)}),e!==!1&&(r.$el[0].swiper=null,s6(r)),r.destroyed=!0),null}static extendDefaults(e){Lr(oy,e)}static get extendedDefaults(){return oy}static get defaults(){return Jw}static installModule(e){Cs.prototype.__modules__||(Cs.prototype.__modules__=[]);const n=Cs.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Cs.installModule(n)),Cs):(Cs.installModule(e),Cs)}};Object.keys(ay).forEach(t=>{Object.keys(ay[t]).forEach(e=>{au.prototype[e]=ay[t][e]})});au.use([m6,p6]);function m_(t,e,n,r){const s=dr();return t.params.createElements&&Object.keys(r).forEach(o=>{if(!n[o]&&n.auto===!0){let u=t.$el.children(`.${r[o]}`)[0];u||(u=s.createElement("div"),u.className=r[o],t.$el.append(u)),n[o]=u,e[o]=u}}),n}function EU({swiper:t,extendParams:e,on:n,emit:r}){e({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),t.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null};function s(w){let S;return w&&(S=Re(w),t.params.uniqueNavElements&&typeof w=="string"&&S.length>1&&t.$el.find(w).length===1&&(S=t.$el.find(w))),S}function o(w,S){const x=t.params.navigation;w&&w.length>0&&(w[S?"addClass":"removeClass"](x.disabledClass),w[0]&&w[0].tagName==="BUTTON"&&(w[0].disabled=S),t.params.watchOverflow&&t.enabled&&w[t.isLocked?"addClass":"removeClass"](x.lockClass))}function u(){if(t.params.loop)return;const{$nextEl:w,$prevEl:S}=t.navigation;o(S,t.isBeginning&&!t.params.rewind),o(w,t.isEnd&&!t.params.rewind)}function d(w){w.preventDefault(),!(t.isBeginning&&!t.params.loop&&!t.params.rewind)&&(t.slidePrev(),r("navigationPrev"))}function f(w){w.preventDefault(),!(t.isEnd&&!t.params.loop&&!t.params.rewind)&&(t.slideNext(),r("navigationNext"))}function m(){const w=t.params.navigation;if(t.params.navigation=m_(t,t.originalParams.navigation,t.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(w.nextEl||w.prevEl))return;const S=s(w.nextEl),x=s(w.prevEl);S&&S.length>0&&S.on("click",f),x&&x.length>0&&x.on("click",d),Object.assign(t.navigation,{$nextEl:S,nextEl:S&&S[0],$prevEl:x,prevEl:x&&x[0]}),t.enabled||(S&&S.addClass(w.lockClass),x&&x.addClass(w.lockClass))}function y(){const{$nextEl:w,$prevEl:S}=t.navigation;w&&w.length&&(w.off("click",f),w.removeClass(t.params.navigation.disabledClass)),S&&S.length&&(S.off("click",d),S.removeClass(t.params.navigation.disabledClass))}n("init",()=>{t.params.navigation.enabled===!1?_():(m(),u())}),n("toEdge fromEdge lock unlock",()=>{u()}),n("destroy",()=>{y()}),n("enable disable",()=>{const{$nextEl:w,$prevEl:S}=t.navigation;w&&w[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass),S&&S[t.enabled?"removeClass":"addClass"](t.params.navigation.lockClass)}),n("click",(w,S)=>{const{$nextEl:x,$prevEl:C}=t.navigation,V=S.target;if(t.params.navigation.hideOnClick&&!Re(V).is(C)&&!Re(V).is(x)){if(t.pagination&&t.params.pagination&&t.params.pagination.clickable&&(t.pagination.el===V||t.pagination.el.contains(V)))return;let L;x?L=x.hasClass(t.params.navigation.hiddenClass):C&&(L=C.hasClass(t.params.navigation.hiddenClass)),r(L===!0?"navigationShow":"navigationHide"),x&&x.toggleClass(t.params.navigation.hiddenClass),C&&C.toggleClass(t.params.navigation.hiddenClass)}});const b=()=>{t.$el.removeClass(t.params.navigation.navigationDisabledClass),m(),u()},_=()=>{t.$el.addClass(t.params.navigation.navigationDisabledClass),y()};Object.assign(t.navigation,{enable:b,disable:_,update:u,init:m,destroy:y})}function Ll(t=""){return`.${t.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function TU({swiper:t,extendParams:e,on:n,emit:r}){const s="swiper-pagination";e({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:x=>x,formatFractionTotal:x=>x,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),t.pagination={el:null,$el:null,bullets:[]};let o,u=0;function d(){return!t.params.pagination.el||!t.pagination.el||!t.pagination.$el||t.pagination.$el.length===0}function f(x,C){const{bulletActiveClass:V}=t.params.pagination;x[C]().addClass(`${V}-${C}`)[C]().addClass(`${V}-${C}-${C}`)}function m(){const x=t.rtl,C=t.params.pagination;if(d())return;const V=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,L=t.pagination.$el;let $;const Y=t.params.loop?Math.ceil((V-t.loopedSlides*2)/t.params.slidesPerGroup):t.snapGrid.length;if(t.params.loop?($=Math.ceil((t.activeIndex-t.loopedSlides)/t.params.slidesPerGroup),$>V-1-t.loopedSlides*2&&($-=V-t.loopedSlides*2),$>Y-1&&($-=Y),$<0&&t.params.paginationType!=="bullets"&&($=Y+$)):typeof t.snapIndex<"u"?$=t.snapIndex:$=t.activeIndex||0,C.type==="bullets"&&t.pagination.bullets&&t.pagination.bullets.length>0){const G=t.pagination.bullets;let F,U,R;if(C.dynamicBullets&&(o=G.eq(0)[t.isHorizontal()?"outerWidth":"outerHeight"](!0),L.css(t.isHorizontal()?"width":"height",`${o*(C.dynamicMainBullets+4)}px`),C.dynamicMainBullets>1&&t.previousIndex!==void 0&&(u+=$-(t.previousIndex-t.loopedSlides||0),u>C.dynamicMainBullets-1?u=C.dynamicMainBullets-1:u<0&&(u=0)),F=Math.max($-u,0),U=F+(Math.min(G.length,C.dynamicMainBullets)-1),R=(U+F)/2),G.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(k=>`${C.bulletActiveClass}${k}`).join(" ")),L.length>1)G.each(k=>{const P=Re(k),O=P.index();O===$&&P.addClass(C.bulletActiveClass),C.dynamicBullets&&(O>=F&&O<=U&&P.addClass(`${C.bulletActiveClass}-main`),O===F&&f(P,"prev"),O===U&&f(P,"next"))});else{const k=G.eq($),P=k.index();if(k.addClass(C.bulletActiveClass),C.dynamicBullets){const O=G.eq(F),M=G.eq(U);for(let I=F;I<=U;I+=1)G.eq(I).addClass(`${C.bulletActiveClass}-main`);if(t.params.loop)if(P>=G.length){for(let I=C.dynamicMainBullets;I>=0;I-=1)G.eq(G.length-I).addClass(`${C.bulletActiveClass}-main`);G.eq(G.length-C.dynamicMainBullets-1).addClass(`${C.bulletActiveClass}-prev`)}else f(O,"prev"),f(M,"next");else f(O,"prev"),f(M,"next")}}if(C.dynamicBullets){const k=Math.min(G.length,C.dynamicMainBullets+4),P=(o*k-o)/2-R*o,O=x?"right":"left";G.css(t.isHorizontal()?O:"top",`${P}px`)}}if(C.type==="fraction"&&(L.find(Ll(C.currentClass)).text(C.formatFractionCurrent($+1)),L.find(Ll(C.totalClass)).text(C.formatFractionTotal(Y))),C.type==="progressbar"){let G;C.progressbarOpposite?G=t.isHorizontal()?"vertical":"horizontal":G=t.isHorizontal()?"horizontal":"vertical";const F=($+1)/Y;let U=1,R=1;G==="horizontal"?U=F:R=F,L.find(Ll(C.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${U}) scaleY(${R})`).transition(t.params.speed)}C.type==="custom"&&C.renderCustom?(L.html(C.renderCustom(t,$+1,Y)),r("paginationRender",L[0])):r("paginationUpdate",L[0]),t.params.watchOverflow&&t.enabled&&L[t.isLocked?"addClass":"removeClass"](C.lockClass)}function y(){const x=t.params.pagination;if(d())return;const C=t.virtual&&t.params.virtual.enabled?t.virtual.slides.length:t.slides.length,V=t.pagination.$el;let L="";if(x.type==="bullets"){let $=t.params.loop?Math.ceil((C-t.loopedSlides*2)/t.params.slidesPerGroup):t.snapGrid.length;t.params.freeMode&&t.params.freeMode.enabled&&!t.params.loop&&$>C&&($=C);for(let Y=0;Y<$;Y+=1)x.renderBullet?L+=x.renderBullet.call(t,Y,x.bulletClass):L+=`<${x.bulletElement} class="${x.bulletClass}"></${x.bulletElement}>`;V.html(L),t.pagination.bullets=V.find(Ll(x.bulletClass))}x.type==="fraction"&&(x.renderFraction?L=x.renderFraction.call(t,x.currentClass,x.totalClass):L=`<span class="${x.currentClass}"></span> / <span class="${x.totalClass}"></span>`,V.html(L)),x.type==="progressbar"&&(x.renderProgressbar?L=x.renderProgressbar.call(t,x.progressbarFillClass):L=`<span class="${x.progressbarFillClass}"></span>`,V.html(L)),x.type!=="custom"&&r("paginationRender",t.pagination.$el[0])}function b(){t.params.pagination=m_(t,t.originalParams.pagination,t.params.pagination,{el:"swiper-pagination"});const x=t.params.pagination;if(!x.el)return;let C=Re(x.el);C.length!==0&&(t.params.uniqueNavElements&&typeof x.el=="string"&&C.length>1&&(C=t.$el.find(x.el),C.length>1&&(C=C.filter(V=>Re(V).parents(".swiper")[0]===t.el))),x.type==="bullets"&&x.clickable&&C.addClass(x.clickableClass),C.addClass(x.modifierClass+x.type),C.addClass(t.isHorizontal()?x.horizontalClass:x.verticalClass),x.type==="bullets"&&x.dynamicBullets&&(C.addClass(`${x.modifierClass}${x.type}-dynamic`),u=0,x.dynamicMainBullets<1&&(x.dynamicMainBullets=1)),x.type==="progressbar"&&x.progressbarOpposite&&C.addClass(x.progressbarOppositeClass),x.clickable&&C.on("click",Ll(x.bulletClass),function(L){L.preventDefault();let $=Re(this).index()*t.params.slidesPerGroup;t.params.loop&&($+=t.loopedSlides),t.slideTo($)}),Object.assign(t.pagination,{$el:C,el:C[0]}),t.enabled||C.addClass(x.lockClass))}function _(){const x=t.params.pagination;if(d())return;const C=t.pagination.$el;C.removeClass(x.hiddenClass),C.removeClass(x.modifierClass+x.type),C.removeClass(t.isHorizontal()?x.horizontalClass:x.verticalClass),t.pagination.bullets&&t.pagination.bullets.removeClass&&t.pagination.bullets.removeClass(x.bulletActiveClass),x.clickable&&C.off("click",Ll(x.bulletClass))}n("init",()=>{t.params.pagination.enabled===!1?S():(b(),y(),m())}),n("activeIndexChange",()=>{(t.params.loop||typeof t.snapIndex>"u")&&m()}),n("snapIndexChange",()=>{t.params.loop||m()}),n("slidesLengthChange",()=>{t.params.loop&&(y(),m())}),n("snapGridLengthChange",()=>{t.params.loop||(y(),m())}),n("destroy",()=>{_()}),n("enable disable",()=>{const{$el:x}=t.pagination;x&&x[t.enabled?"removeClass":"addClass"](t.params.pagination.lockClass)}),n("lock unlock",()=>{m()}),n("click",(x,C)=>{const V=C.target,{$el:L}=t.pagination;if(t.params.pagination.el&&t.params.pagination.hideOnClick&&L&&L.length>0&&!Re(V).hasClass(t.params.pagination.bulletClass)){if(t.navigation&&(t.navigation.nextEl&&V===t.navigation.nextEl||t.navigation.prevEl&&V===t.navigation.prevEl))return;const $=L.hasClass(t.params.pagination.hiddenClass);r($===!0?"paginationShow":"paginationHide"),L.toggleClass(t.params.pagination.hiddenClass)}});const w=()=>{t.$el.removeClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.removeClass(t.params.pagination.paginationDisabledClass),b(),y(),m()},S=()=>{t.$el.addClass(t.params.pagination.paginationDisabledClass),t.pagination.$el&&t.pagination.$el.addClass(t.params.pagination.paginationDisabledClass),_()};Object.assign(t.pagination,{enable:w,disable:S,render:y,update:m,init:b,destroy:_})}function wU({swiper:t,extendParams:e,on:n,emit:r}){const s=dr();let o=!1,u=null,d=null,f,m,y,b;e({scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag",scrollbarDisabledClass:"swiper-scrollbar-disabled",horizontalClass:"swiper-scrollbar-horizontal",verticalClass:"swiper-scrollbar-vertical"}}),t.scrollbar={el:null,dragEl:null,$el:null,$dragEl:null};function _(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:O,rtlTranslate:M,progress:I}=t,{$dragEl:ye,$el:Ee}=O,Q=t.params.scrollbar;let ce=m,ge=(y-m)*I;M?(ge=-ge,ge>0?(ce=m-ge,ge=0):-ge+m>y&&(ce=y+ge)):ge<0?(ce=m+ge,ge=0):ge+m>y&&(ce=y-ge),t.isHorizontal()?(ye.transform(`translate3d(${ge}px, 0, 0)`),ye[0].style.width=`${ce}px`):(ye.transform(`translate3d(0px, ${ge}px, 0)`),ye[0].style.height=`${ce}px`),Q.hide&&(clearTimeout(u),Ee[0].style.opacity=1,u=setTimeout(()=>{Ee[0].style.opacity=0,Ee.transition(400)},1e3))}function w(O){!t.params.scrollbar.el||!t.scrollbar.el||t.scrollbar.$dragEl.transition(O)}function S(){if(!t.params.scrollbar.el||!t.scrollbar.el)return;const{scrollbar:O}=t,{$dragEl:M,$el:I}=O;M[0].style.width="",M[0].style.height="",y=t.isHorizontal()?I[0].offsetWidth:I[0].offsetHeight,b=t.size/(t.virtualSize+t.params.slidesOffsetBefore-(t.params.centeredSlides?t.snapGrid[0]:0)),t.params.scrollbar.dragSize==="auto"?m=y*b:m=parseInt(t.params.scrollbar.dragSize,10),t.isHorizontal()?M[0].style.width=`${m}px`:M[0].style.height=`${m}px`,b>=1?I[0].style.display="none":I[0].style.display="",t.params.scrollbar.hide&&(I[0].style.opacity=0),t.params.watchOverflow&&t.enabled&&O.$el[t.isLocked?"addClass":"removeClass"](t.params.scrollbar.lockClass)}function x(O){return t.isHorizontal()?O.type==="touchstart"||O.type==="touchmove"?O.targetTouches[0].clientX:O.clientX:O.type==="touchstart"||O.type==="touchmove"?O.targetTouches[0].clientY:O.clientY}function C(O){const{scrollbar:M,rtlTranslate:I}=t,{$el:ye}=M;let Ee;Ee=(x(O)-ye.offset()[t.isHorizontal()?"left":"top"]-(f!==null?f:m/2))/(y-m),Ee=Math.max(Math.min(Ee,1),0),I&&(Ee=1-Ee);const Q=t.minTranslate()+(t.maxTranslate()-t.minTranslate())*Ee;t.updateProgress(Q),t.setTranslate(Q),t.updateActiveIndex(),t.updateSlidesClasses()}function V(O){const M=t.params.scrollbar,{scrollbar:I,$wrapperEl:ye}=t,{$el:Ee,$dragEl:Q}=I;o=!0,f=O.target===Q[0]||O.target===Q?x(O)-O.target.getBoundingClientRect()[t.isHorizontal()?"left":"top"]:null,O.preventDefault(),O.stopPropagation(),ye.transition(100),Q.transition(100),C(O),clearTimeout(d),Ee.transition(0),M.hide&&Ee.css("opacity",1),t.params.cssMode&&t.$wrapperEl.css("scroll-snap-type","none"),r("scrollbarDragStart",O)}function L(O){const{scrollbar:M,$wrapperEl:I}=t,{$el:ye,$dragEl:Ee}=M;o&&(O.preventDefault?O.preventDefault():O.returnValue=!1,C(O),I.transition(0),ye.transition(0),Ee.transition(0),r("scrollbarDragMove",O))}function $(O){const M=t.params.scrollbar,{scrollbar:I,$wrapperEl:ye}=t,{$el:Ee}=I;o&&(o=!1,t.params.cssMode&&(t.$wrapperEl.css("scroll-snap-type",""),ye.transition("")),M.hide&&(clearTimeout(d),d=qh(()=>{Ee.css("opacity",0),Ee.transition(400)},1e3)),r("scrollbarDragEnd",O),M.snapOnRelease&&t.slideToClosest())}function Y(O){const{scrollbar:M,touchEventsTouch:I,touchEventsDesktop:ye,params:Ee,support:Q}=t,ce=M.$el;if(!ce)return;const ge=ce[0],Ce=Q.passiveListener&&Ee.passiveListeners?{passive:!1,capture:!1}:!1,j=Q.passiveListener&&Ee.passiveListeners?{passive:!0,capture:!1}:!1;if(!ge)return;const oe=O==="on"?"addEventListener":"removeEventListener";Q.touch?(ge[oe](I.start,V,Ce),ge[oe](I.move,L,Ce),ge[oe](I.end,$,j)):(ge[oe](ye.start,V,Ce),s[oe](ye.move,L,Ce),s[oe](ye.end,$,j))}function G(){!t.params.scrollbar.el||!t.scrollbar.el||Y("on")}function F(){!t.params.scrollbar.el||!t.scrollbar.el||Y("off")}function U(){const{scrollbar:O,$el:M}=t;t.params.scrollbar=m_(t,t.originalParams.scrollbar,t.params.scrollbar,{el:"swiper-scrollbar"});const I=t.params.scrollbar;if(!I.el)return;let ye=Re(I.el);t.params.uniqueNavElements&&typeof I.el=="string"&&ye.length>1&&M.find(I.el).length===1&&(ye=M.find(I.el)),ye.addClass(t.isHorizontal()?I.horizontalClass:I.verticalClass);let Ee=ye.find(`.${t.params.scrollbar.dragClass}`);Ee.length===0&&(Ee=Re(`<div class="${t.params.scrollbar.dragClass}"></div>`),ye.append(Ee)),Object.assign(O,{$el:ye,el:ye[0],$dragEl:Ee,dragEl:Ee[0]}),I.draggable&&G(),ye&&ye[t.enabled?"removeClass":"addClass"](t.params.scrollbar.lockClass)}function R(){const O=t.params.scrollbar,M=t.scrollbar.$el;M&&M.removeClass(t.isHorizontal()?O.horizontalClass:O.verticalClass),F()}n("init",()=>{t.params.scrollbar.enabled===!1?P():(U(),S(),_())}),n("update resize observerUpdate lock unlock",()=>{S()}),n("setTranslate",()=>{_()}),n("setTransition",(O,M)=>{w(M)}),n("enable disable",()=>{const{$el:O}=t.scrollbar;O&&O[t.enabled?"removeClass":"addClass"](t.params.scrollbar.lockClass)}),n("destroy",()=>{R()});const k=()=>{t.$el.removeClass(t.params.scrollbar.scrollbarDisabledClass),t.scrollbar.$el&&t.scrollbar.$el.removeClass(t.params.scrollbar.scrollbarDisabledClass),U(),S(),_()},P=()=>{t.$el.addClass(t.params.scrollbar.scrollbarDisabledClass),t.scrollbar.$el&&t.scrollbar.$el.addClass(t.params.scrollbar.scrollbarDisabledClass),R()};Object.assign(t.scrollbar,{enable:k,disable:P,updateSize:S,setTranslate:_,init:U,destroy:R})}function zo(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function Ca(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:zo(e[r])&&zo(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:Ca(t[r],e[r]):t[r]=e[r]})}function aC(t={}){return t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function oC(t={}){return t.pagination&&typeof t.pagination.el>"u"}function lC(t={}){return t.scrollbar&&typeof t.scrollbar.el>"u"}function uC(t=""){const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}const cC=["modules","init","_direction","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_preloadImages","updateOnImagesReady","_loop","_loopAdditionalSlides","_loopedSlides","_loopedSlidesLimit","_loopFillGroupWithBlank","loopPreventsSlide","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideBlankClass","slideActiveClass","slideDuplicateActiveClass","slideVisibleClass","slideDuplicateClass","slideNextClass","slideDuplicateNextClass","slidePrevClass","slideDuplicatePrevClass","wrapperClass","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","lazy","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom"];function SU(t={},e=!0){const n={on:{}},r={},s={};Ca(n,au.defaults),Ca(n,au.extendedDefaults),n._emitClasses=!0,n.init=!1;const o={},u=cC.map(f=>f.replace(/_/,"")),d=Object.assign({},t);return Object.keys(d).forEach(f=>{typeof t[f]>"u"||(u.indexOf(f)>=0?zo(t[f])?(n[f]={},s[f]={},Ca(n[f],t[f]),Ca(s[f],t[f])):(n[f]=t[f],s[f]=t[f]):f.search(/on[A-Z]/)===0&&typeof t[f]=="function"?e?r[`${f[2].toLowerCase()}${f.substr(3)}`]=t[f]:n.on[`${f[2].toLowerCase()}${f.substr(3)}`]=t[f]:o[f]=t[f])}),["navigation","pagination","scrollbar"].forEach(f=>{n[f]===!0&&(n[f]={}),n[f]===!1&&delete n[f]}),{params:n,passedParams:s,rest:o,events:r}}function AU({el:t,nextEl:e,prevEl:n,paginationEl:r,scrollbarEl:s,swiper:o},u){aC(u)&&e&&n&&(o.params.navigation.nextEl=e,o.originalParams.navigation.nextEl=e,o.params.navigation.prevEl=n,o.originalParams.navigation.prevEl=n),oC(u)&&r&&(o.params.pagination.el=r,o.originalParams.pagination.el=r),lC(u)&&s&&(o.params.scrollbar.el=s,o.originalParams.scrollbar.el=s),o.init(t)}const dC=(t,e)=>{let n=e.slidesPerView;if(e.breakpoints){const s=au.prototype.getBreakpoint(e.breakpoints),o=s in e.breakpoints?e.breakpoints[s]:void 0;o&&o.slidesPerView&&(n=o.slidesPerView)}let r=Math.ceil(parseFloat(e.loopedSlides||n,10));return r+=e.loopAdditionalSlides,r>t.length&&e.loopedSlidesLimit&&(r=t.length),r};function xU(t,e,n){const r=e.map((f,m)=>vt.cloneElement(f,{swiper:t,"data-swiper-slide-index":m}));function s(f,m,y){return vt.cloneElement(f,{key:`${f.key}-duplicate-${m}-${y}`,className:`${f.props.className||""} ${n.slideDuplicateClass}`})}if(n.loopFillGroupWithBlank){const f=n.slidesPerGroup-r.length%n.slidesPerGroup;if(f!==n.slidesPerGroup)for(let m=0;m<f;m+=1){const y=vt.createElement("div",{className:`${n.slideClass} ${n.slideBlankClass}`});r.push(y)}}n.slidesPerView==="auto"&&!n.loopedSlides&&(n.loopedSlides=r.length);const o=dC(r,n),u=[],d=[];for(let f=0;f<o;f+=1){const m=f-Math.floor(f/r.length)*r.length;d.push(s(r[m],f,"append")),u.unshift(s(r[r.length-m-1],f,"prepend"))}return t&&(t.loopedSlides=o),[...u,...r,...d]}function CU(t,e,n,r,s){const o=[];if(!e)return o;const u=f=>{o.indexOf(f)<0&&o.push(f)};if(n&&r){const f=r.map(s),m=n.map(s);f.join("")!==m.join("")&&u("children"),r.length!==n.length&&u("children")}return cC.filter(f=>f[0]==="_").map(f=>f.replace(/_/,"")).forEach(f=>{if(f in t&&f in e)if(zo(t[f])&&zo(e[f])){const m=Object.keys(t[f]),y=Object.keys(e[f]);m.length!==y.length?u(f):(m.forEach(b=>{t[f][b]!==e[f][b]&&u(f)}),y.forEach(b=>{t[f][b]!==e[f][b]&&u(f)}))}else t[f]!==e[f]&&u(f)}),o}function fC(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function hC(t){const e=[];return vt.Children.toArray(t).forEach(n=>{fC(n)?e.push(n):n.props&&n.props.children&&hC(n.props.children).forEach(r=>e.push(r))}),e}function RU(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return vt.Children.toArray(t).forEach(r=>{if(fC(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const s=hC(r.props.children);s.length>0?s.forEach(o=>e.push(o)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function IU({swiper:t,slides:e,passedParams:n,changedParams:r,nextEl:s,prevEl:o,scrollbarEl:u,paginationEl:d}){const f=r.filter(G=>G!=="children"&&G!=="direction"),{params:m,pagination:y,navigation:b,scrollbar:_,virtual:w,thumbs:S}=t;let x,C,V,L,$;r.includes("thumbs")&&n.thumbs&&n.thumbs.swiper&&m.thumbs&&!m.thumbs.swiper&&(x=!0),r.includes("controller")&&n.controller&&n.controller.control&&m.controller&&!m.controller.control&&(C=!0),r.includes("pagination")&&n.pagination&&(n.pagination.el||d)&&(m.pagination||m.pagination===!1)&&y&&!y.el&&(V=!0),r.includes("scrollbar")&&n.scrollbar&&(n.scrollbar.el||u)&&(m.scrollbar||m.scrollbar===!1)&&_&&!_.el&&(L=!0),r.includes("navigation")&&n.navigation&&(n.navigation.prevEl||o)&&(n.navigation.nextEl||s)&&(m.navigation||m.navigation===!1)&&b&&!b.prevEl&&!b.nextEl&&($=!0);const Y=G=>{t[G]&&(t[G].destroy(),G==="navigation"?(m[G].prevEl=void 0,m[G].nextEl=void 0,t[G].prevEl=void 0,t[G].nextEl=void 0):(m[G].el=void 0,t[G].el=void 0))};f.forEach(G=>{if(zo(m[G])&&zo(n[G]))Ca(m[G],n[G]);else{const F=n[G];(F===!0||F===!1)&&(G==="navigation"||G==="pagination"||G==="scrollbar")?F===!1&&Y(G):m[G]=n[G]}}),f.includes("controller")&&!C&&t.controller&&t.controller.control&&m.controller&&m.controller.control&&(t.controller.control=m.controller.control),r.includes("children")&&e&&w&&m.virtual.enabled?(w.slides=e,w.update(!0)):r.includes("children")&&t.lazy&&t.params.lazy.enabled&&t.lazy.load(),x&&S.init()&&S.update(!0),C&&(t.controller.control=m.controller.control),V&&(d&&(m.pagination.el=d),y.init(),y.render(),y.update()),L&&(u&&(m.scrollbar.el=u),_.init(),_.updateSize(),_.setTranslate()),$&&(s&&(m.navigation.nextEl=s),o&&(m.navigation.prevEl=o),b.init(),b.update()),r.includes("allowSlideNext")&&(t.allowSlideNext=n.allowSlideNext),r.includes("allowSlidePrev")&&(t.allowSlidePrev=n.allowSlidePrev),r.includes("direction")&&t.changeDirection(n.direction,!1),t.update()}function NU(t,e,n){if(!n)return null;const r=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`};return e.filter((s,o)=>o>=n.from&&o<=n.to).map(s=>vt.cloneElement(s,{swiper:t,style:r}))}const OU=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.lazy&&t.params.lazy.enabled&&t.lazy.load(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function qc(t,e){return typeof window>"u"?B.useEffect(t,e):B.useLayoutEffect(t,e)}const DU=B.createContext(null),kU=B.createContext(null);function Hy(){return Hy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Hy.apply(this,arguments)}const mC=B.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:s="div",children:o,onSwiper:u,...d}=t===void 0?{}:t,f=!1;const[m,y]=B.useState("swiper"),[b,_]=B.useState(null),[w,S]=B.useState(!1),x=B.useRef(!1),C=B.useRef(null),V=B.useRef(null),L=B.useRef(null),$=B.useRef(null),Y=B.useRef(null),G=B.useRef(null),F=B.useRef(null),U=B.useRef(null),{params:R,passedParams:k,rest:P,events:O}=SU(d),{slides:M,slots:I}=RU(o),ye=()=>{S(!w)};Object.assign(R.on,{_containerClasses(Ce,j){y(j)}});const Ee=()=>{if(Object.assign(R.on,O),f=!0,V.current=new au(R),V.current.loopCreate=()=>{},V.current.loopDestroy=()=>{},R.loop&&(V.current.loopedSlides=dC(M,R)),V.current.virtual&&V.current.params.virtual.enabled){V.current.virtual.slides=M;const Ce={cache:!1,slides:M,renderExternal:_,renderExternalUpdate:!1};Ca(V.current.params.virtual,Ce),Ca(V.current.originalParams.virtual,Ce)}};C.current||Ee(),V.current&&V.current.on("_beforeBreakpoint",ye);const Q=()=>{f||!O||!V.current||Object.keys(O).forEach(Ce=>{V.current.on(Ce,O[Ce])})},ce=()=>{!O||!V.current||Object.keys(O).forEach(Ce=>{V.current.off(Ce,O[Ce])})};B.useEffect(()=>()=>{V.current&&V.current.off("_beforeBreakpoint",ye)}),B.useEffect(()=>{!x.current&&V.current&&(V.current.emitSlidesClasses(),x.current=!0)}),qc(()=>{if(e&&(e.current=C.current),!!C.current)return V.current.destroyed&&Ee(),AU({el:C.current,nextEl:Y.current,prevEl:G.current,paginationEl:F.current,scrollbarEl:U.current,swiper:V.current},R),u&&u(V.current),()=>{V.current&&!V.current.destroyed&&V.current.destroy(!0,!1)}},[]),qc(()=>{Q();const Ce=CU(k,L.current,M,$.current,j=>j.key);return L.current=k,$.current=M,Ce.length&&V.current&&!V.current.destroyed&&IU({swiper:V.current,slides:M,passedParams:k,changedParams:Ce,nextEl:Y.current,prevEl:G.current,scrollbarEl:U.current,paginationEl:F.current}),()=>{ce()}}),qc(()=>{OU(V.current)},[b]);function ge(){return R.virtual?NU(V.current,M,b):!R.loop||V.current&&V.current.destroyed?M.map(Ce=>vt.cloneElement(Ce,{swiper:V.current})):xU(V.current,M,R)}return vt.createElement(r,Hy({ref:C,className:uC(`${m}${n?` ${n}`:""}`)},P),vt.createElement(kU.Provider,{value:V.current},I["container-start"],vt.createElement(s,{className:"swiper-wrapper"},I["wrapper-start"],ge(),I["wrapper-end"]),aC(R)&&vt.createElement(vt.Fragment,null,vt.createElement("div",{ref:G,className:"swiper-button-prev"}),vt.createElement("div",{ref:Y,className:"swiper-button-next"})),lC(R)&&vt.createElement("div",{ref:U,className:"swiper-scrollbar"}),oC(R)&&vt.createElement("div",{ref:F,className:"swiper-pagination"}),I["container-end"]))});mC.displayName="Swiper";function qy(){return qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qy.apply(this,arguments)}const pC=B.forwardRef(function(t,e){let{tag:n="div",children:r,className:s="",swiper:o,zoom:u,virtualIndex:d,...f}=t===void 0?{}:t;const m=B.useRef(null),[y,b]=B.useState("swiper-slide");function _(x,C,V){C===m.current&&b(V)}qc(()=>{if(e&&(e.current=m.current),!(!m.current||!o)){if(o.destroyed){y!=="swiper-slide"&&b("swiper-slide");return}return o.on("_slideClass",_),()=>{o&&o.off("_slideClass",_)}}}),qc(()=>{o&&m.current&&!o.destroyed&&b(o.getSlideClasses(m.current))},[o]);const w={isActive:y.indexOf("swiper-slide-active")>=0||y.indexOf("swiper-slide-duplicate-active")>=0,isVisible:y.indexOf("swiper-slide-visible")>=0,isDuplicate:y.indexOf("swiper-slide-duplicate")>=0,isPrev:y.indexOf("swiper-slide-prev")>=0||y.indexOf("swiper-slide-duplicate-prev")>=0,isNext:y.indexOf("swiper-slide-next")>=0||y.indexOf("swiper-slide-duplicate-next")>=0},S=()=>typeof r=="function"?r(w):r;return vt.createElement(n,qy({ref:m,className:uC(`${y}${s?` ${s}`:""}`),"data-swiper-slide-index":d},f),vt.createElement(DU.Provider,{value:w},u?vt.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof u=="number"?u:void 0},S()):S()))});pC.displayName="SwiperSlide";function MU(){const[t,e]=B.useState(),{id:n}=b2(),[r,s]=B.useState(2),[o,u]=B.useState(null),[d,f]=B.useState(!0),m=fu();return B.useEffect(()=>{async function y(){if(n)try{const b=Am(bi,"cars",n),_=await ZL(b);if(!_.exists()){m("/");return}const w=_.data(),S={id:_.id,name:w==null?void 0:w.name,brand:w==null?void 0:w.brand,year:w==null?void 0:w.year,model:w==null?void 0:w.model,description:w==null?void 0:w.description,owner:w==null?void 0:w.owner,uid:w==null?void 0:w.uid,whatsapp:w==null?void 0:w.whatsapp,price:Number(w==null?void 0:w.price),city:w==null?void 0:w.city,km:w==null?void 0:w.km,images:w==null?void 0:w.images,created:w==null?void 0:w.created};e(S);const x=iu(Fa(bi,"profiles"),Nm("uid","==",w==null?void 0:w.uid)),C=await su(x);if(C.empty)console.log("Perfil do vendedor no encontrado");else{const L=C.docs[0].data();u({uid:L.uid,name:L.name,email:L.email,phone:L.phone})}}catch(b){console.error("Erro ao carregar dados:",b)}finally{f(!1)}}y()},[n,m]),B.useEffect(()=>{function y(){window.innerWidth<720?s(1):s(2)}return y(),window.addEventListener("resize",y),()=>{window.removeEventListener("resize",y)}},[]),D.jsx(D.Fragment,{children:d?D.jsx("div",{className:"flex justify-center items-center h-72",children:D.jsx(am,{className:"animate-spin text-4xl"})}):D.jsxs(Qo,{children:[t&&D.jsx(mC,{modules:[EU,TU,wU],slidesPerView:r,pagination:{clickable:!0},navigation:!0,scrollbar:{draggable:!0},children:t==null?void 0:t.images.map(y=>D.jsx(pC,{children:D.jsx("img",{src:y.url,alt:y.name,className:"w-full h-96 object-cover"})},y.name))}),t&&D.jsxs("main",{className:"w-full bg-white rounded-lg p-6 my-4",children:[D.jsxs("div",{className:"flex flex-col sm:flex-row mb-4 items-center justify-between",children:[D.jsxs("div",{className:"flex gap-2",children:[D.jsx("h1",{className:"font-bold text-3xl text-black",children:t==null?void 0:t.brand}),D.jsx("h1",{className:"font-bold text-3xl text-red-600",children:t==null?void 0:t.name})]}),D.jsx("h2",{className:"font-bold text-3xl text-black",children:t==null?void 0:t.price.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),D.jsx("p",{children:t==null?void 0:t.model}),D.jsxs("div",{className:"flex w-full gap-6 my-4",children:[D.jsxs("div",{className:"flex flex-col gap-4",children:[D.jsxs("div",{children:[D.jsx("p",{children:"Cidade"}),D.jsx("strong",{children:t==null?void 0:t.city})]}),D.jsxs("div",{children:[D.jsx("p",{children:"Ano"}),D.jsx("strong",{children:t==null?void 0:t.year})]})]}),D.jsx("div",{className:"flex flex-col gap-4",children:D.jsxs("div",{children:[D.jsx("p",{children:"KM"}),D.jsx("strong",{children:t==null?void 0:t.km})]})})]}),D.jsx("strong",{children:"Descrio"}),D.jsx("p",{className:"mb-4",children:t==null?void 0:t.description}),o&&D.jsxs("div",{className:"bg-gray-100 p-4 rounded-lg mt-6",children:[D.jsx("h3",{className:"text-xl font-bold mb-2",children:"Informaes do Vendedor"}),D.jsxs("p",{children:[D.jsx("strong",{children:"Nome:"})," ",o.name]}),D.jsxs("p",{children:[D.jsx("strong",{children:"Email:"})," ",o.email]}),o.phone&&D.jsxs("p",{children:[D.jsx("strong",{children:"Telefone:"})," ",o.phone]})]}),D.jsxs("a",{href:`https://api.whatsapp.com/send?phone=${o==null?void 0:o.phone}&text=Ola vi esse ${t==null?void 0:t.name}no site WebCarros e fiquei interessado!`,target:"_blank",className:" cursor-pointer bg-green-500 w-full hover:scale-95 text-white flex items-center justify-center gap-2 my-6 h-11 text-xl rounded-lg font-medium",children:["Conversar com vendedor",D.jsx(gy,{size:26,color:"#fff"})]})]})]})})}function p_(){async function t(){await bv(jo)}return D.jsxs("div",{className:"w-full items-center flex h-10 bg-blue-400 rounded-lg text-white font-medium gap-4 px-4 mb-4",children:[D.jsx(Ur,{to:"/dashboard",className:" text-sm hover:border-b-2 hover:scale-110",children:"Meus carros"}),D.jsx(Ur,{to:"/dashboard/new",className:"text-sm hover:border-b-2 hover:scale-110",children:"Cadastrar carro"}),D.jsx(Ur,{to:"/dashboard/profile",className:"text-sm hover:border-b-2 hover:scale-110",children:"Dados pessoais"}),D.jsx("button",{className:"ml-auto hover:scale-110 hover:text-red-500 cursor-pointer",onClick:t,children:"Sair da conta"})]})}function PU(){const[t,e]=B.useState([]),{user:n}=B.useContext(Yo),[r,s]=B.useState([]),[o,u]=B.useState(!1);B.useEffect(()=>{n!=null&&n.uid&&d()},[n]);function d(){u(!0);const y=Fa(bi,"cars"),b=iu(y,Nm("uid","==",n==null?void 0:n.uid));su(b).then(_=>{let w=[];_.forEach(S=>{w.push({id:S.id,name:S.data().name,brand:S.data().brand,year:S.data().year,uid:S.data().uid,price:Number(S.data().price),city:S.data().city,km:S.data().km,images:S.data().images})}),e(w),u(!1)})}function f(y){s(b=>[...b,y])}async function m(y){const b=y,_=Am(bi,"cars",b.id);await eV(_),b.images.map(async w=>{const S=`images/${w.uid}/${w.name}`,x=$h(Hh,S);try{await Jx(x),e(t.filter(C=>C.id!==b.id))}catch{console.log("erro ao deletar imagem")}})}return D.jsxs(Qo,{children:[D.jsx(p_,{}),o?D.jsx("div",{className:"flex justify-center items-center h-32",children:D.jsx(am,{className:"animate-spin text-4xl"})}):D.jsx(D.Fragment,{children:t.length===0?D.jsx("p",{className:"text-center h-screen flex justify-center items-center",children:"Nenhum carro cadastrado"}):D.jsx("main",{className:"grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3",children:t.map(y=>D.jsxs("section",{className:"w-full bg-white rounded-lg relative mb-10",children:[D.jsx("button",{onClick:()=>m(y),className:"absolute cursor-pointer bg-white w-14 h-14 rounded-full flex items-center justify-center right-2 top-2 drop-shadow",children:D.jsx(VN,{size:26,color:"#000",className:"cusror-pointer hover:scale-125"})}),D.jsx("div",{className:"w-full h-72 ounded-lg bg-slate-200",style:{display:r.includes(y.id)?"none":"block"}}),D.jsx("img",{className:"w-full rounded-lg mb-2 max-h-70",src:y.images[0].url,alt:"Imagem de um carro",onLoad:()=>f(y.id),style:{display:r.includes(y.id)?"block":"none"}}),D.jsxs("div",{className:"flex gap-2 ml-2",children:[D.jsx("h1",{className:"font-bold text-2xl text-black",children:y==null?void 0:y.brand}),D.jsx("h1",{className:"font-bold text-2xl text-black",children:y==null?void 0:y.name})]}),D.jsxs("div",{className:"flex flex-col px-2",children:[D.jsxs("span",{className:"text-zinc-700",children:["Ano ",y.year," | ",y.km," km"]}),D.jsx("strong",{className:"text-black font-bold mt-4",children:y.price.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),D.jsx("div",{className:"w-full h-px bg-slate-200 my-2"}),D.jsx("div",{className:"px-2 pb-2",children:D.jsx("span",{className:"text-black",children:y.city})})]},y.id))})})]})}var Ad=t=>t.type==="checkbox",Io=t=>t instanceof Date,lr=t=>t==null;const gC=t=>typeof t=="object";var ln=t=>!lr(t)&&!Array.isArray(t)&&gC(t)&&!Io(t),LU=t=>ln(t)&&t.target?Ad(t.target)?t.target.checked:t.target.value:t,VU=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,UU=(t,e)=>t.has(VU(e)),jU=t=>{const e=t.constructor&&t.constructor.prototype;return ln(e)&&e.hasOwnProperty("isPrototypeOf")},g_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Xn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(g_&&(t instanceof Blob||r))&&(n||ln(t)))if(e=n?[]:{},!n&&!jU(t))e=t;else for(const s in t)t.hasOwnProperty(s)&&(e[s]=Xn(t[s]));else return t;return e}var Dm=t=>Array.isArray(t)?t.filter(Boolean):[],pn=t=>t===void 0,Le=(t,e,n)=>{if(!e||!ln(t))return n;const r=Dm(e.split(/[,[\].]+?/)).reduce((s,o)=>lr(s)?s:s[o],t);return pn(r)||r===t?pn(t[e])?n:t[e]:r},$i=t=>typeof t=="boolean",y_=t=>/^\w*$/.test(t),yC=t=>Dm(t.replace(/["|']|\]/g,"").split(/\.|\[/)),Bt=(t,e,n)=>{let r=-1;const s=y_(e)?[e]:yC(e),o=s.length,u=o-1;for(;++r<o;){const d=s[r];let f=n;if(r!==u){const m=t[d];f=ln(m)||Array.isArray(m)?m:isNaN(+s[r+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;t[d]=f,t=t[d]}};const eS={BLUR:"blur",FOCUS_OUT:"focusout"},gi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},As={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};vt.createContext(null);var zU=(t,e,n,r=!0)=>{const s={defaultValues:e._defaultValues};for(const o in t)Object.defineProperty(s,o,{get:()=>{const u=o;return e._proxyFormState[u]!==gi.all&&(e._proxyFormState[u]=!r||gi.all),t[u]}});return s};const BU=typeof window<"u"?B.useLayoutEffect:B.useEffect;var Gi=t=>typeof t=="string",FU=(t,e,n,r,s)=>Gi(t)?(r&&e.watch.add(t),Le(n,t,s)):Array.isArray(t)?t.map(o=>(r&&e.watch.add(o),Le(n,o))):(r&&(e.watchAll=!0),n),vC=(t,e,n,r,s)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:s||!0}}:{},Gc=t=>Array.isArray(t)?t:[t],tS=()=>{let t=[];return{get observers(){return t},next:s=>{for(const o of t)o.next&&o.next(s)},subscribe:s=>(t.push(s),{unsubscribe:()=>{t=t.filter(o=>o!==s)}}),unsubscribe:()=>{t=[]}}},Gy=t=>lr(t)||!gC(t);function wa(t,e){if(Gy(t)||Gy(e))return t===e;if(Io(t)&&Io(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const s of n){const o=t[s];if(!r.includes(s))return!1;if(s!=="ref"){const u=e[s];if(Io(o)&&Io(u)||ln(o)&&ln(u)||Array.isArray(o)&&Array.isArray(u)?!wa(o,u):o!==u)return!1}}return!0}var or=t=>ln(t)&&!Object.keys(t).length,v_=t=>t.type==="file",yi=t=>typeof t=="function",Gh=t=>{if(!g_)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},_C=t=>t.type==="select-multiple",__=t=>t.type==="radio",$U=t=>__(t)||Ad(t),ly=t=>Gh(t)&&t.isConnected;function HU(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=pn(t)?r++:t[e[r++]];return t}function qU(t){for(const e in t)if(t.hasOwnProperty(e)&&!pn(t[e]))return!1;return!0}function Tn(t,e){const n=Array.isArray(e)?e:y_(e)?[e]:yC(e),r=n.length===1?t:HU(t,n),s=n.length-1,o=n[s];return r&&delete r[o],s!==0&&(ln(r)&&or(r)||Array.isArray(r)&&qU(r))&&Tn(t,n.slice(0,-1)),t}var bC=t=>{for(const e in t)if(yi(t[e]))return!0;return!1};function Kh(t,e={}){const n=Array.isArray(t);if(ln(t)||n)for(const r in t)Array.isArray(t[r])||ln(t[r])&&!bC(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Kh(t[r],e[r])):lr(t[r])||(e[r]=!0);return e}function EC(t,e,n){const r=Array.isArray(t);if(ln(t)||r)for(const s in t)Array.isArray(t[s])||ln(t[s])&&!bC(t[s])?pn(e)||Gy(n[s])?n[s]=Array.isArray(t[s])?Kh(t[s],[]):{...Kh(t[s])}:EC(t[s],lr(e)?{}:e[s],n[s]):n[s]=!wa(t[s],e[s]);return n}var Ac=(t,e)=>EC(t,e,Kh(e));const nS={value:!1,isValid:!1},rS={value:!0,isValid:!0};var TC=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!pn(t[0].attributes.value)?pn(t[0].value)||t[0].value===""?rS:{value:t[0].value,isValid:!0}:rS:nS}return nS},wC=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>pn(t)?t:e?t===""?NaN:t&&+t:n&&Gi(t)?new Date(t):r?r(t):t;const iS={isValid:!1,value:null};var SC=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,iS):iS;function sS(t){const e=t.ref;return v_(e)?e.files:__(e)?SC(t.refs).value:_C(e)?[...e.selectedOptions].map(({value:n})=>n):Ad(e)?TC(t.refs).value:wC(pn(e.value)?t.ref.value:e.value,t)}var GU=(t,e,n,r)=>{const s={};for(const o of t){const u=Le(e,o);u&&Bt(s,o,u._f)}return{criteriaMode:n,names:[...t],fields:s,shouldUseNativeValidation:r}},Yh=t=>t instanceof RegExp,xc=t=>pn(t)?t:Yh(t)?t.source:ln(t)?Yh(t.value)?t.value.source:t.value:t,aS=t=>({isOnSubmit:!t||t===gi.onSubmit,isOnBlur:t===gi.onBlur,isOnChange:t===gi.onChange,isOnAll:t===gi.all,isOnTouch:t===gi.onTouched});const oS="AsyncFunction";var KU=t=>!!t&&!!t.validate&&!!(yi(t.validate)&&t.validate.constructor.name===oS||ln(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===oS)),YU=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),lS=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Kc=(t,e,n,r)=>{for(const s of n||Object.keys(t)){const o=Le(t,s);if(o){const{_f:u,...d}=o;if(u){if(u.refs&&u.refs[0]&&e(u.refs[0],s)&&!r)return!0;if(u.ref&&e(u.ref,u.name)&&!r)return!0;if(Kc(d,e))break}else if(ln(d)&&Kc(d,e))break}}};function uS(t,e,n){const r=Le(t,n);if(r||y_(n))return{error:r,name:n};const s=n.split(".");for(;s.length;){const o=s.join("."),u=Le(e,o),d=Le(t,o);if(u&&!Array.isArray(u)&&n!==o)return{name:n};if(d&&d.type)return{name:o,error:d};s.pop()}return{name:n}}var QU=(t,e,n,r)=>{n(t);const{name:s,...o}=t;return or(o)||Object.keys(o).length>=Object.keys(e).length||Object.keys(o).find(u=>e[u]===(!r||gi.all))},XU=(t,e,n)=>!t||!e||t===e||Gc(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),WU=(t,e,n,r,s)=>s.isOnAll?!1:!n&&s.isOnTouch?!(e||t):(n?r.isOnBlur:s.isOnBlur)?!t:(n?r.isOnChange:s.isOnChange)?t:!0,ZU=(t,e)=>!Dm(Le(t,e)).length&&Tn(t,e),JU=(t,e,n)=>{const r=Gc(Le(t,n));return Bt(r,"root",e[n]),Bt(t,n,r),t},ph=t=>Gi(t);function cS(t,e,n="validate"){if(ph(t)||Array.isArray(t)&&t.every(ph)||$i(t)&&!t)return{type:n,message:ph(t)?t:"",ref:e}}var Vl=t=>ln(t)&&!Yh(t)?t:{value:t,message:""},dS=async(t,e,n,r,s,o)=>{const{ref:u,refs:d,required:f,maxLength:m,minLength:y,min:b,max:_,pattern:w,validate:S,name:x,valueAsNumber:C,mount:V}=t._f,L=Le(n,x);if(!V||e.has(x))return{};const $=d?d[0]:u,Y=M=>{s&&$.reportValidity&&($.setCustomValidity($i(M)?"":M||""),$.reportValidity())},G={},F=__(u),U=Ad(u),R=F||U,k=(C||v_(u))&&pn(u.value)&&pn(L)||Gh(u)&&u.value===""||L===""||Array.isArray(L)&&!L.length,P=vC.bind(null,x,r,G),O=(M,I,ye,Ee=As.maxLength,Q=As.minLength)=>{const ce=M?I:ye;G[x]={type:M?Ee:Q,message:ce,ref:u,...P(M?Ee:Q,ce)}};if(o?!Array.isArray(L)||!L.length:f&&(!R&&(k||lr(L))||$i(L)&&!L||U&&!TC(d).isValid||F&&!SC(d).isValid)){const{value:M,message:I}=ph(f)?{value:!!f,message:f}:Vl(f);if(M&&(G[x]={type:As.required,message:I,ref:$,...P(As.required,I)},!r))return Y(I),G}if(!k&&(!lr(b)||!lr(_))){let M,I;const ye=Vl(_),Ee=Vl(b);if(!lr(L)&&!isNaN(L)){const Q=u.valueAsNumber||L&&+L;lr(ye.value)||(M=Q>ye.value),lr(Ee.value)||(I=Q<Ee.value)}else{const Q=u.valueAsDate||new Date(L),ce=j=>new Date(new Date().toDateString()+" "+j),ge=u.type=="time",Ce=u.type=="week";Gi(ye.value)&&L&&(M=ge?ce(L)>ce(ye.value):Ce?L>ye.value:Q>new Date(ye.value)),Gi(Ee.value)&&L&&(I=ge?ce(L)<ce(Ee.value):Ce?L<Ee.value:Q<new Date(Ee.value))}if((M||I)&&(O(!!M,ye.message,Ee.message,As.max,As.min),!r))return Y(G[x].message),G}if((m||y)&&!k&&(Gi(L)||o&&Array.isArray(L))){const M=Vl(m),I=Vl(y),ye=!lr(M.value)&&L.length>+M.value,Ee=!lr(I.value)&&L.length<+I.value;if((ye||Ee)&&(O(ye,M.message,I.message),!r))return Y(G[x].message),G}if(w&&!k&&Gi(L)){const{value:M,message:I}=Vl(w);if(Yh(M)&&!L.match(M)&&(G[x]={type:As.pattern,message:I,ref:u,...P(As.pattern,I)},!r))return Y(I),G}if(S){if(yi(S)){const M=await S(L,n),I=cS(M,$);if(I&&(G[x]={...I,...P(As.validate,I.message)},!r))return Y(I.message),G}else if(ln(S)){let M={};for(const I in S){if(!or(M)&&!r)break;const ye=cS(await S[I](L,n),$,I);ye&&(M={...ye,...P(I,ye.message)},Y(ye.message),r&&(G[x]=M))}if(!or(M)&&(G[x]={ref:$,...M},!r))return G}}return Y(!0),G};const e9={mode:gi.onSubmit,reValidateMode:gi.onChange,shouldFocusError:!0};function t9(t={}){let e={...e9,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:yi(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let s=ln(e.defaultValues)||ln(e.values)?Xn(e.defaultValues||e.values)||{}:{},o=e.shouldUnregister?{}:Xn(s),u={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,m=0;const y={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let b={...y};const _={array:tS(),state:tS()},w=e.criteriaMode===gi.all,S=H=>ne=>{clearTimeout(m),m=setTimeout(H,ne)},x=async H=>{if(!e.disabled&&(y.isValid||b.isValid||H)){const ne=e.resolver?or((await U()).errors):await k(r,!0);ne!==n.isValid&&_.state.next({isValid:ne})}},C=(H,ne)=>{!e.disabled&&(y.isValidating||y.validatingFields||b.isValidating||b.validatingFields)&&((H||Array.from(d.mount)).forEach(ae=>{ae&&(ne?Bt(n.validatingFields,ae,ne):Tn(n.validatingFields,ae))}),_.state.next({validatingFields:n.validatingFields,isValidating:!or(n.validatingFields)}))},V=(H,ne=[],ae,xe,Se=!0,_e=!0)=>{if(xe&&ae&&!e.disabled){if(u.action=!0,_e&&Array.isArray(Le(r,H))){const we=ae(Le(r,H),xe.argA,xe.argB);Se&&Bt(r,H,we)}if(_e&&Array.isArray(Le(n.errors,H))){const we=ae(Le(n.errors,H),xe.argA,xe.argB);Se&&Bt(n.errors,H,we),ZU(n.errors,H)}if((y.touchedFields||b.touchedFields)&&_e&&Array.isArray(Le(n.touchedFields,H))){const we=ae(Le(n.touchedFields,H),xe.argA,xe.argB);Se&&Bt(n.touchedFields,H,we)}(y.dirtyFields||b.dirtyFields)&&(n.dirtyFields=Ac(s,o)),_.state.next({name:H,isDirty:O(H,ne),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else Bt(o,H,ne)},L=(H,ne)=>{Bt(n.errors,H,ne),_.state.next({errors:n.errors})},$=H=>{n.errors=H,_.state.next({errors:n.errors,isValid:!1})},Y=(H,ne,ae,xe)=>{const Se=Le(r,H);if(Se){const _e=Le(o,H,pn(ae)?Le(s,H):ae);pn(_e)||xe&&xe.defaultChecked||ne?Bt(o,H,ne?_e:sS(Se._f)):ye(H,_e),u.mount&&x()}},G=(H,ne,ae,xe,Se)=>{let _e=!1,we=!1;const Ne={name:H};if(!e.disabled){if(!ae||xe){(y.isDirty||b.isDirty)&&(we=n.isDirty,n.isDirty=Ne.isDirty=O(),_e=we!==Ne.isDirty);const st=wa(Le(s,H),ne);we=!!Le(n.dirtyFields,H),st?Tn(n.dirtyFields,H):Bt(n.dirtyFields,H,!0),Ne.dirtyFields=n.dirtyFields,_e=_e||(y.dirtyFields||b.dirtyFields)&&we!==!st}if(ae){const st=Le(n.touchedFields,H);st||(Bt(n.touchedFields,H,ae),Ne.touchedFields=n.touchedFields,_e=_e||(y.touchedFields||b.touchedFields)&&st!==ae)}_e&&Se&&_.state.next(Ne)}return _e?Ne:{}},F=(H,ne,ae,xe)=>{const Se=Le(n.errors,H),_e=(y.isValid||b.isValid)&&$i(ne)&&n.isValid!==ne;if(e.delayError&&ae?(f=S(()=>L(H,ae)),f(e.delayError)):(clearTimeout(m),f=null,ae?Bt(n.errors,H,ae):Tn(n.errors,H)),(ae?!wa(Se,ae):Se)||!or(xe)||_e){const we={...xe,..._e&&$i(ne)?{isValid:ne}:{},errors:n.errors,name:H};n={...n,...we},_.state.next(we)}},U=async H=>{C(H,!0);const ne=await e.resolver(o,e.context,GU(H||d.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return C(H),ne},R=async H=>{const{errors:ne}=await U(H);if(H)for(const ae of H){const xe=Le(ne,ae);xe?Bt(n.errors,ae,xe):Tn(n.errors,ae)}else n.errors=ne;return ne},k=async(H,ne,ae={valid:!0})=>{for(const xe in H){const Se=H[xe];if(Se){const{_f:_e,...we}=Se;if(_e){const Ne=d.array.has(_e.name),st=Se._f&&KU(Se._f);st&&y.validatingFields&&C([xe],!0);const At=await dS(Se,d.disabled,o,w,e.shouldUseNativeValidation&&!ne,Ne);if(st&&y.validatingFields&&C([xe]),At[_e.name]&&(ae.valid=!1,ne))break;!ne&&(Le(At,_e.name)?Ne?JU(n.errors,At,_e.name):Bt(n.errors,_e.name,At[_e.name]):Tn(n.errors,_e.name))}!or(we)&&await k(we,ne,ae)}}return ae.valid},P=()=>{for(const H of d.unMount){const ne=Le(r,H);ne&&(ne._f.refs?ne._f.refs.every(ae=>!ly(ae)):!ly(ne._f.ref))&&Kt(H)}d.unMount=new Set},O=(H,ne)=>!e.disabled&&(H&&ne&&Bt(o,H,ne),!wa(j(),s)),M=(H,ne,ae)=>FU(H,d,{...u.mount?o:pn(ne)?s:Gi(H)?{[H]:ne}:ne},ae,ne),I=H=>Dm(Le(u.mount?o:s,H,e.shouldUnregister?Le(s,H,[]):[])),ye=(H,ne,ae={})=>{const xe=Le(r,H);let Se=ne;if(xe){const _e=xe._f;_e&&(!_e.disabled&&Bt(o,H,wC(ne,_e)),Se=Gh(_e.ref)&&lr(ne)?"":ne,_C(_e.ref)?[..._e.ref.options].forEach(we=>we.selected=Se.includes(we.value)):_e.refs?Ad(_e.ref)?_e.refs.forEach(we=>{(!we.defaultChecked||!we.disabled)&&(Array.isArray(Se)?we.checked=!!Se.find(Ne=>Ne===we.value):we.checked=Se===we.value||!!Se)}):_e.refs.forEach(we=>we.checked=we.value===Se):v_(_e.ref)?_e.ref.value="":(_e.ref.value=Se,_e.ref.type||_.state.next({name:H,values:Xn(o)})))}(ae.shouldDirty||ae.shouldTouch)&&G(H,Se,ae.shouldTouch,ae.shouldDirty,!0),ae.shouldValidate&&Ce(H)},Ee=(H,ne,ae)=>{for(const xe in ne){if(!ne.hasOwnProperty(xe))return;const Se=ne[xe],_e=`${H}.${xe}`,we=Le(r,_e);(d.array.has(H)||ln(Se)||we&&!we._f)&&!Io(Se)?Ee(_e,Se,ae):ye(_e,Se,ae)}},Q=(H,ne,ae={})=>{const xe=Le(r,H),Se=d.array.has(H),_e=Xn(ne);Bt(o,H,_e),Se?(_.array.next({name:H,values:Xn(o)}),(y.isDirty||y.dirtyFields||b.isDirty||b.dirtyFields)&&ae.shouldDirty&&_.state.next({name:H,dirtyFields:Ac(s,o),isDirty:O(H,_e)})):xe&&!xe._f&&!lr(_e)?Ee(H,_e,ae):ye(H,_e,ae),lS(H,d)&&_.state.next({...n}),_.state.next({name:u.mount?H:void 0,values:Xn(o)})},ce=async H=>{u.mount=!0;const ne=H.target;let ae=ne.name,xe=!0;const Se=Le(r,ae),_e=st=>{xe=Number.isNaN(st)||Io(st)&&isNaN(st.getTime())||wa(st,Le(o,ae,st))},we=aS(e.mode),Ne=aS(e.reValidateMode);if(Se){let st,At;const ui=ne.type?sS(Se._f):LU(H),nn=H.type===eS.BLUR||H.type===eS.FOCUS_OUT,Fr=!YU(Se._f)&&!e.resolver&&!Le(n.errors,ae)&&!Se._f.deps||WU(nn,Le(n.touchedFields,ae),n.isSubmitted,Ne,we),fr=lS(ae,d,nn);Bt(o,ae,ui),nn?(Se._f.onBlur&&Se._f.onBlur(H),f&&f(0)):Se._f.onChange&&Se._f.onChange(H);const hr=G(ae,ui,nn),er=!or(hr)||fr;if(!nn&&_.state.next({name:ae,type:H.type,values:Xn(o)}),Fr)return(y.isValid||b.isValid)&&(e.mode==="onBlur"?nn&&x():nn||x()),er&&_.state.next({name:ae,...fr?{}:hr});if(!nn&&fr&&_.state.next({...n}),e.resolver){const{errors:$r}=await U([ae]);if(_e(ui),xe){const mr=uS(n.errors,r,ae),ci=uS($r,r,mr.name||ae);st=ci.error,ae=ci.name,At=or($r)}}else C([ae],!0),st=(await dS(Se,d.disabled,o,w,e.shouldUseNativeValidation))[ae],C([ae]),_e(ui),xe&&(st?At=!1:(y.isValid||b.isValid)&&(At=await k(r,!0)));xe&&(Se._f.deps&&Ce(Se._f.deps),F(ae,At,st,hr))}},ge=(H,ne)=>{if(Le(n.errors,ne)&&H.focus)return H.focus(),1},Ce=async(H,ne={})=>{let ae,xe;const Se=Gc(H);if(e.resolver){const _e=await R(pn(H)?H:Se);ae=or(_e),xe=H?!Se.some(we=>Le(_e,we)):ae}else H?(xe=(await Promise.all(Se.map(async _e=>{const we=Le(r,_e);return await k(we&&we._f?{[_e]:we}:we)}))).every(Boolean),!(!xe&&!n.isValid)&&x()):xe=ae=await k(r);return _.state.next({...!Gi(H)||(y.isValid||b.isValid)&&ae!==n.isValid?{}:{name:H},...e.resolver||!H?{isValid:ae}:{},errors:n.errors}),ne.shouldFocus&&!xe&&Kc(r,ge,H?Se:d.mount),xe},j=H=>{const ne={...u.mount?o:s};return pn(H)?ne:Gi(H)?Le(ne,H):H.map(ae=>Le(ne,ae))},oe=(H,ne)=>({invalid:!!Le((ne||n).errors,H),isDirty:!!Le((ne||n).dirtyFields,H),error:Le((ne||n).errors,H),isValidating:!!Le(n.validatingFields,H),isTouched:!!Le((ne||n).touchedFields,H)}),Te=H=>{H&&Gc(H).forEach(ne=>Tn(n.errors,ne)),_.state.next({errors:H?n.errors:{}})},pe=(H,ne,ae)=>{const xe=(Le(r,H,{_f:{}})._f||{}).ref,Se=Le(n.errors,H)||{},{ref:_e,message:we,type:Ne,...st}=Se;Bt(n.errors,H,{...st,...ne,ref:xe}),_.state.next({name:H,errors:n.errors,isValid:!1}),ae&&ae.shouldFocus&&xe&&xe.focus&&xe.focus()},Ve=(H,ne)=>yi(H)?_.state.subscribe({next:ae=>H(M(void 0,ne),ae)}):M(H,ne,!0),et=H=>_.state.subscribe({next:ne=>{XU(H.name,ne.name,H.exact)&&QU(ne,H.formState||y,Mn,H.reRenderRoot)&&H.callback({values:{...o},...n,...ne})}}).unsubscribe,He=H=>(u.mount=!0,b={...b,...H.formState},et({...H,formState:b})),Kt=(H,ne={})=>{for(const ae of H?Gc(H):d.mount)d.mount.delete(ae),d.array.delete(ae),ne.keepValue||(Tn(r,ae),Tn(o,ae)),!ne.keepError&&Tn(n.errors,ae),!ne.keepDirty&&Tn(n.dirtyFields,ae),!ne.keepTouched&&Tn(n.touchedFields,ae),!ne.keepIsValidating&&Tn(n.validatingFields,ae),!e.shouldUnregister&&!ne.keepDefaultValue&&Tn(s,ae);_.state.next({values:Xn(o)}),_.state.next({...n,...ne.keepDirty?{isDirty:O()}:{}}),!ne.keepIsValid&&x()},Nt=({disabled:H,name:ne})=>{($i(H)&&u.mount||H||d.disabled.has(ne))&&(H?d.disabled.add(ne):d.disabled.delete(ne))},qn=(H,ne={})=>{let ae=Le(r,H);const xe=$i(ne.disabled)||$i(e.disabled);return Bt(r,H,{...ae||{},_f:{...ae&&ae._f?ae._f:{ref:{name:H}},name:H,mount:!0,...ne}}),d.mount.add(H),ae?Nt({disabled:$i(ne.disabled)?ne.disabled:e.disabled,name:H}):Y(H,!0,ne.value),{...xe?{disabled:ne.disabled||e.disabled}:{},...e.progressive?{required:!!ne.required,min:xc(ne.min),max:xc(ne.max),minLength:xc(ne.minLength),maxLength:xc(ne.maxLength),pattern:xc(ne.pattern)}:{},name:H,onChange:ce,onBlur:ce,ref:Se=>{if(Se){qn(H,ne),ae=Le(r,H);const _e=pn(Se.value)&&Se.querySelectorAll&&Se.querySelectorAll("input,select,textarea")[0]||Se,we=$U(_e),Ne=ae._f.refs||[];if(we?Ne.find(st=>st===_e):_e===ae._f.ref)return;Bt(r,H,{_f:{...ae._f,...we?{refs:[...Ne.filter(ly),_e,...Array.isArray(Le(s,H))?[{}]:[]],ref:{type:_e.type,name:H}}:{ref:_e}}}),Y(H,!1,void 0,_e)}else ae=Le(r,H,{}),ae._f&&(ae._f.mount=!1),(e.shouldUnregister||ne.shouldUnregister)&&!(UU(d.array,H)&&u.action)&&d.unMount.add(H)}}},Ft=()=>e.shouldFocusError&&Kc(r,ge,d.mount),An=H=>{$i(H)&&(_.state.next({disabled:H}),Kc(r,(ne,ae)=>{const xe=Le(r,ae);xe&&(ne.disabled=xe._f.disabled||H,Array.isArray(xe._f.refs)&&xe._f.refs.forEach(Se=>{Se.disabled=xe._f.disabled||H}))},0,!1))},wr=(H,ne)=>async ae=>{let xe;ae&&(ae.preventDefault&&ae.preventDefault(),ae.persist&&ae.persist());let Se=Xn(o);if(_.state.next({isSubmitting:!0}),e.resolver){const{errors:_e,values:we}=await U();n.errors=_e,Se=we}else await k(r);if(d.disabled.size)for(const _e of d.disabled)Bt(Se,_e,void 0);if(Tn(n.errors,"root"),or(n.errors)){_.state.next({errors:{}});try{await H(Se,ae)}catch(_e){xe=_e}}else ne&&await ne({...n.errors},ae),Ft(),setTimeout(Ft);if(_.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:or(n.errors)&&!xe,submitCount:n.submitCount+1,errors:n.errors}),xe)throw xe},li=(H,ne={})=>{Le(r,H)&&(pn(ne.defaultValue)?Q(H,Xn(Le(s,H))):(Q(H,ne.defaultValue),Bt(s,H,Xn(ne.defaultValue))),ne.keepTouched||Tn(n.touchedFields,H),ne.keepDirty||(Tn(n.dirtyFields,H),n.isDirty=ne.defaultValue?O(H,Xn(Le(s,H))):O()),ne.keepError||(Tn(n.errors,H),y.isValid&&x()),_.state.next({...n}))},xn=(H,ne={})=>{const ae=H?Xn(H):s,xe=Xn(ae),Se=or(H),_e=Se?s:xe;if(ne.keepDefaultValues||(s=ae),!ne.keepValues){if(ne.keepDirtyValues){const we=new Set([...d.mount,...Object.keys(Ac(s,o))]);for(const Ne of Array.from(we))Le(n.dirtyFields,Ne)?Bt(_e,Ne,Le(o,Ne)):Q(Ne,Le(_e,Ne))}else{if(g_&&pn(H))for(const we of d.mount){const Ne=Le(r,we);if(Ne&&Ne._f){const st=Array.isArray(Ne._f.refs)?Ne._f.refs[0]:Ne._f.ref;if(Gh(st)){const At=st.closest("form");if(At){At.reset();break}}}}for(const we of d.mount)Q(we,Le(_e,we))}o=Xn(_e),_.array.next({values:{..._e}}),_.state.next({values:{..._e}})}d={mount:ne.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!y.isValid||!!ne.keepIsValid||!!ne.keepDirtyValues,u.watch=!!e.shouldUnregister,_.state.next({submitCount:ne.keepSubmitCount?n.submitCount:0,isDirty:Se?!1:ne.keepDirty?n.isDirty:!!(ne.keepDefaultValues&&!wa(H,s)),isSubmitted:ne.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Se?{}:ne.keepDirtyValues?ne.keepDefaultValues&&o?Ac(s,o):n.dirtyFields:ne.keepDefaultValues&&H?Ac(s,H):ne.keepDirty?n.dirtyFields:{},touchedFields:ne.keepTouched?n.touchedFields:{},errors:ne.keepErrors?n.errors:{},isSubmitSuccessful:ne.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Si=(H,ne)=>xn(yi(H)?H(o):H,ne),Bs=(H,ne={})=>{const ae=Le(r,H),xe=ae&&ae._f;if(xe){const Se=xe.refs?xe.refs[0]:xe.ref;Se.focus&&(Se.focus(),ne.shouldSelect&&yi(Se.select)&&Se.select())}},Mn=H=>{n={...n,...H}},Ai={control:{register:qn,unregister:Kt,getFieldState:oe,handleSubmit:wr,setError:pe,_subscribe:et,_runSchema:U,_getWatch:M,_getDirty:O,_setValid:x,_setFieldArray:V,_setDisabledField:Nt,_setErrors:$,_getFieldArray:I,_reset:xn,_resetDefaultValues:()=>yi(e.defaultValues)&&e.defaultValues().then(H=>{Si(H,e.resetOptions),_.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:An,_subjects:_,_proxyFormState:y,get _fields(){return r},get _formValues(){return o},get _state(){return u},set _state(H){u=H},get _defaultValues(){return s},get _names(){return d},set _names(H){d=H},get _formState(){return n},get _options(){return e},set _options(H){e={...e,...H}}},subscribe:He,trigger:Ce,register:qn,handleSubmit:wr,watch:Ve,setValue:Q,getValues:j,reset:Si,resetField:li,clearErrors:Te,unregister:Kt,setError:pe,setFocus:Bs,getFieldState:oe};return{...Ai,formControl:Ai}}function km(t={}){const e=vt.useRef(void 0),n=vt.useRef(void 0),[r,s]=vt.useState({isDirty:!1,isValidating:!1,isLoading:yi(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:yi(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:t9(t),formState:r},t.formControl&&t.defaultValues&&!yi(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const o=e.current.control;return o._options=t,BU(()=>{const u=o._subscribe({formState:o._proxyFormState,callback:()=>s({...o._formState}),reRenderRoot:!0});return s(d=>({...d,isReady:!0})),o._formState.isReady=!0,u},[o]),vt.useEffect(()=>o._disableForm(t.disabled),[o,t.disabled]),vt.useEffect(()=>{t.mode&&(o._options.mode=t.mode),t.reValidateMode&&(o._options.reValidateMode=t.reValidateMode),t.errors&&!or(t.errors)&&o._setErrors(t.errors)},[o,t.errors,t.mode,t.reValidateMode]),vt.useEffect(()=>{t.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,t.shouldUnregister]),vt.useEffect(()=>{if(o._proxyFormState.isDirty){const u=o._getDirty();u!==r.isDirty&&o._subjects.state.next({isDirty:u})}},[o,r.isDirty]),vt.useEffect(()=>{t.values&&!wa(t.values,n.current)?(o._reset(t.values,o._options.resetOptions),n.current=t.values,s(u=>({...u}))):o._resetDefaultValues()},[o,t.values]),vt.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),e.current.formState=zU(r,o),e.current}function Hi({name:t,type:e,placeholder:n,register:r,error:s,rules:o}){return D.jsxs("div",{children:[D.jsx("input",{className:"w-full border-2 rounded-md h-11 px-2",placeholder:n,type:e,...r(t,o),id:t}),s&&D.jsx("p",{className:"my-1 text-red-500",children:s})]})}var It;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function n(s){throw new Error}t.assertNever=n,t.arrayToEnum=s=>{const o={};for(const u of s)o[u]=u;return o},t.getValidEnumValues=s=>{const o=t.objectKeys(s).filter(d=>typeof s[s[d]]!="number"),u={};for(const d of o)u[d]=s[d];return t.objectValues(u)},t.objectValues=s=>t.objectKeys(s).map(function(o){return s[o]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const u in s)Object.prototype.hasOwnProperty.call(s,u)&&o.push(u);return o},t.find=(s,o)=>{for(const u of s)if(o(u))return u},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,o=" | "){return s.map(u=>typeof u=="string"?`'${u}'`:u).join(o)}t.joinValues=r,t.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})(It||(It={}));var fS;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(fS||(fS={}));const ze=It.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),ga=t=>{switch(typeof t){case"undefined":return ze.undefined;case"string":return ze.string;case"number":return Number.isNaN(t)?ze.nan:ze.number;case"boolean":return ze.boolean;case"function":return ze.function;case"bigint":return ze.bigint;case"symbol":return ze.symbol;case"object":return Array.isArray(t)?ze.array:t===null?ze.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?ze.promise:typeof Map<"u"&&t instanceof Map?ze.map:typeof Set<"u"&&t instanceof Set?ze.set:typeof Date<"u"&&t instanceof Date?ze.date:ze.object;default:return ze.unknown}},be=It.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class Vs extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(o){return o.message},r={_errors:[]},s=o=>{for(const u of o.issues)if(u.code==="invalid_union")u.unionErrors.map(s);else if(u.code==="invalid_return_type")s(u.returnTypeError);else if(u.code==="invalid_arguments")s(u.argumentsError);else if(u.path.length===0)r._errors.push(n(u));else{let d=r,f=0;for(;f<u.path.length;){const m=u.path[f];f===u.path.length-1?(d[m]=d[m]||{_errors:[]},d[m]._errors.push(n(u))):d[m]=d[m]||{_errors:[]},d=d[m],f++}}};return s(this),r}static assert(e){if(!(e instanceof Vs))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,It.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const s of this.issues)s.path.length>0?(n[s.path[0]]=n[s.path[0]]||[],n[s.path[0]].push(e(s))):r.push(e(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Vs.create=t=>new Vs(t);const Ky=(t,e)=>{let n;switch(t.code){case be.invalid_type:t.received===ze.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case be.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,It.jsonStringifyReplacer)}`;break;case be.unrecognized_keys:n=`Unrecognized key(s) in object: ${It.joinValues(t.keys,", ")}`;break;case be.invalid_union:n="Invalid input";break;case be.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${It.joinValues(t.options)}`;break;case be.invalid_enum_value:n=`Invalid enum value. Expected ${It.joinValues(t.options)}, received '${t.received}'`;break;case be.invalid_arguments:n="Invalid function arguments";break;case be.invalid_return_type:n="Invalid function return type";break;case be.invalid_date:n="Invalid date";break;case be.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:It.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case be.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case be.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case be.custom:n="Invalid input";break;case be.invalid_intersection_types:n="Intersection results could not be merged";break;case be.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case be.not_finite:n="Number must be finite";break;default:n=e.defaultError,It.assertNever(t)}return{message:n}};let n9=Ky;function r9(){return n9}const i9=t=>{const{data:e,path:n,errorMaps:r,issueData:s}=t,o=[...n,...s.path||[]],u={...s,path:o};if(s.message!==void 0)return{...s,path:o,message:s.message};let d="";const f=r.filter(m=>!!m).slice().reverse();for(const m of f)d=m(u,{data:e,defaultError:d}).message;return{...s,path:o,message:d}};function Ie(t,e){const n=r9(),r=i9({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===Ky?void 0:Ky].filter(s=>!!s)});t.common.issues.push(r)}class Br{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const s of n){if(s.status==="aborted")return at;s.status==="dirty"&&e.dirty(),r.push(s.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const s of n){const o=await s.key,u=await s.value;r.push({key:o,value:u})}return Br.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const s of n){const{key:o,value:u}=s;if(o.status==="aborted"||u.status==="aborted")return at;o.status==="dirty"&&e.dirty(),u.status==="dirty"&&e.dirty(),o.value!=="__proto__"&&(typeof u.value<"u"||s.alwaysSet)&&(r[o.value]=u.value)}return{status:e.value,value:r}}}const at=Object.freeze({status:"aborted"}),Pc=t=>({status:"dirty",value:t}),oi=t=>({status:"valid",value:t}),hS=t=>t.status==="aborted",mS=t=>t.status==="dirty",ou=t=>t.status==="valid",Qh=t=>typeof Promise<"u"&&t instanceof Promise;var Be;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Be||(Be={}));var Xh=function(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)},AC=function(t,e,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(t,n):s?s.value=n:e.set(t,n),n},Lc,Vc;class $a{constructor(e,n,r,s){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const pS=(t,e)=>{if(ou(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Vs(t.common.issues);return this._error=n,this._error}}};function ht(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:s}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:s}:{errorMap:(u,d)=>{const{message:f}=t;return u.code==="invalid_enum_value"?{message:f??d.defaultError}:typeof d.data>"u"?{message:f??r??d.defaultError}:u.code!=="invalid_type"?{message:d.defaultError}:{message:f??n??d.defaultError}},description:s}}class xt{get description(){return this._def.description}_getType(e){return ga(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:ga(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Br,ctx:{common:e.parent.common,data:e.data,parsedType:ga(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(Qh(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ga(e)},s=this._parseSync({data:e,path:r.path,parent:r});return pS(r,s)}"~validate"(e){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ga(e)};if(!this["~standard"].async)try{const o=this._parseSync({data:e,path:[],parent:n});return ou(o)?{value:o.value}:{issues:n.common.issues}}catch(o){(s=(r=o==null?void 0:o.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(o=>ou(o)?{value:o.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:ga(e)},s=this._parse({data:e,path:r.path,parent:r}),o=await(Qh(s)?s:Promise.resolve(s));return pS(r,o)}refine(e,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,o)=>{const u=e(s),d=()=>o.addIssue({code:be.custom,...r(s)});return typeof Promise<"u"&&u instanceof Promise?u.then(f=>f?!0:(d(),!1)):u?!0:(d(),!1)})}refinement(e,n){return this._refinement((r,s)=>e(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(e){return new uu({schema:this,typeName:rt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return ka.create(this,this._def)}nullable(){return cu.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Ji.create(this)}promise(){return em.create(this,this._def)}or(e){return Zh.create([this,e],this._def)}and(e){return Jh.create(this,e,this._def)}transform(e){return new uu({...ht(this._def),schema:this,typeName:rt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new Qy({...ht(this._def),innerType:this,defaultValue:n,typeName:rt.ZodDefault})}brand(){return new C9({typeName:rt.ZodBranded,type:this,...ht(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new Xy({...ht(this._def),innerType:this,catchValue:n,typeName:rt.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return b_.create(this,e)}readonly(){return Wy.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const s9=/^c[^\s-]{8,}$/i,a9=/^[0-9a-z]+$/,o9=/^[0-9A-HJKMNP-TV-Z]{26}$/i,l9=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,u9=/^[a-z0-9_-]{21}$/i,c9=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,d9=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,f9=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,h9="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let uy;const m9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,p9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,g9=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,y9=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,v9=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,_9=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,xC="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",b9=new RegExp(`^${xC}$`);function CC(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function E9(t){return new RegExp(`^${CC(t)}$`)}function T9(t){let e=`${xC}T${CC(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function w9(t,e){return!!((e==="v4"||!e)&&m9.test(t)||(e==="v6"||!e)&&g9.test(t))}function S9(t,e){if(!c9.test(t))return!1;try{const[n]=t.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||e&&s.alg!==e)}catch{return!1}}function A9(t,e){return!!((e==="v4"||!e)&&p9.test(t)||(e==="v6"||!e)&&y9.test(t))}class Ra extends xt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==ze.string){const o=this._getOrReturnCtx(e);return Ie(o,{code:be.invalid_type,expected:ze.string,received:o.parsedType}),at}const r=new Br;let s;for(const o of this._def.checks)if(o.kind==="min")e.data.length<o.value&&(s=this._getOrReturnCtx(e,s),Ie(s,{code:be.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")e.data.length>o.value&&(s=this._getOrReturnCtx(e,s),Ie(s,{code:be.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const u=e.data.length>o.value,d=e.data.length<o.value;(u||d)&&(s=this._getOrReturnCtx(e,s),u?Ie(s,{code:be.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):d&&Ie(s,{code:be.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")f9.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"email",code:be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")uy||(uy=new RegExp(h9,"u")),uy.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"emoji",code:be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")l9.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"uuid",code:be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")u9.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"nanoid",code:be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")s9.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"cuid",code:be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")a9.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"cuid2",code:be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")o9.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"ulid",code:be.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(e.data)}catch{s=this._getOrReturnCtx(e,s),Ie(s,{validation:"url",code:be.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"regex",code:be.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?e.data=e.data.trim():o.kind==="includes"?e.data.includes(o.value,o.position)||(s=this._getOrReturnCtx(e,s),Ie(s,{code:be.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?e.data=e.data.toLowerCase():o.kind==="toUpperCase"?e.data=e.data.toUpperCase():o.kind==="startsWith"?e.data.startsWith(o.value)||(s=this._getOrReturnCtx(e,s),Ie(s,{code:be.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?e.data.endsWith(o.value)||(s=this._getOrReturnCtx(e,s),Ie(s,{code:be.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?T9(o).test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{code:be.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?b9.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{code:be.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?E9(o).test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{code:be.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?d9.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"duration",code:be.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?w9(e.data,o.version)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"ip",code:be.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?S9(e.data,o.alg)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"jwt",code:be.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?A9(e.data,o.version)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"cidr",code:be.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?v9.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"base64",code:be.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?_9.test(e.data)||(s=this._getOrReturnCtx(e,s),Ie(s,{validation:"base64url",code:be.invalid_string,message:o.message}),r.dirty()):It.assertNever(o);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(s=>e.test(s),{validation:n,code:be.invalid_string,...Be.errToObj(r)})}_addCheck(e){return new Ra({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Be.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Be.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Be.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Be.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Be.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Be.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Be.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Be.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Be.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Be.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Be.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Be.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Be.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Be.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Be.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Be.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Be.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Be.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Be.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Be.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Be.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Be.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Be.errToObj(n)})}nonempty(e){return this.min(1,Be.errToObj(e))}trim(){return new Ra({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Ra({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Ra({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ra.create=t=>new Ra({checks:[],typeName:rt.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...ht(t)});function x9(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,s=n>r?n:r,o=Number.parseInt(t.toFixed(s).replace(".","")),u=Number.parseInt(e.toFixed(s).replace(".",""));return o%u/10**s}class od extends xt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==ze.number){const o=this._getOrReturnCtx(e);return Ie(o,{code:be.invalid_type,expected:ze.number,received:o.parsedType}),at}let r;const s=new Br;for(const o of this._def.checks)o.kind==="int"?It.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Ie(r,{code:be.invalid_type,expected:"integer",received:"float",message:o.message}),s.dirty()):o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),Ie(r,{code:be.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),Ie(r,{code:be.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),s.dirty()):o.kind==="multipleOf"?x9(e.data,o.value)!==0&&(r=this._getOrReturnCtx(e,r),Ie(r,{code:be.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):o.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Ie(r,{code:be.not_finite,message:o.message}),s.dirty()):It.assertNever(o);return{status:s.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Be.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Be.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Be.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Be.toString(n))}setLimit(e,n,r,s){return new od({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Be.toString(s)}]})}_addCheck(e){return new od({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Be.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Be.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Be.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Be.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Be.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Be.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Be.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Be.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Be.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&It.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}od.create=t=>new od({checks:[],typeName:rt.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...ht(t)});class ld extends xt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==ze.bigint)return this._getInvalidInput(e);let r;const s=new Br;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?e.data<o.value:e.data<=o.value)&&(r=this._getOrReturnCtx(e,r),Ie(r,{code:be.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="max"?(o.inclusive?e.data>o.value:e.data>=o.value)&&(r=this._getOrReturnCtx(e,r),Ie(r,{code:be.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),s.dirty()):o.kind==="multipleOf"?e.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Ie(r,{code:be.not_multiple_of,multipleOf:o.value,message:o.message}),s.dirty()):It.assertNever(o);return{status:s.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Ie(n,{code:be.invalid_type,expected:ze.bigint,received:n.parsedType}),at}gte(e,n){return this.setLimit("min",e,!0,Be.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Be.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Be.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Be.toString(n))}setLimit(e,n,r,s){return new ld({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Be.toString(s)}]})}_addCheck(e){return new ld({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Be.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Be.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Be.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Be.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Be.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}ld.create=t=>new ld({checks:[],typeName:rt.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...ht(t)});class gS extends xt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==ze.boolean){const r=this._getOrReturnCtx(e);return Ie(r,{code:be.invalid_type,expected:ze.boolean,received:r.parsedType}),at}return oi(e.data)}}gS.create=t=>new gS({typeName:rt.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...ht(t)});class Wh extends xt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==ze.date){const o=this._getOrReturnCtx(e);return Ie(o,{code:be.invalid_type,expected:ze.date,received:o.parsedType}),at}if(Number.isNaN(e.data.getTime())){const o=this._getOrReturnCtx(e);return Ie(o,{code:be.invalid_date}),at}const r=new Br;let s;for(const o of this._def.checks)o.kind==="min"?e.data.getTime()<o.value&&(s=this._getOrReturnCtx(e,s),Ie(s,{code:be.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?e.data.getTime()>o.value&&(s=this._getOrReturnCtx(e,s),Ie(s,{code:be.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):It.assertNever(o);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Wh({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Be.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Be.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Wh.create=t=>new Wh({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:rt.ZodDate,...ht(t)});class yS extends xt{_parse(e){if(this._getType(e)!==ze.symbol){const r=this._getOrReturnCtx(e);return Ie(r,{code:be.invalid_type,expected:ze.symbol,received:r.parsedType}),at}return oi(e.data)}}yS.create=t=>new yS({typeName:rt.ZodSymbol,...ht(t)});class vS extends xt{_parse(e){if(this._getType(e)!==ze.undefined){const r=this._getOrReturnCtx(e);return Ie(r,{code:be.invalid_type,expected:ze.undefined,received:r.parsedType}),at}return oi(e.data)}}vS.create=t=>new vS({typeName:rt.ZodUndefined,...ht(t)});class _S extends xt{_parse(e){if(this._getType(e)!==ze.null){const r=this._getOrReturnCtx(e);return Ie(r,{code:be.invalid_type,expected:ze.null,received:r.parsedType}),at}return oi(e.data)}}_S.create=t=>new _S({typeName:rt.ZodNull,...ht(t)});class bS extends xt{constructor(){super(...arguments),this._any=!0}_parse(e){return oi(e.data)}}bS.create=t=>new bS({typeName:rt.ZodAny,...ht(t)});class ES extends xt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return oi(e.data)}}ES.create=t=>new ES({typeName:rt.ZodUnknown,...ht(t)});class Ha extends xt{_parse(e){const n=this._getOrReturnCtx(e);return Ie(n,{code:be.invalid_type,expected:ze.never,received:n.parsedType}),at}}Ha.create=t=>new Ha({typeName:rt.ZodNever,...ht(t)});class TS extends xt{_parse(e){if(this._getType(e)!==ze.undefined){const r=this._getOrReturnCtx(e);return Ie(r,{code:be.invalid_type,expected:ze.void,received:r.parsedType}),at}return oi(e.data)}}TS.create=t=>new TS({typeName:rt.ZodVoid,...ht(t)});class Ji extends xt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),s=this._def;if(n.parsedType!==ze.array)return Ie(n,{code:be.invalid_type,expected:ze.array,received:n.parsedType}),at;if(s.exactLength!==null){const u=n.data.length>s.exactLength.value,d=n.data.length<s.exactLength.value;(u||d)&&(Ie(n,{code:u?be.too_big:be.too_small,minimum:d?s.exactLength.value:void 0,maximum:u?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(Ie(n,{code:be.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(Ie(n,{code:be.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((u,d)=>s.type._parseAsync(new $a(n,u,n.path,d)))).then(u=>Br.mergeArray(r,u));const o=[...n.data].map((u,d)=>s.type._parseSync(new $a(n,u,n.path,d)));return Br.mergeArray(r,o)}get element(){return this._def.type}min(e,n){return new Ji({...this._def,minLength:{value:e,message:Be.toString(n)}})}max(e,n){return new Ji({...this._def,maxLength:{value:e,message:Be.toString(n)}})}length(e,n){return new Ji({...this._def,exactLength:{value:e,message:Be.toString(n)}})}nonempty(e){return this.min(1,e)}}Ji.create=(t,e)=>new Ji({type:t,minLength:null,maxLength:null,exactLength:null,typeName:rt.ZodArray,...ht(e)});function $l(t){if(t instanceof mn){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=ka.create($l(r))}return new mn({...t._def,shape:()=>e})}else return t instanceof Ji?new Ji({...t._def,type:$l(t.element)}):t instanceof ka?ka.create($l(t.unwrap())):t instanceof cu?cu.create($l(t.unwrap())):t instanceof Bo?Bo.create(t.items.map(e=>$l(e))):t}class mn extends xt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=It.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==ze.object){const m=this._getOrReturnCtx(e);return Ie(m,{code:be.invalid_type,expected:ze.object,received:m.parsedType}),at}const{status:r,ctx:s}=this._processInputParams(e),{shape:o,keys:u}=this._getCached(),d=[];if(!(this._def.catchall instanceof Ha&&this._def.unknownKeys==="strip"))for(const m in s.data)u.includes(m)||d.push(m);const f=[];for(const m of u){const y=o[m],b=s.data[m];f.push({key:{status:"valid",value:m},value:y._parse(new $a(s,b,s.path,m)),alwaysSet:m in s.data})}if(this._def.catchall instanceof Ha){const m=this._def.unknownKeys;if(m==="passthrough")for(const y of d)f.push({key:{status:"valid",value:y},value:{status:"valid",value:s.data[y]}});else if(m==="strict")d.length>0&&(Ie(s,{code:be.unrecognized_keys,keys:d}),r.dirty());else if(m!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const m=this._def.catchall;for(const y of d){const b=s.data[y];f.push({key:{status:"valid",value:y},value:m._parse(new $a(s,b,s.path,y)),alwaysSet:y in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const m=[];for(const y of f){const b=await y.key,_=await y.value;m.push({key:b,value:_,alwaysSet:y.alwaysSet})}return m}).then(m=>Br.mergeObjectSync(r,m)):Br.mergeObjectSync(r,f)}get shape(){return this._def.shape()}strict(e){return Be.errToObj,new mn({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var o,u;const s=((u=(o=this._def).errorMap)==null?void 0:u.call(o,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Be.errToObj(e).message??s}:{message:s}}}:{}})}strip(){return new mn({...this._def,unknownKeys:"strip"})}passthrough(){return new mn({...this._def,unknownKeys:"passthrough"})}extend(e){return new mn({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new mn({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:rt.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new mn({...this._def,catchall:e})}pick(e){const n={};for(const r of It.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new mn({...this._def,shape:()=>n})}omit(e){const n={};for(const r of It.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new mn({...this._def,shape:()=>n})}deepPartial(){return $l(this)}partial(e){const n={};for(const r of It.objectKeys(this.shape)){const s=this.shape[r];e&&!e[r]?n[r]=s:n[r]=s.optional()}return new mn({...this._def,shape:()=>n})}required(e){const n={};for(const r of It.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof ka;)o=o._def.innerType;n[r]=o}return new mn({...this._def,shape:()=>n})}keyof(){return RC(It.objectKeys(this.shape))}}mn.create=(t,e)=>new mn({shape:()=>t,unknownKeys:"strip",catchall:Ha.create(),typeName:rt.ZodObject,...ht(e)});mn.strictCreate=(t,e)=>new mn({shape:()=>t,unknownKeys:"strict",catchall:Ha.create(),typeName:rt.ZodObject,...ht(e)});mn.lazycreate=(t,e)=>new mn({shape:t,unknownKeys:"strip",catchall:Ha.create(),typeName:rt.ZodObject,...ht(e)});class Zh extends xt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function s(o){for(const d of o)if(d.result.status==="valid")return d.result;for(const d of o)if(d.result.status==="dirty")return n.common.issues.push(...d.ctx.common.issues),d.result;const u=o.map(d=>new Vs(d.ctx.common.issues));return Ie(n,{code:be.invalid_union,unionErrors:u}),at}if(n.common.async)return Promise.all(r.map(async o=>{const u={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:u}),ctx:u}})).then(s);{let o;const u=[];for(const f of r){const m={...n,common:{...n.common,issues:[]},parent:null},y=f._parseSync({data:n.data,path:n.path,parent:m});if(y.status==="valid")return y;y.status==="dirty"&&!o&&(o={result:y,ctx:m}),m.common.issues.length&&u.push(m.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const d=u.map(f=>new Vs(f));return Ie(n,{code:be.invalid_union,unionErrors:d}),at}}get options(){return this._def.options}}Zh.create=(t,e)=>new Zh({options:t,typeName:rt.ZodUnion,...ht(e)});function Yy(t,e){const n=ga(t),r=ga(e);if(t===e)return{valid:!0,data:t};if(n===ze.object&&r===ze.object){const s=It.objectKeys(e),o=It.objectKeys(t).filter(d=>s.indexOf(d)!==-1),u={...t,...e};for(const d of o){const f=Yy(t[d],e[d]);if(!f.valid)return{valid:!1};u[d]=f.data}return{valid:!0,data:u}}else if(n===ze.array&&r===ze.array){if(t.length!==e.length)return{valid:!1};const s=[];for(let o=0;o<t.length;o++){const u=t[o],d=e[o],f=Yy(u,d);if(!f.valid)return{valid:!1};s.push(f.data)}return{valid:!0,data:s}}else return n===ze.date&&r===ze.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class Jh extends xt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=(o,u)=>{if(hS(o)||hS(u))return at;const d=Yy(o.value,u.value);return d.valid?((mS(o)||mS(u))&&n.dirty(),{status:n.value,value:d.data}):(Ie(r,{code:be.invalid_intersection_types}),at)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,u])=>s(o,u)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Jh.create=(t,e,n)=>new Jh({left:t,right:e,typeName:rt.ZodIntersection,...ht(n)});class Bo extends xt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ze.array)return Ie(r,{code:be.invalid_type,expected:ze.array,received:r.parsedType}),at;if(r.data.length<this._def.items.length)return Ie(r,{code:be.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),at;!this._def.rest&&r.data.length>this._def.items.length&&(Ie(r,{code:be.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((u,d)=>{const f=this._def.items[d]||this._def.rest;return f?f._parse(new $a(r,u,r.path,d)):null}).filter(u=>!!u);return r.common.async?Promise.all(o).then(u=>Br.mergeArray(n,u)):Br.mergeArray(n,o)}get items(){return this._def.items}rest(e){return new Bo({...this._def,rest:e})}}Bo.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Bo({items:t,typeName:rt.ZodTuple,rest:null,...ht(e)})};class wS extends xt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ze.map)return Ie(r,{code:be.invalid_type,expected:ze.map,received:r.parsedType}),at;const s=this._def.keyType,o=this._def.valueType,u=[...r.data.entries()].map(([d,f],m)=>({key:s._parse(new $a(r,d,r.path,[m,"key"])),value:o._parse(new $a(r,f,r.path,[m,"value"]))}));if(r.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const f of u){const m=await f.key,y=await f.value;if(m.status==="aborted"||y.status==="aborted")return at;(m.status==="dirty"||y.status==="dirty")&&n.dirty(),d.set(m.value,y.value)}return{status:n.value,value:d}})}else{const d=new Map;for(const f of u){const m=f.key,y=f.value;if(m.status==="aborted"||y.status==="aborted")return at;(m.status==="dirty"||y.status==="dirty")&&n.dirty(),d.set(m.value,y.value)}return{status:n.value,value:d}}}}wS.create=(t,e,n)=>new wS({valueType:e,keyType:t,typeName:rt.ZodMap,...ht(n)});class ud extends xt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==ze.set)return Ie(r,{code:be.invalid_type,expected:ze.set,received:r.parsedType}),at;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(Ie(r,{code:be.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(Ie(r,{code:be.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const o=this._def.valueType;function u(f){const m=new Set;for(const y of f){if(y.status==="aborted")return at;y.status==="dirty"&&n.dirty(),m.add(y.value)}return{status:n.value,value:m}}const d=[...r.data.values()].map((f,m)=>o._parse(new $a(r,f,r.path,m)));return r.common.async?Promise.all(d).then(f=>u(f)):u(d)}min(e,n){return new ud({...this._def,minSize:{value:e,message:Be.toString(n)}})}max(e,n){return new ud({...this._def,maxSize:{value:e,message:Be.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}ud.create=(t,e)=>new ud({valueType:t,minSize:null,maxSize:null,typeName:rt.ZodSet,...ht(e)});class SS extends xt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}SS.create=(t,e)=>new SS({getter:t,typeName:rt.ZodLazy,...ht(e)});class AS extends xt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Ie(n,{received:n.data,code:be.invalid_literal,expected:this._def.value}),at}return{status:"valid",value:e.data}}get value(){return this._def.value}}AS.create=(t,e)=>new AS({value:t,typeName:rt.ZodLiteral,...ht(e)});function RC(t,e){return new lu({values:t,typeName:rt.ZodEnum,...ht(e)})}class lu extends xt{constructor(){super(...arguments),Lc.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Ie(n,{expected:It.joinValues(r),received:n.parsedType,code:be.invalid_type}),at}if(Xh(this,Lc,"f")||AC(this,Lc,new Set(this._def.values),"f"),!Xh(this,Lc,"f").has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Ie(n,{received:n.data,code:be.invalid_enum_value,options:r}),at}return oi(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return lu.create(e,{...this._def,...n})}exclude(e,n=this._def){return lu.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}Lc=new WeakMap;lu.create=RC;class xS extends xt{constructor(){super(...arguments),Vc.set(this,void 0)}_parse(e){const n=It.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==ze.string&&r.parsedType!==ze.number){const s=It.objectValues(n);return Ie(r,{expected:It.joinValues(s),received:r.parsedType,code:be.invalid_type}),at}if(Xh(this,Vc,"f")||AC(this,Vc,new Set(It.getValidEnumValues(this._def.values)),"f"),!Xh(this,Vc,"f").has(e.data)){const s=It.objectValues(n);return Ie(r,{received:r.data,code:be.invalid_enum_value,options:s}),at}return oi(e.data)}get enum(){return this._def.values}}Vc=new WeakMap;xS.create=(t,e)=>new xS({values:t,typeName:rt.ZodNativeEnum,...ht(e)});class em extends xt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==ze.promise&&n.common.async===!1)return Ie(n,{code:be.invalid_type,expected:ze.promise,received:n.parsedType}),at;const r=n.parsedType===ze.promise?n.data:Promise.resolve(n.data);return oi(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}em.create=(t,e)=>new em({type:t,typeName:rt.ZodPromise,...ht(e)});class uu extends xt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===rt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),s=this._def.effect||null,o={addIssue:u=>{Ie(r,u),u.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),s.type==="preprocess"){const u=s.transform(r.data,o);if(r.common.async)return Promise.resolve(u).then(async d=>{if(n.value==="aborted")return at;const f=await this._def.schema._parseAsync({data:d,path:r.path,parent:r});return f.status==="aborted"?at:f.status==="dirty"||n.value==="dirty"?Pc(f.value):f});{if(n.value==="aborted")return at;const d=this._def.schema._parseSync({data:u,path:r.path,parent:r});return d.status==="aborted"?at:d.status==="dirty"||n.value==="dirty"?Pc(d.value):d}}if(s.type==="refinement"){const u=d=>{const f=s.refinement(d,o);if(r.common.async)return Promise.resolve(f);if(f instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(r.common.async===!1){const d=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return d.status==="aborted"?at:(d.status==="dirty"&&n.dirty(),u(d.value),{status:n.value,value:d.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(d=>d.status==="aborted"?at:(d.status==="dirty"&&n.dirty(),u(d.value).then(()=>({status:n.value,value:d.value}))))}if(s.type==="transform")if(r.common.async===!1){const u=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!ou(u))return u;const d=s.transform(u.value,o);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:d}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(u=>ou(u)?Promise.resolve(s.transform(u.value,o)).then(d=>({status:n.value,value:d})):u);It.assertNever(s)}}uu.create=(t,e,n)=>new uu({schema:t,typeName:rt.ZodEffects,effect:e,...ht(n)});uu.createWithPreprocess=(t,e,n)=>new uu({schema:e,effect:{type:"preprocess",transform:t},typeName:rt.ZodEffects,...ht(n)});class ka extends xt{_parse(e){return this._getType(e)===ze.undefined?oi(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}ka.create=(t,e)=>new ka({innerType:t,typeName:rt.ZodOptional,...ht(e)});class cu extends xt{_parse(e){return this._getType(e)===ze.null?oi(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}cu.create=(t,e)=>new cu({innerType:t,typeName:rt.ZodNullable,...ht(e)});class Qy extends xt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===ze.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Qy.create=(t,e)=>new Qy({innerType:t,typeName:rt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...ht(e)});class Xy extends xt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Qh(s)?s.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new Vs(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Vs(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Xy.create=(t,e)=>new Xy({innerType:t,typeName:rt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...ht(e)});class CS extends xt{_parse(e){if(this._getType(e)!==ze.nan){const r=this._getOrReturnCtx(e);return Ie(r,{code:be.invalid_type,expected:ze.nan,received:r.parsedType}),at}return{status:"valid",value:e.data}}}CS.create=t=>new CS({typeName:rt.ZodNaN,...ht(t)});class C9 extends xt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class b_ extends xt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?at:o.status==="dirty"?(n.dirty(),Pc(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?at:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(e,n){return new b_({in:e,out:n,typeName:rt.ZodPipeline})}}class Wy extends xt{_parse(e){const n=this._def.innerType._parse(e),r=s=>(ou(s)&&(s.value=Object.freeze(s.value)),s);return Qh(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Wy.create=(t,e)=>new Wy({innerType:t,typeName:rt.ZodReadonly,...ht(e)});var rt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(rt||(rt={}));const ur=Ra.create;Ha.create;Ji.create;const Mm=mn.create;Zh.create;Jh.create;Bo.create;const RS=lu.create;em.create;ka.create;cu.create;const IS=(t,e,n)=>{if(t&&"reportValidity"in t){const r=Le(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},IC=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?IS(r.ref,n,t):r&&r.refs&&r.refs.forEach(s=>IS(s,n,t))}},R9=(t,e)=>{e.shouldUseNativeValidation&&IC(t,e);const n={};for(const r in t){const s=Le(e.fields,r),o=Object.assign(t[r]||{},{ref:s&&s.ref});if(I9(e.names||Object.keys(t),r)){const u=Object.assign({},Le(n,r));Bt(u,"root",o),Bt(n,r,u)}else Bt(n,r,o)}return n},I9=(t,e)=>{const n=NS(e);return t.some(r=>NS(r).match(`^${n}\\.\\d+`))};function NS(t){return t.replace(/\]|\[/g,"")}function N9(t,e){for(var n={};t.length;){var r=t[0],s=r.code,o=r.message,u=r.path.join(".");if(!n[u])if("unionErrors"in r){var d=r.unionErrors[0].errors[0];n[u]={message:d.message,type:d.code}}else n[u]={message:o,type:s};if("unionErrors"in r&&r.unionErrors.forEach(function(y){return y.errors.forEach(function(b){return t.push(b)})}),e){var f=n[u].types,m=f&&f[r.code];n[u]=vC(u,e,n,s,m?[].concat(m,r.message):r.message)}t.shift()}return n}function Pm(t,e,n){return n===void 0&&(n={}),function(r,s,o){try{return Promise.resolve(function(u,d){try{var f=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(m){return o.shouldUseNativeValidation&&IC({},o),{errors:{},values:n.raw?Object.assign({},r):m}})}catch(m){return d(m)}return f&&f.then?f.then(void 0,d):f}(0,function(u){if(function(d){return Array.isArray(d==null?void 0:d.errors)}(u))return{values:{},errors:R9(N9(u.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw u}))}catch(u){return Promise.reject(u)}}}const Bn=[];for(let t=0;t<256;++t)Bn.push((t+256).toString(16).slice(1));function O9(t,e=0){return(Bn[t[e+0]]+Bn[t[e+1]]+Bn[t[e+2]]+Bn[t[e+3]]+"-"+Bn[t[e+4]]+Bn[t[e+5]]+"-"+Bn[t[e+6]]+Bn[t[e+7]]+"-"+Bn[t[e+8]]+Bn[t[e+9]]+"-"+Bn[t[e+10]]+Bn[t[e+11]]+Bn[t[e+12]]+Bn[t[e+13]]+Bn[t[e+14]]+Bn[t[e+15]]).toLowerCase()}let cy;const D9=new Uint8Array(16);function k9(){if(!cy){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");cy=crypto.getRandomValues.bind(crypto)}return cy(D9)}const M9=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),OS={randomUUID:M9};function P9(t,e,n){var s;if(OS.randomUUID&&!t)return OS.randomUUID();t=t||{};const r=t.random??((s=t.rng)==null?void 0:s.call(t))??k9();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,O9(r)}let L9={data:""},V9=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||L9,U9=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,j9=/\/\*[^]*?\*\/|  +/g,DS=/\n+/g,Sa=(t,e)=>{let n="",r="",s="";for(let o in t){let u=t[o];o[0]=="@"?o[1]=="i"?n=o+" "+u+";":r+=o[1]=="f"?Sa(u,o):o+"{"+Sa(u,o[1]=="k"?"":e)+"}":typeof u=="object"?r+=Sa(u,e?e.replace(/([^,])+/g,d=>o.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,f=>/&/.test(f)?f.replace(/&/g,d):d?d+" "+f:f)):o):u!=null&&(o=/^--/.test(o)?o:o.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=Sa.p?Sa.p(o,u):o+":"+u+";")}return n+(e&&s?e+"{"+s+"}":s)+r},xs={},NC=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+NC(t[n]);return e}return t},z9=(t,e,n,r,s)=>{let o=NC(t),u=xs[o]||(xs[o]=(f=>{let m=0,y=11;for(;m<f.length;)y=101*y+f.charCodeAt(m++)>>>0;return"go"+y})(o));if(!xs[u]){let f=o!==t?t:(m=>{let y,b,_=[{}];for(;y=U9.exec(m.replace(j9,""));)y[4]?_.shift():y[3]?(b=y[3].replace(DS," ").trim(),_.unshift(_[0][b]=_[0][b]||{})):_[0][y[1]]=y[2].replace(DS," ").trim();return _[0]})(t);xs[u]=Sa(s?{["@keyframes "+u]:f}:f,n?"":"."+u)}let d=n&&xs.g?xs.g:null;return n&&(xs.g=xs[u]),((f,m,y,b)=>{b?m.data=m.data.replace(b,f):m.data.indexOf(f)===-1&&(m.data=y?f+m.data:m.data+f)})(xs[u],e,r,d),u},B9=(t,e,n)=>t.reduce((r,s,o)=>{let u=e[o];if(u&&u.call){let d=u(n),f=d&&d.props&&d.props.className||/^go/.test(d)&&d;u=f?"."+f:d&&typeof d=="object"?d.props?"":Sa(d,""):d===!1?"":d}return r+s+(u??"")},"");function Lm(t){let e=this||{},n=t.call?t(e.p):t;return z9(n.unshift?n.raw?B9(n,[].slice.call(arguments,1),e.p):n.reduce((r,s)=>Object.assign(r,s&&s.call?s(e.p):s),{}):n,V9(e.target),e.g,e.o,e.k)}let OC,Zy,Jy;Lm.bind({g:1});let Us=Lm.bind({k:1});function F9(t,e,n,r){Sa.p=e,OC=t,Zy=n,Jy=r}function Xa(t,e){let n=this||{};return function(){let r=arguments;function s(o,u){let d=Object.assign({},o),f=d.className||s.className;n.p=Object.assign({theme:Zy&&Zy()},d),n.o=/ *go\d+/.test(f),d.className=Lm.apply(n,r)+(f?" "+f:"");let m=t;return t[0]&&(m=d.as||t,delete d.as),Jy&&m[0]&&Jy(d),OC(m,d)}return s}}var $9=t=>typeof t=="function",tm=(t,e)=>$9(t)?t(e):t,H9=(()=>{let t=0;return()=>(++t).toString()})(),DC=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),q9=20,kC=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,q9)};case 1:return{...t,toasts:t.toasts.map(o=>o.id===e.toast.id?{...o,...e.toast}:o)};case 2:let{toast:n}=e;return kC(t,{type:t.toasts.find(o=>o.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=e;return{...t,toasts:t.toasts.map(o=>o.id===r||r===void 0?{...o,dismissed:!0,visible:!1}:o)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(o=>o.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let s=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(o=>({...o,pauseDuration:o.pauseDuration+s}))}}},gh=[],No={toasts:[],pausedAt:void 0},Xo=t=>{No=kC(No,t),gh.forEach(e=>{e(No)})},G9={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},K9=(t={})=>{let[e,n]=B.useState(No),r=B.useRef(No);B.useEffect(()=>(r.current!==No&&n(No),gh.push(n),()=>{let o=gh.indexOf(n);o>-1&&gh.splice(o,1)}),[]);let s=e.toasts.map(o=>{var u,d,f;return{...t,...t[o.type],...o,removeDelay:o.removeDelay||((u=t[o.type])==null?void 0:u.removeDelay)||(t==null?void 0:t.removeDelay),duration:o.duration||((d=t[o.type])==null?void 0:d.duration)||(t==null?void 0:t.duration)||G9[o.type],style:{...t.style,...(f=t[o.type])==null?void 0:f.style,...o.style}}});return{...e,toasts:s}},Y9=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||H9()}),xd=t=>(e,n)=>{let r=Y9(e,t,n);return Xo({type:2,toast:r}),r.id},cr=(t,e)=>xd("blank")(t,e);cr.error=xd("error");cr.success=xd("success");cr.loading=xd("loading");cr.custom=xd("custom");cr.dismiss=t=>{Xo({type:3,toastId:t})};cr.remove=t=>Xo({type:4,toastId:t});cr.promise=(t,e,n)=>{let r=cr.loading(e.loading,{...n,...n==null?void 0:n.loading});return typeof t=="function"&&(t=t()),t.then(s=>{let o=e.success?tm(e.success,s):void 0;return o?cr.success(o,{id:r,...n,...n==null?void 0:n.success}):cr.dismiss(r),s}).catch(s=>{let o=e.error?tm(e.error,s):void 0;o?cr.error(o,{id:r,...n,...n==null?void 0:n.error}):cr.dismiss(r)}),t};var Q9=(t,e)=>{Xo({type:1,toast:{id:t,height:e}})},X9=()=>{Xo({type:5,time:Date.now()})},Yc=new Map,W9=1e3,Z9=(t,e=W9)=>{if(Yc.has(t))return;let n=setTimeout(()=>{Yc.delete(t),Xo({type:4,toastId:t})},e);Yc.set(t,n)},J9=t=>{let{toasts:e,pausedAt:n}=K9(t);B.useEffect(()=>{if(n)return;let o=Date.now(),u=e.map(d=>{if(d.duration===1/0)return;let f=(d.duration||0)+d.pauseDuration-(o-d.createdAt);if(f<0){d.visible&&cr.dismiss(d.id);return}return setTimeout(()=>cr.dismiss(d.id),f)});return()=>{u.forEach(d=>d&&clearTimeout(d))}},[e,n]);let r=B.useCallback(()=>{n&&Xo({type:6,time:Date.now()})},[n]),s=B.useCallback((o,u)=>{let{reverseOrder:d=!1,gutter:f=8,defaultPosition:m}=u||{},y=e.filter(w=>(w.position||m)===(o.position||m)&&w.height),b=y.findIndex(w=>w.id===o.id),_=y.filter((w,S)=>S<b&&w.visible).length;return y.filter(w=>w.visible).slice(...d?[_+1]:[0,_]).reduce((w,S)=>w+(S.height||0)+f,0)},[e]);return B.useEffect(()=>{e.forEach(o=>{if(o.dismissed)Z9(o.id,o.removeDelay);else{let u=Yc.get(o.id);u&&(clearTimeout(u),Yc.delete(o.id))}})},[e]),{toasts:e,handlers:{updateHeight:Q9,startPause:X9,endPause:r,calculateOffset:s}}},ej=Us`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,tj=Us`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,nj=Us`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,rj=Xa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${ej} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${tj} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${nj} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ij=Us`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,sj=Xa("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${ij} 1s linear infinite;
`,aj=Us`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,oj=Us`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,lj=Xa("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${aj} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${oj} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,uj=Xa("div")`
  position: absolute;
`,cj=Xa("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,dj=Us`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,fj=Xa("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${dj} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,hj=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?B.createElement(fj,null,e):e:n==="blank"?null:B.createElement(cj,null,B.createElement(sj,{...r}),n!=="loading"&&B.createElement(uj,null,n==="error"?B.createElement(rj,{...r}):B.createElement(lj,{...r})))},mj=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,pj=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,gj="0%{opacity:0;} 100%{opacity:1;}",yj="0%{opacity:1;} 100%{opacity:0;}",vj=Xa("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,_j=Xa("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,bj=(t,e)=>{let n=t.includes("top")?1:-1,[r,s]=DC()?[gj,yj]:[mj(n),pj(n)];return{animation:e?`${Us(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Us(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Ej=B.memo(({toast:t,position:e,style:n,children:r})=>{let s=t.height?bj(t.position||e||"top-center",t.visible):{opacity:0},o=B.createElement(hj,{toast:t}),u=B.createElement(_j,{...t.ariaProps},tm(t.message,t));return B.createElement(vj,{className:t.className,style:{...s,...n,...t.style}},typeof r=="function"?r({icon:o,message:u}):B.createElement(B.Fragment,null,o,u))});F9(B.createElement);var Tj=({id:t,className:e,style:n,onHeightUpdate:r,children:s})=>{let o=B.useCallback(u=>{if(u){let d=()=>{let f=u.getBoundingClientRect().height;r(t,f)};d(),new MutationObserver(d).observe(u,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return B.createElement("div",{ref:o,className:e,style:n},s)},wj=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},s=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:DC()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...s}},Sj=Lm`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,th=16,Aj=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:s,containerStyle:o,containerClassName:u})=>{let{toasts:d,handlers:f}=J9(n);return B.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:th,left:th,right:th,bottom:th,pointerEvents:"none",...o},className:u,onMouseEnter:f.startPause,onMouseLeave:f.endPause},d.map(m=>{let y=m.position||e,b=f.calculateOffset(m,{reverseOrder:t,gutter:r,defaultPosition:e}),_=wj(y,b);return B.createElement(Tj,{id:m.id,key:m.id,onHeightUpdate:f.updateHeight,className:m.visible?Sj:"",style:_},m.type==="custom"?tm(m.message,m):s?s(m):B.createElement(Ej,{toast:m,position:y}))}))},Er=cr;function cd(){return D.jsx("h1",{children:D.jsx(am,{className:"animate-spin"})})}const xj=Mm({name:ur().nonempty("Nome obrigatorio"),brand:RS(["Nissan","Mercedes","Volkswagen","Toyota","Honda","Bmw","Mitsubishi"],{errorMap:()=>({message:"Marca obrigatria"})}),model:ur().nonempty("Modelo obrigatorio"),year:ur().nonempty("Ano do carro obrigatorio"),km:ur().nonempty("Quilometragem obrigatoria"),price:ur().nonempty("Preco obrigatorio"),city:RS(["Rio de Janeiro - RJ","Sao Paulo - SP","Curitiba - PR","Belo Horizonte - MG","Porto Alegre - RS","Brasilia - DF","Florianopolis - SC","Salvador - BA"],{errorMap:()=>({message:"Cidade obrigatria"})}),description:ur().nonempty("Descricao obrigatoria")});function Cj(){var w,S,x,C,V;const{user:t}=B.useContext(Yo),[e,n]=B.useState(!1),{register:r,handleSubmit:s,formState:{errors:o},reset:u}=km({resolver:Pm(xj),mode:"onChange"}),[d,f]=B.useState([]);async function m(L){if(L.target.files&&L.target.files[0]){const $=L.target.files[0];if($.type==="image/jpeg"||$.type==="image/png"||$.type==="image/webp")await y($);else{alert("Formato invalido");return}}}async function y(L){if(!(t!=null&&t.uid))return;const $=t==null?void 0:t.uid,Y=P9(),G=$h(Hh,`images/${$}/${Y}`);Wx(G,L).then(F=>{n(!0),Zx(F.ref).then(U=>{const R={name:Y,url:U,uid:$,previewUrl:URL.createObjectURL(L)};f(k=>[...k,R]),Er.success("Imagem carregada com sucesso"),n(!1)})})}function b(L){if(n(!0),d.length===0){Er.error("Envie pelo menos uma imagem"),n(!1);return}const $=d.map(Y=>({name:Y.name,url:Y.url,uid:Y.uid}));Mx(Fa(bi,"cars"),{name:L.name.toUpperCase(),brand:L.brand.toUpperCase(),model:L.model,year:L.year,km:L.km,price:L.price,city:L.city,description:L.description,created:new Date,owner:t==null?void 0:t.name,uid:t==null?void 0:t.uid,images:$}).then(()=>{u(),f([]),Er.success("Carro cadastrado com sucesso"),n(!1)}).catch(Y=>{console.log("Erro ao cadastrar carro"),console.log(Y),n(!1)})}async function _(L){const $=`images/${L.uid}/${L.name}`,Y=$h(Hh,$);try{await Jx(Y),f(d.filter(G=>G.url!==L.url))}catch{console.log("erro ao deletar")}}return D.jsxs(Qo,{children:[D.jsx(p_,{}),D.jsxs("div",{className:"w-full bg-white p-3 rounded-lg flex flex-col sm:grid sm:grid-cols-3 items-center gap-2",children:[D.jsxs("button",{className:"border-2 w-48 md:w-56  rounded-lg flex items-center justify-center cursor-pointer border-gray-600 h-32 relative group",children:[D.jsx("div",{className:"transition-transform duration-300 group-hover:scale-125",children:e?D.jsx(cd,{}):D.jsx(a1,{size:30,color:"#000"})}),D.jsx("div",{children:D.jsx("input",{type:"file",accept:"image/*",className:"opacity-0 cursor-pointer absolute inset-0",onChange:m})})]}),d.map(L=>D.jsxs("div",{className:"w-full h-32 flex items-center justify-center relative",children:[D.jsx("button",{children:D.jsx(UN,{size:28,className:"absolute top-2 right-2 cursor-pointer text-red-200 hover:text-red-600",onClick:()=>_(L)})}),D.jsx("img",{src:L.previewUrl,className:"rounded- w-full h-32 object-cover",alt:"Foto do carro"})]},L.name))]}),D.jsx("div",{className:"w-full bg-white p-3 rounded-lg flex flex-col sm:flex-row items-center gap-2 mt-2 mb-10",children:D.jsxs("form",{className:"w-full",onSubmit:s(b),children:[D.jsxs("div",{className:"mb-3",children:[D.jsx("p",{className:"mb-2 font-medium",children:"Nome do carro"}),D.jsx(Hi,{type:"text",register:r,name:"name",error:(w=o.name)==null?void 0:w.message,placeholder:"Ex: Gol"})]}),D.jsxs("div",{className:"mb-3",children:[D.jsx("p",{className:"mb-2 font-medium",children:"Marca do carro"}),D.jsxs("select",{...r("brand"),className:"border-2 w-full rounded-md h-10 px-2",children:[D.jsx("option",{value:"",children:"Selecione a marca"}),D.jsx("option",{value:"Honda",children:"Honda"}),D.jsx("option",{value:"Toyota",children:"Toyota"}),D.jsx("option",{value:"Volkswagen",children:"Volkswagen"}),D.jsx("option",{value:"Bmw",children:"Bmw"}),D.jsx("option",{value:"Mitsubishi",children:"Mitsubishi"}),D.jsx("option",{value:"Mercedes",children:"Mercedes"}),D.jsx("option",{value:"Nissan",children:"Nissan"})]}),o.brand&&D.jsx("p",{className:"mb-1 text-red-500",children:o.brand.message})]}),D.jsxs("div",{className:"mb-3",children:[D.jsx("p",{className:"mb-2 font-medium",children:"Modelo do carro"}),D.jsx(Hi,{type:"text",register:r,name:"model",error:(S=o.model)==null?void 0:S.message,placeholder:"Ex: 1.6 Flex"})]}),D.jsxs("div",{className:"flex w-full mb-3 flex-row items-center gap-4",children:[D.jsxs("div",{className:"w-full",children:[D.jsx("p",{className:"mb-2 font-medium",children:"Ano do carro"}),D.jsx(Hi,{type:"text",register:r,name:"year",error:(x=o.year)==null?void 0:x.message,placeholder:"Ex: 2022/2023"})]}),D.jsxs("div",{className:"w-full",children:[D.jsx("p",{className:"mb-2 font-medium",children:"Km rodados"}),D.jsx(Hi,{type:"text",register:r,name:"km",error:(C=o.km)==null?void 0:C.message,placeholder:"Ex: 20.000"})]})]}),D.jsx("div",{className:"flex w-full mb-3 flex-row items-center gap-4",children:D.jsx("div",{className:"w-full",children:D.jsxs("div",{className:"mb-3",children:[D.jsx("p",{className:"mb-2 font-medium",children:"Marca do carro"}),D.jsxs("select",{...r("city"),className:"border-2 w-full rounded-md h-10 px-2",children:[D.jsx("option",{value:"",children:"Selecione a cidade"}),D.jsx("option",{value:"Rio de Janeiro - RJ",children:"Rio de Janeiro - RJ"}),D.jsx("option",{value:"Sao Paulo - SP",children:"Sao Paulo - SP"}),D.jsx("option",{value:"Curitiba - PR",children:"Curitiba - PR"}),D.jsx("option",{value:"Belo Horizonte - MG",children:"Belo Horizonte - MG"}),D.jsx("option",{value:"Porto Alegre - RS",children:"Porto Alegre - RS"}),D.jsx("option",{value:"Brasilia - DF",children:"Brasilia - DF"}),D.jsx("option",{value:"Florianopolis - SC",children:"Florianopolis - SC"})]}),o.city&&D.jsx("p",{className:"mb-1 text-red-500",children:o.city.message})]})})}),D.jsxs("div",{className:"mb-3",children:[D.jsx("p",{className:"mb-2 font-medium",children:"Preo"}),D.jsx(Hi,{type:"text",register:r,name:"price",error:(V=o.price)==null?void 0:V.message,placeholder:"Ex: R$ 50.000"})]}),D.jsxs("div",{className:"mb-3",children:[D.jsx("p",{className:"mb-2 font-medium",children:"Descrio"}),D.jsx("textarea",{className:"border-2 w-full rounded-md h-24 px-2",...r("description"),name:"description",id:"description",placeholder:"Digite uma breve descrio do carro"}),o.description&&D.jsx("p",{className:"mb-1 text-red-500",children:o.description.message})]}),D.jsx("button",{type:"submit",className:"bg-blue-300 hover:bg-blue-500 cursor-pointer w-full rounded-md text-white h-10 font-medium flex items-center justify-center",children:e?D.jsx(cd,{}):"Cadastrar carro"})]})})]})}const Rj=Mm({email:ur().email("E-mail invalido").nonempty("E-mail obrigatorio"),password:ur().nonempty("Senha obrigatoria")});function Ij(){var d,f;const[t,e]=B.useState(!1),n=fu(),{register:r,handleSubmit:s,formState:{errors:o}}=km({resolver:Pm(Rj),mode:"onChange"});B.useEffect(()=>{async function m(){await bv(jo)}m()},[]);function u(m){e(!0),Tk(jo,m.email,m.password).then(y=>{console.log("logado com sucesso"),console.log(y),Er.success("Logado com sucesso!"),n("/dashboard",{replace:!0}),e(!1)}).catch(y=>{Er.error("Erro ao logar"),console.log(y),e(!1)})}return D.jsx(Qo,{children:D.jsxs("div",{className:"w-full min-h-screen flex justify-center items-center flex-col gap-4",children:[D.jsx("div",{className:"mb-6 max-w-sm w-full",children:D.jsxs("span",{className:"text-7xl font-bold",children:["ALN",D.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-blue-600 bg-clip-text text-transparent",children:"Motors"})]})}),D.jsxs("form",{className:"bg-white max-w-xl w-full rounded-lg p-4",onSubmit:s(u),children:[D.jsx("div",{className:"mb-3",children:D.jsx(Hi,{type:"email",placeholder:"Digite seu e-mail",name:"email",error:(d=o.email)==null?void 0:d.message,register:r})}),D.jsx("div",{className:"mb-3",children:D.jsx(Hi,{type:"password",placeholder:"Digite sua senha",name:"password",error:(f=o.password)==null?void 0:f.message,register:r})}),D.jsx("button",{className:"bg-blue-300 hover:bg-blue-500 cursor-pointer w-full rounded-md text-white h-10 font-medium flex items-center justify-center",type:"submit",children:t?D.jsx(cd,{}):"Acessar"})]}),D.jsxs("span",{children:["Ainda nao possui uma conta?"," ",D.jsx(Ur,{to:"/register",className:"text-black hover:text-blue-600",children:"Cadastre-se"})]}),D.jsx(Ur,{to:"/reset-password",className:"text-blue-500 text-sm mt-2 hover:underline",children:"Esqueceu a senha?"})]})})}const Nj=Mm({email:ur().email("E-mail invalido").nonempty("E-mail obrigatorio"),password:ur().min(6,"A senha deve ter no minimo 6 caracteres").nonempty("Senha obrigatoria"),name:ur().nonempty("Nome obrigatorio")});function Oj(){var f,m,y;const[t,e]=B.useState(!1),{handleInfoUser:n}=B.useContext(Yo),r=fu(),{register:s,handleSubmit:o,formState:{errors:u}}=km({resolver:Pm(Nj),mode:"onChange"});B.useEffect(()=>{async function b(){await bv(jo)}b()},[]);async function d(b){e(!0),Ek(jo,b.email,b.password).then(async _=>{await Sk(_.user,{displayName:b.name}),n({phone:null,name:b.name,email:b.email,uid:_.user.uid}),Er.success("cadastrado com sucesso"),r("/dashboard",{replace:!0}),e(!1)}).catch(_=>{console.log("Erro ao cadastrar"),console.log(_),e(!1)})}return D.jsx(Qo,{children:D.jsxs("div",{className:"w-full min-h-screen flex justify-center items-center flex-col gap-4",children:[D.jsx("div",{className:"mb-6 max-w-sm w-full",children:D.jsxs("span",{className:"text-7xl font-bold",children:["ALN",D.jsx("span",{className:"bg-gradient-to-r from-blue-400 to-blue-600 bg-clip-text text-transparent",children:"Motors"})]})}),D.jsxs("form",{className:"bg-white max-w-xl w-full rounded-lg p-4",onSubmit:o(d),children:[D.jsx("div",{className:"mb-3",children:D.jsx(Hi,{type:"name",placeholder:"Digite seu nome completo",name:"name",error:(f=u.name)==null?void 0:f.message,register:s})}),D.jsx("div",{className:"mb-3",children:D.jsx(Hi,{type:"email",placeholder:"Digite seu e-mail",name:"email",error:(m=u.email)==null?void 0:m.message,register:s})}),D.jsx("div",{className:"mb-3",children:D.jsx(Hi,{type:"password",placeholder:"Digite sua senha",name:"password",error:(y=u.password)==null?void 0:y.message,register:s})}),D.jsx("button",{className:"bg-blue-300 hover:bg-blue-500 cursor-pointer w-full rounded-md text-white h-10 font-medium flex items-center justify-center",type:"submit",children:t?D.jsx(cd,{}):"Cadastrar"})]}),D.jsxs("p",{children:["Ja possui uma conta? ",D.jsx(Ur,{to:"/login",className:"text-black hover:text-blue-600",children:"Faca login."})]})]})})}function dy({children:t}){const{signed:e,loadingAuth:n}=B.useContext(Yo);return n?D.jsx("div",{}):e?t:D.jsx(j2,{to:"/login"})}const Dj=Mm({name:ur().min(2,"Nome  obrigatrio"),email:ur().email("Email invlido"),phone:ur().min(10,"Telefone deve ter pelo menos 10 dgitos").max(15,"Telefone muito longo").refine(t=>/^\d+$/.test(t),{message:"O telefone deve conter apenas nmeros"}),avatarUrl:ur().optional()});function kj(){const{user:t}=B.useContext(Yo),[e,n]=B.useState(null),[r,s]=B.useState(null),[o,u]=B.useState(null),[d,f]=B.useState(null),[m,y]=B.useState(!1),[b,_]=B.useState(!1),{register:w,handleSubmit:S,setValue:x,formState:{errors:C}}=km({resolver:Pm(Dj)});B.useEffect(()=>{if(!(t!=null&&t.uid))return;async function Y(){const G=iu(Fa(bi,"profiles"),Nm("uid","==",t==null?void 0:t.uid)),U=(await su(G)).docs[0];if(U){const R=U.data();f(U.id),x("name",R.name),x("email",R.email),x("phone",R.phone),u(R.avatarUrl),n({name:R.name,email:R.email,phone:R.phone,avatarUrl:R.avatarUrl})}}Y()},[t,x]);function V(Y){var F;const G=(F=Y.target.files)==null?void 0:F[0];if(G){if(!["image/jpeg","image/png","image/webp"].includes(G.type)){Er.error("Formato de imagem invlido");return}s(G),u(URL.createObjectURL(G))}}async function L(Y){const G=$h(Hh,`avatars/${t==null?void 0:t.uid}/${Y.name}`),F=await Wx(G,Y);return await Zx(F.ref)}async function $(Y){if(t!=null&&t.uid)try{y(!0);let G=o;r&&(G=await L(r));const F={uid:t.uid,name:Y.name,email:Y.email,phone:Y.phone,avatarUrl:G,updated:new Date};if(d){const U=Am(bi,"profiles",d);await JL(U,F),Er.success("Perfil atualizado com sucesso!")}else await Mx(Fa(bi,"profiles"),{...F,created:new Date}),Er.success("Perfil criado com sucesso!");_(!1)}catch(G){console.error("Erro ao salvar perfil:",G),Er.error("Erro ao salvar perfil.")}finally{y(!1)}}return D.jsxs(Qo,{children:[D.jsx(p_,{}),D.jsxs("div",{className:"bg-white p-4 rounded-md max-w-xl mx-auto mt-6 mb-28",children:[D.jsxs("div",{className:"flex justify-between items-center",children:[D.jsx("h1",{className:"text-xl font-bold mb-4",children:b?"Editar Perfil":"Meu Perfil"}),!b&&D.jsx("button",{onClick:()=>_(!0),className:"bg-blue-300 hover:bg-blue-400 text-white px-4 py-1 rounded-md cursor-pointer",children:"Editar"})]}),b?D.jsxs("form",{onSubmit:S($),className:"flex flex-col gap-4",children:[D.jsx("label",{className:"font-medium",children:"Foto de perfil:"}),D.jsxs("div",{className:"flex gap-4",children:[D.jsxs("button",{className:"border-2 w-28 md:w-56  rounded-lg flex items-center justify-center cursor-pointer border-gray-600 h-20 relative group",children:[D.jsx("div",{className:"transition-transform duration-300 group-hover:scale-125",children:m?D.jsx(cd,{}):D.jsx(a1,{size:30,color:"#000"})}),D.jsx("div",{children:D.jsx("input",{type:"file",accept:"image/*",className:"opacity-0 cursor-pointer absolute inset-0",onChange:V})})]}),o&&D.jsx("img",{src:o,alt:"Preview",className:"w-24 h-24 rounded-full object-cover"})]}),D.jsxs("div",{children:[D.jsx("label",{className:"font-medium",children:"Nome:"}),D.jsx("input",{type:"text",...w("name"),className:"w-full border rounded-md px-3 h-10"}),C.name&&D.jsx("p",{className:"text-red-500 text-sm",children:C.name.message})]}),D.jsxs("div",{children:[D.jsx("label",{className:"font-medium",children:"Email:"}),D.jsx("input",{type:"email",...w("email"),className:"w-full border rounded-md px-3 h-10"}),C.email&&D.jsx("p",{className:"text-red-500 text-sm",children:C.email.message})]}),D.jsxs("div",{children:[D.jsx("label",{className:"font-medium",children:"Telefone:"}),D.jsx("input",{type:"text",...w("phone"),className:"w-full border rounded-md px-3 h-10"}),C.phone&&D.jsx("p",{className:"text-red-500 text-sm",children:C.phone.message})]}),D.jsxs("div",{className:"flex justify-between",children:[D.jsx("button",{type:"button",onClick:()=>_(!1),className:"text-sm border border-gray-300 hover:bg-gray-500 cursor-pointer px-4 py-1 rounded",children:"Cancelar"}),D.jsx("button",{type:"submit",className:"bg-blue-300 hover:bg-blue-400 cursor-pointer text-white px-6 py-2 rounded-md font-semibold",disabled:m,children:m?"Salvando...":"Salvar"})]})]}):D.jsxs("div",{className:"space-y-4",children:[o&&D.jsx("img",{src:o,alt:"Avatar",className:"w-24 h-24 rounded-full object-cover mx-auto"}),D.jsxs("p",{children:[D.jsx("strong",{children:"Nome:"})," ",(e==null?void 0:e.name)||D.jsx("i",{children:"No informado"})]}),D.jsxs("p",{children:[D.jsx("strong",{children:"Email:"})," ",(e==null?void 0:e.email)||D.jsx("i",{children:"No informado"})]}),D.jsxs("p",{children:[D.jsx("strong",{children:"Telefone:"})," ",(e==null?void 0:e.phone)||D.jsx("i",{children:"No informado"})]})]})]})]})}function Mj(){const[t,e]=B.useState(""),n=fu();async function r(s){if(s.preventDefault(),!t){Er.error("Por favor, informe um e-mail vlido.");return}try{await bk(jo,t),Er.success("E-mail de redefinio enviado com sucesso!"),n("/login")}catch(o){console.error("Erro ao enviar e-mail de redefinio:",o),o.code==="auth/user-not-found"?Er.error("Usurio no encontrado."):Er.error("Erro ao enviar e-mail de redefinio.")}}return D.jsxs("div",{className:"max-w-md mx-auto mt-20 bg-white p-6 rounded shadow",children:[D.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Redefinir Senha"}),D.jsxs("form",{onSubmit:r,children:[D.jsx("input",{type:"email",placeholder:"Digite seu e-mail",value:t,onChange:s=>e(s.target.value),className:"border w-full p-2 rounded mb-4"}),D.jsx("button",{type:"submit",className:"w-full bg-blue-300  cursor-pointer text-white py-2 rounded hover:bg-blue-600",children:"Enviar e-mail de redefinio"})]})]})}const Pj=dN([{element:D.jsx(y3,{}),children:[{path:"/",element:D.jsx(v3,{})},{path:"/car/:id",element:D.jsx(MU,{})},{path:"/dashboard",element:D.jsx(dy,{children:D.jsx(PU,{})})},{path:"/dashboard/new",element:D.jsx(dy,{children:D.jsx(Cj,{})})},{path:"/dashboard/profile",element:D.jsx(dy,{children:D.jsx(kj,{})})}]},{path:"/login",element:D.jsx(Ij,{})},{path:"/register",element:D.jsx(Oj,{})},{path:"/reset-password",element:D.jsx(Mj,{})}]);hI.createRoot(document.getElementById("root")).render(D.jsxs(B.StrictMode,{children:[D.jsx(Aj,{position:"top-right",reverseOrder:!1}),D.jsx(p3,{children:D.jsx(SN,{router:Pj})})]}));
